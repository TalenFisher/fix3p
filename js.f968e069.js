parcelRequire=function(e,r,t,n){var i,o="function"==typeof parcelRequire&&parcelRequire,u="function"==typeof require&&require;function f(t,n){if(!r[t]){if(!e[t]){var i="function"==typeof parcelRequire&&parcelRequire;if(!n&&i)return i(t,!0);if(o)return o(t,!0);if(u&&"string"==typeof t)return u(t);var c=new Error("Cannot find module '"+t+"'");throw c.code="MODULE_NOT_FOUND",c}p.resolve=function(r){return e[t][1][r]||r},p.cache={};var l=r[t]=new f.Module(t);e[t][0].call(l.exports,p,l,l.exports,this)}return r[t].exports;function p(e){return f(p.resolve(e))}}f.isParcelRequire=!0,f.Module=function(e){this.id=e,this.bundle=f,this.exports={}},f.modules=e,f.cache=r,f.parent=o,f.register=function(r,t){e[r]=[function(e,r){r.exports=t},{}]};for(var c=0;c<t.length;c++)try{f(t[c])}catch(e){i||(i=e)}if(t.length){var l=f(t[t.length-1]);"object"==typeof exports&&"undefined"!=typeof module?module.exports=l:"function"==typeof define&&define.amd?define(function(){return l}):n&&(this[n]=l)}if(parcelRequire=f,i)throw i;return f}({"5qf4":[function(require,module,exports) {

var e=module.exports="undefined"!=typeof window&&window.Math==Math?window:"undefined"!=typeof self&&self.Math==Math?self:Function("return this")();"number"==typeof __g&&(__g=e);
},{}],"ss9A":[function(require,module,exports) {
var e=module.exports={version:"2.6.5"};"number"==typeof __e&&(__e=e);
},{}],"M7z6":[function(require,module,exports) {
module.exports=function(o){return"object"==typeof o?null!==o:"function"==typeof o};
},{}],"eT53":[function(require,module,exports) {
var r=require("./_is-object");module.exports=function(e){if(!r(e))throw TypeError(e+" is not an object!");return e};
},{"./_is-object":"M7z6"}],"5BXi":[function(require,module,exports) {
module.exports=function(r){try{return!!r()}catch(t){return!0}};
},{}],"P9Ib":[function(require,module,exports) {
module.exports=!require("./_fails")(function(){return 7!=Object.defineProperty({},"a",{get:function(){return 7}}).a});
},{"./_fails":"5BXi"}],"/vZ6":[function(require,module,exports) {
var e=require("./_is-object"),r=require("./_global").document,t=e(r)&&e(r.createElement);module.exports=function(e){return t?r.createElement(e):{}};
},{"./_is-object":"M7z6","./_global":"5qf4"}],"/o6G":[function(require,module,exports) {
module.exports=!require("./_descriptors")&&!require("./_fails")(function(){return 7!=Object.defineProperty(require("./_dom-create")("div"),"a",{get:function(){return 7}}).a});
},{"./_descriptors":"P9Ib","./_fails":"5BXi","./_dom-create":"/vZ6"}],"9y37":[function(require,module,exports) {
var t=require("./_is-object");module.exports=function(r,e){if(!t(r))return r;var o,n;if(e&&"function"==typeof(o=r.toString)&&!t(n=o.call(r)))return n;if("function"==typeof(o=r.valueOf)&&!t(n=o.call(r)))return n;if(!e&&"function"==typeof(o=r.toString)&&!t(n=o.call(r)))return n;throw TypeError("Can't convert object to primitive value")};
},{"./_is-object":"M7z6"}],"nw8e":[function(require,module,exports) {
var e=require("./_an-object"),r=require("./_ie8-dom-define"),t=require("./_to-primitive"),i=Object.defineProperty;exports.f=require("./_descriptors")?Object.defineProperty:function(o,n,u){if(e(o),n=t(n,!0),e(u),r)try{return i(o,n,u)}catch(c){}if("get"in u||"set"in u)throw TypeError("Accessors not supported!");return"value"in u&&(o[n]=u.value),o};
},{"./_an-object":"eT53","./_ie8-dom-define":"/o6G","./_to-primitive":"9y37","./_descriptors":"P9Ib"}],"uJ6d":[function(require,module,exports) {
module.exports=function(e,r){return{enumerable:!(1&e),configurable:!(2&e),writable:!(4&e),value:r}};
},{}],"0NXb":[function(require,module,exports) {
var r=require("./_object-dp"),e=require("./_property-desc");module.exports=require("./_descriptors")?function(t,u,o){return r.f(t,u,e(1,o))}:function(r,e,t){return r[e]=t,r};
},{"./_object-dp":"nw8e","./_property-desc":"uJ6d","./_descriptors":"P9Ib"}],"2uHg":[function(require,module,exports) {
var r={}.hasOwnProperty;module.exports=function(e,n){return r.call(e,n)};
},{}],"U49f":[function(require,module,exports) {
var o=0,t=Math.random();module.exports=function(n){return"Symbol(".concat(void 0===n?"":n,")_",(++o+t).toString(36))};
},{}],"H21C":[function(require,module,exports) {
module.exports=!1;
},{}],"6zGc":[function(require,module,exports) {

var r=require("./_core"),e=require("./_global"),o="__core-js_shared__",i=e[o]||(e[o]={});(module.exports=function(r,e){return i[r]||(i[r]=void 0!==e?e:{})})("versions",[]).push({version:r.version,mode:require("./_library")?"pure":"global",copyright:"Â© 2019 Denis Pushkarev (zloirock.ru)"});
},{"./_core":"ss9A","./_global":"5qf4","./_library":"H21C"}],"d5RU":[function(require,module,exports) {
module.exports=require("./_shared")("native-function-to-string",Function.toString);
},{"./_shared":"6zGc"}],"PHot":[function(require,module,exports) {

var e=require("./_global"),r=require("./_hide"),t=require("./_has"),i=require("./_uid")("src"),n=require("./_function-to-string"),o="toString",u=(""+n).split(o);require("./_core").inspectSource=function(e){return n.call(e)},(module.exports=function(n,o,c,l){var s="function"==typeof c;s&&(t(c,"name")||r(c,"name",o)),n[o]!==c&&(s&&(t(c,i)||r(c,i,n[o]?""+n[o]:u.join(String(o)))),n===e?n[o]=c:l?n[o]?n[o]=c:r(n,o,c):(delete n[o],r(n,o,c)))})(Function.prototype,o,function(){return"function"==typeof this&&this[i]||n.call(this)});
},{"./_global":"5qf4","./_hide":"0NXb","./_has":"2uHg","./_uid":"U49f","./_function-to-string":"d5RU","./_core":"ss9A"}],"6kYj":[function(require,module,exports) {
module.exports=function(o){if("function"!=typeof o)throw TypeError(o+" is not a function!");return o};
},{}],"E3Kh":[function(require,module,exports) {
var r=require("./_a-function");module.exports=function(n,t,u){if(r(n),void 0===t)return n;switch(u){case 1:return function(r){return n.call(t,r)};case 2:return function(r,u){return n.call(t,r,u)};case 3:return function(r,u,e){return n.call(t,r,u,e)}}return function(){return n.apply(t,arguments)}};
},{"./_a-function":"6kYj"}],"izCb":[function(require,module,exports) {

var e=require("./_global"),r=require("./_core"),o=require("./_hide"),i=require("./_redefine"),u=require("./_ctx"),n="prototype",t=function(c,f,l){var q,_,a,d,p=c&t.F,v=c&t.G,F=c&t.S,x=c&t.P,y=c&t.B,B=v?e:F?e[f]||(e[f]={}):(e[f]||{})[n],G=v?r:r[f]||(r[f]={}),P=G[n]||(G[n]={});for(q in v&&(l=f),l)a=((_=!p&&B&&void 0!==B[q])?B:l)[q],d=y&&_?u(a,e):x&&"function"==typeof a?u(Function.call,a):a,B&&i(B,q,a,c&t.U),G[q]!=a&&o(G,q,d),x&&P[q]!=a&&(P[q]=a)};e.core=r,t.F=1,t.G=2,t.S=4,t.P=8,t.B=16,t.W=32,t.U=64,t.R=128,module.exports=t;
},{"./_global":"5qf4","./_core":"ss9A","./_hide":"0NXb","./_redefine":"PHot","./_ctx":"E3Kh"}],"O5uh":[function(require,module,exports) {

var e=require("./_global"),r=e.navigator;module.exports=r&&r.userAgent||"";
},{"./_global":"5qf4"}],"OTsy":[function(require,module,exports) {

var e=require("./_global"),t=require("./_export"),n=require("./_user-agent"),r=[].slice,u=/MSIE .\./.test(n),i=function(e){return function(t,n){var u=arguments.length>2,i=!!u&&r.call(arguments,2);return e(u?function(){("function"==typeof t?t:Function(t)).apply(this,i)}:t,n)}};t(t.G+t.B+t.F*u,{setTimeout:i(e.setTimeout),setInterval:i(e.setInterval)});
},{"./_global":"5qf4","./_export":"izCb","./_user-agent":"O5uh"}],"xcbV":[function(require,module,exports) {
module.exports=function(e,r,l){var a=void 0===l;switch(r.length){case 0:return a?e():e.call(l);case 1:return a?e(r[0]):e.call(l,r[0]);case 2:return a?e(r[0],r[1]):e.call(l,r[0],r[1]);case 3:return a?e(r[0],r[1],r[2]):e.call(l,r[0],r[1],r[2]);case 4:return a?e(r[0],r[1],r[2],r[3]):e.call(l,r[0],r[1],r[2],r[3])}return e.apply(l,r)};
},{}],"xj/b":[function(require,module,exports) {
var e=require("./_global").document;module.exports=e&&e.documentElement;
},{"./_global":"5qf4"}],"Z5df":[function(require,module,exports) {
var r={}.toString;module.exports=function(t){return r.call(t).slice(8,-1)};
},{}],"KY9y":[function(require,module,exports) {


var e,t,n,i=require("./_ctx"),o=require("./_invoke"),r=require("./_html"),s=require("./_dom-create"),a=require("./_global"),c=a.process,u=a.setImmediate,p=a.clearImmediate,f=a.MessageChannel,l=a.Dispatch,d=0,m={},h="onreadystatechange",g=function(){var e=+this;if(m.hasOwnProperty(e)){var t=m[e];delete m[e],t()}},v=function(e){g.call(e.data)};u&&p||(u=function(t){for(var n=[],i=1;arguments.length>i;)n.push(arguments[i++]);return m[++d]=function(){o("function"==typeof t?t:Function(t),n)},e(d),d},p=function(e){delete m[e]},"process"==require("./_cof")(c)?e=function(e){c.nextTick(i(g,e,1))}:l&&l.now?e=function(e){l.now(i(g,e,1))}:f?(n=(t=new f).port2,t.port1.onmessage=v,e=i(n.postMessage,n,1)):a.addEventListener&&"function"==typeof postMessage&&!a.importScripts?(e=function(e){a.postMessage(e+"","*")},a.addEventListener("message",v,!1)):e=h in s("script")?function(e){r.appendChild(s("script"))[h]=function(){r.removeChild(this),g.call(e)}}:function(e){setTimeout(i(g,e,1),0)}),module.exports={set:u,clear:p};
},{"./_ctx":"E3Kh","./_invoke":"xcbV","./_html":"xj/b","./_dom-create":"/vZ6","./_global":"5qf4","./_cof":"Z5df"}],"5hZL":[function(require,module,exports) {
var e=require("./_export"),r=require("./_task");e(e.G+e.B,{setImmediate:r.set,clearImmediate:r.clear});
},{"./_export":"izCb","./_task":"KY9y"}],"44AI":[function(require,module,exports) {
var e=require("./_shared")("wks"),r=require("./_uid"),o=require("./_global").Symbol,u="function"==typeof o,i=module.exports=function(i){return e[i]||(e[i]=u&&o[i]||(u?o:r)("Symbol."+i))};i.store=e;
},{"./_shared":"6zGc","./_uid":"U49f","./_global":"5qf4"}],"Z7e/":[function(require,module,exports) {
var e=require("./_wks")("unscopables"),r=Array.prototype;null==r[e]&&require("./_hide")(r,e,{}),module.exports=function(o){r[e][o]=!0};
},{"./_wks":"44AI","./_hide":"0NXb"}],"x8b3":[function(require,module,exports) {
module.exports=function(e,n){return{value:n,done:!!e}};
},{}],"JO4d":[function(require,module,exports) {
module.exports={};
},{}],"nGau":[function(require,module,exports) {
var e=require("./_cof");module.exports=Object("z").propertyIsEnumerable(0)?Object:function(r){return"String"==e(r)?r.split(""):Object(r)};
},{"./_cof":"Z5df"}],"+Bjj":[function(require,module,exports) {
module.exports=function(o){if(null==o)throw TypeError("Can't call method on  "+o);return o};
},{}],"g6sb":[function(require,module,exports) {
var e=require("./_iobject"),r=require("./_defined");module.exports=function(i){return e(r(i))};
},{"./_iobject":"nGau","./_defined":"+Bjj"}],"yjVO":[function(require,module,exports) {
var o=Math.ceil,r=Math.floor;module.exports=function(t){return isNaN(t=+t)?0:(t>0?r:o)(t)};
},{}],"dJBs":[function(require,module,exports) {
var e=require("./_to-integer"),r=Math.min;module.exports=function(t){return t>0?r(e(t),9007199254740991):0};
},{"./_to-integer":"yjVO"}],"vfEH":[function(require,module,exports) {
var e=require("./_to-integer"),r=Math.max,t=Math.min;module.exports=function(n,a){return(n=e(n))<0?r(n+a,0):t(n,a)};
},{"./_to-integer":"yjVO"}],"4Ca7":[function(require,module,exports) {
var e=require("./_to-iobject"),r=require("./_to-length"),t=require("./_to-absolute-index");module.exports=function(n){return function(i,o,u){var f,l=e(i),a=r(l.length),c=t(u,a);if(n&&o!=o){for(;a>c;)if((f=l[c++])!=f)return!0}else for(;a>c;c++)if((n||c in l)&&l[c]===o)return n||c||0;return!n&&-1}};
},{"./_to-iobject":"g6sb","./_to-length":"dJBs","./_to-absolute-index":"vfEH"}],"NaGB":[function(require,module,exports) {
var e=require("./_shared")("keys"),r=require("./_uid");module.exports=function(u){return e[u]||(e[u]=r(u))};
},{"./_shared":"6zGc","./_uid":"U49f"}],"vL0Z":[function(require,module,exports) {
var r=require("./_has"),e=require("./_to-iobject"),u=require("./_array-includes")(!1),i=require("./_shared-key")("IE_PROTO");module.exports=function(o,a){var n,s=e(o),t=0,h=[];for(n in s)n!=i&&r(s,n)&&h.push(n);for(;a.length>t;)r(s,n=a[t++])&&(~u(h,n)||h.push(n));return h};
},{"./_has":"2uHg","./_to-iobject":"g6sb","./_array-includes":"4Ca7","./_shared-key":"NaGB"}],"9bbv":[function(require,module,exports) {
module.exports="constructor,hasOwnProperty,isPrototypeOf,propertyIsEnumerable,toLocaleString,toString,valueOf".split(",");
},{}],"U9a7":[function(require,module,exports) {
var e=require("./_object-keys-internal"),r=require("./_enum-bug-keys");module.exports=Object.keys||function(u){return e(u,r)};
},{"./_object-keys-internal":"vL0Z","./_enum-bug-keys":"9bbv"}],"MiMz":[function(require,module,exports) {
var e=require("./_object-dp"),r=require("./_an-object"),t=require("./_object-keys");module.exports=require("./_descriptors")?Object.defineProperties:function(o,i){r(o);for(var u,c=t(i),n=c.length,s=0;n>s;)e.f(o,u=c[s++],i[u]);return o};
},{"./_object-dp":"nw8e","./_an-object":"eT53","./_object-keys":"U9a7","./_descriptors":"P9Ib"}],"sYaK":[function(require,module,exports) {
var e=require("./_an-object"),r=require("./_object-dps"),t=require("./_enum-bug-keys"),n=require("./_shared-key")("IE_PROTO"),o=function(){},i="prototype",u=function(){var e,r=require("./_dom-create")("iframe"),n=t.length;for(r.style.display="none",require("./_html").appendChild(r),r.src="javascript:",(e=r.contentWindow.document).open(),e.write("<script>document.F=Object<\/script>"),e.close(),u=e.F;n--;)delete u[i][t[n]];return u()};module.exports=Object.create||function(t,c){var a;return null!==t?(o[i]=e(t),a=new o,o[i]=null,a[n]=t):a=u(),void 0===c?a:r(a,c)};
},{"./_an-object":"eT53","./_object-dps":"MiMz","./_enum-bug-keys":"9bbv","./_shared-key":"NaGB","./_dom-create":"/vZ6","./_html":"xj/b"}],"rq3q":[function(require,module,exports) {
var e=require("./_object-dp").f,r=require("./_has"),o=require("./_wks")("toStringTag");module.exports=function(t,u,i){t&&!r(t=i?t:t.prototype,o)&&e(t,o,{configurable:!0,value:u})};
},{"./_object-dp":"nw8e","./_has":"2uHg","./_wks":"44AI"}],"ebgP":[function(require,module,exports) {
"use strict";var e=require("./_object-create"),r=require("./_property-desc"),t=require("./_set-to-string-tag"),i={};require("./_hide")(i,require("./_wks")("iterator"),function(){return this}),module.exports=function(o,u,s){o.prototype=e(i,{next:r(1,s)}),t(o,u+" Iterator")};
},{"./_object-create":"sYaK","./_property-desc":"uJ6d","./_set-to-string-tag":"rq3q","./_hide":"0NXb","./_wks":"44AI"}],"rfVX":[function(require,module,exports) {
var e=require("./_defined");module.exports=function(r){return Object(e(r))};
},{"./_defined":"+Bjj"}],"8q6y":[function(require,module,exports) {
var t=require("./_has"),e=require("./_to-object"),o=require("./_shared-key")("IE_PROTO"),r=Object.prototype;module.exports=Object.getPrototypeOf||function(c){return c=e(c),t(c,o)?c[o]:"function"==typeof c.constructor&&c instanceof c.constructor?c.constructor.prototype:c instanceof Object?r:null};
},{"./_has":"2uHg","./_to-object":"rfVX","./_shared-key":"NaGB"}],"mH0U":[function(require,module,exports) {
"use strict";var e=require("./_library"),r=require("./_export"),t=require("./_redefine"),i=require("./_hide"),n=require("./_iterators"),u=require("./_iter-create"),o=require("./_set-to-string-tag"),s=require("./_object-gpo"),a=require("./_wks")("iterator"),c=!([].keys&&"next"in[].keys()),f="@@iterator",l="keys",q="values",y=function(){return this};module.exports=function(_,p,h,k,v,w,d){u(h,p,k);var x,b,g,j=function(e){if(!c&&e in I)return I[e];switch(e){case l:case q:return function(){return new h(this,e)}}return function(){return new h(this,e)}},m=p+" Iterator",A=v==q,F=!1,I=_.prototype,O=I[a]||I[f]||v&&I[v],P=O||j(v),z=v?A?j("entries"):P:void 0,B="Array"==p&&I.entries||O;if(B&&(g=s(B.call(new _)))!==Object.prototype&&g.next&&(o(g,m,!0),e||"function"==typeof g[a]||i(g,a,y)),A&&O&&O.name!==q&&(F=!0,P=function(){return O.call(this)}),e&&!d||!c&&!F&&I[a]||i(I,a,P),n[p]=P,n[m]=y,v)if(x={values:A?P:j(q),keys:w?P:j(l),entries:z},d)for(b in x)b in I||t(I,b,x[b]);else r(r.P+r.F*(c||F),p,x);return x};
},{"./_library":"H21C","./_export":"izCb","./_redefine":"PHot","./_hide":"0NXb","./_iterators":"JO4d","./_iter-create":"ebgP","./_set-to-string-tag":"rq3q","./_object-gpo":"8q6y","./_wks":"44AI"}],"6w+v":[function(require,module,exports) {
"use strict";var e=require("./_add-to-unscopables"),r=require("./_iter-step"),t=require("./_iterators"),i=require("./_to-iobject");module.exports=require("./_iter-define")(Array,"Array",function(e,r){this._t=i(e),this._i=0,this._k=r},function(){var e=this._t,t=this._k,i=this._i++;return!e||i>=e.length?(this._t=void 0,r(1)):r(0,"keys"==t?i:"values"==t?e[i]:[i,e[i]])},"values"),t.Arguments=t.Array,e("keys"),e("values"),e("entries");
},{"./_add-to-unscopables":"Z7e/","./_iter-step":"x8b3","./_iterators":"JO4d","./_to-iobject":"g6sb","./_iter-define":"mH0U"}],"v6Aj":[function(require,module,exports) {

for(var e=require("./es6.array.iterator"),t=require("./_object-keys"),i=require("./_redefine"),r=require("./_global"),s=require("./_hide"),L=require("./_iterators"),a=require("./_wks"),o=a("iterator"),l=a("toStringTag"),S=L.Array,n={CSSRuleList:!0,CSSStyleDeclaration:!1,CSSValueList:!1,ClientRectList:!1,DOMRectList:!1,DOMStringList:!1,DOMTokenList:!0,DataTransferItemList:!1,FileList:!1,HTMLAllCollection:!1,HTMLCollection:!1,HTMLFormElement:!1,HTMLSelectElement:!1,MediaList:!0,MimeTypeArray:!1,NamedNodeMap:!1,NodeList:!0,PaintRequestList:!1,Plugin:!1,PluginArray:!1,SVGLengthList:!1,SVGNumberList:!1,SVGPathSegList:!1,SVGPointList:!1,SVGStringList:!1,SVGTransformList:!1,SourceBufferList:!1,StyleSheetList:!0,TextTrackCueList:!1,TextTrackList:!1,TouchList:!1},u=t(n),T=0;T<u.length;T++){var c,g=u[T],M=n[g],y=r[g],f=y&&y.prototype;if(f&&(f[o]||s(f,o,S),f[l]||s(f,l,g),L[g]=S,M))for(c in e)f[c]||i(f,c,e[c],!0)}
},{"./es6.array.iterator":"6w+v","./_object-keys":"U9a7","./_redefine":"PHot","./_global":"5qf4","./_hide":"0NXb","./_iterators":"JO4d","./_wks":"44AI"}],"8bvO":[function(require,module,exports) {
var global = arguments[3];
var define;
var t,e=arguments[3];(function(){"use strict";var t,n="undefined"!=typeof window&&window===this?this:void 0!==e&&null!=e?e:this,o="function"==typeof Object.defineProperties?Object.defineProperty:function(t,e,n){t!=Array.prototype&&t!=Object.prototype&&(t[e]=n.value)};function r(){r=function(){},n.Symbol||(n.Symbol=s)}var i,a,s=(i=0,function(t){return"jscomp_symbol_"+(t||"")+i++});function l(){r();var t=n.Symbol.iterator;t||(t=n.Symbol.iterator=n.Symbol("iterator")),"function"!=typeof Array.prototype[t]&&o(Array.prototype,t,{configurable:!0,writable:!0,value:function(){return c(this)}}),l=function(){}}function c(t){var e=0;return function(t){return l(),(t={next:t})[n.Symbol.iterator]=function(){return this},t}(function(){return e<t.length?{done:!1,value:t[e++]}:{done:!0}})}function u(t){l();var e=t[Symbol.iterator];return e?e.call(t):c(t)}function h(t){for(var e,n=[];!(e=t.next()).done;)n.push(e.value);return n}if("function"==typeof Object.setPrototypeOf)a=Object.setPrototypeOf;else{var d;t:{var f={};try{f.__proto__={Ga:!0},d=f.Ga;break t}catch(i){}d=!1}a=d?function(t,e){if(t.__proto__=e,t.__proto__!==e)throw new TypeError(t+" is not extensible");return t}:null}var p=a;function _(){this.f=!1,this.b=null,this.aa=void 0,this.a=1,this.F=0,this.c=null}function m(t){if(t.f)throw new TypeError("Generator is already running");t.f=!0}function v(t,e){t.c={Ja:e,Na:!0},t.a=t.F}function y(t,e){return t.a=3,{value:e}}function g(t){this.a=new _,this.b=t}function b(t,e,n,o){try{var r=e.call(t.a.b,n);if(!(r instanceof Object))throw new TypeError("Iterator result "+r+" is not an object");if(!r.done)return t.a.f=!1,r;var i=r.value}catch(a){return t.a.b=null,v(t.a,a),w(t)}return t.a.b=null,o.call(t.a,i),w(t)}function w(t){for(;t.a.a;)try{var e=t.b(t.a);if(e)return t.a.f=!1,{value:e.value,done:!1}}catch(n){t.a.aa=void 0,v(t.a,n)}if(t.a.f=!1,t.a.c){if(e=t.a.c,t.a.c=null,e.Na)throw e.Ja;return{value:e.return,done:!0}}return{value:void 0,done:!0}}function E(t){this.next=function(e){return m(t.a),t.a.b?e=b(t,t.a.b.next,e,t.a.u):(t.a.u(e),e=w(t)),e},this.throw=function(e){return m(t.a),t.a.b?e=b(t,t.a.b.throw,e,t.a.u):(v(t.a,e),e=w(t)),e},this.return=function(e){return function(t,e){m(t.a);var n=t.a.b;return n?b(t,"return"in n?n.return:function(t){return{value:t,done:!0}},e,t.a.return):(t.a.return(e),w(t))}(t,e)},l(),this[Symbol.iterator]=function(){return this}}function N(t,e){return e=new E(new g(e)),p&&p(e,t.prototype),e}_.prototype.u=function(t){this.aa=t},_.prototype.return=function(t){this.c={return:t},this.a=this.F},function(){if(!function(){var t=document.createEvent("Event");return t.initEvent("foo",!0,!0),t.preventDefault(),t.defaultPrevented}()){var t=Event.prototype.preventDefault;Event.prototype.preventDefault=function(){this.cancelable&&(t.call(this),Object.defineProperty(this,"defaultPrevented",{get:function(){return!0},configurable:!0}))}}var e=/Trident/.test(navigator.userAgent);if(!window.Event||e&&"function"!=typeof window.Event){var n=window.Event;if(window.Event=function(t,e){e=e||{};var n=document.createEvent("Event");return n.initEvent(t,!!e.bubbles,!!e.cancelable),n},n){for(var o in n)window.Event[o]=n[o];window.Event.prototype=n.prototype}}if((!window.CustomEvent||e&&"function"!=typeof window.CustomEvent)&&(window.CustomEvent=function(t,e){e=e||{};var n=document.createEvent("CustomEvent");return n.initCustomEvent(t,!!e.bubbles,!!e.cancelable,e.detail),n},window.CustomEvent.prototype=window.Event.prototype),!window.MouseEvent||e&&"function"!=typeof window.MouseEvent){if(e=window.MouseEvent,window.MouseEvent=function(t,e){e=e||{};var n=document.createEvent("MouseEvent");return n.initMouseEvent(t,!!e.bubbles,!!e.cancelable,e.view||window,e.detail,e.screenX,e.screenY,e.clientX,e.clientY,e.ctrlKey,e.altKey,e.shiftKey,e.metaKey,e.button,e.relatedTarget),n},e)for(o in e)window.MouseEvent[o]=e[o];window.MouseEvent.prototype=e.prototype}Array.from||(Array.from=function(t){return[].slice.call(t)}),Object.assign||(Object.assign=function(t,e){for(var n,o=[].slice.call(arguments,1),r=0;r<o.length;r++)if(n=o[r])for(var i=t,a=n,s=Object.getOwnPropertyNames(a),l=0;l<s.length;l++)i[n=s[l]]=a[n];return t})}(),function(){function t(){}function e(t,e){if(!t.childNodes.length)return[];switch(t.nodeType){case Node.DOCUMENT_NODE:return _.call(t,e);case Node.DOCUMENT_FRAGMENT_NODE:return m.call(t,e);default:return p.call(t,e)}}var n="undefined"==typeof HTMLTemplateElement,o=!(document.createDocumentFragment().cloneNode()instanceof DocumentFragment),r=!1;/Trident/.test(navigator.userAgent)&&function(){function t(t,e){if(t instanceof DocumentFragment)for(var o;o=t.firstChild;)n.call(this,o,e);else n.call(this,t,e);return t}r=!0;var e=Node.prototype.cloneNode;Node.prototype.cloneNode=function(t){return t=e.call(this,t),this instanceof DocumentFragment&&(t.__proto__=DocumentFragment.prototype),t},DocumentFragment.prototype.querySelectorAll=HTMLElement.prototype.querySelectorAll,DocumentFragment.prototype.querySelector=HTMLElement.prototype.querySelector,Object.defineProperties(DocumentFragment.prototype,{nodeType:{get:function(){return Node.DOCUMENT_FRAGMENT_NODE},configurable:!0},localName:{get:function(){},configurable:!0},nodeName:{get:function(){return"#document-fragment"},configurable:!0}});var n=Node.prototype.insertBefore;Node.prototype.insertBefore=t;var o=Node.prototype.appendChild;Node.prototype.appendChild=function(e){return e instanceof DocumentFragment?t.call(this,e,null):o.call(this,e),e};var i=Node.prototype.removeChild,a=Node.prototype.replaceChild;Node.prototype.replaceChild=function(e,n){return e instanceof DocumentFragment?(t.call(this,e,n),i.call(this,n)):a.call(this,e,n),n},Document.prototype.createDocumentFragment=function(){var t=this.createElement("df");return t.__proto__=DocumentFragment.prototype,t};var s=Document.prototype.importNode;Document.prototype.importNode=function(t,e){return e=s.call(this,t,e||!1),t instanceof DocumentFragment&&(e.__proto__=DocumentFragment.prototype),e}}();var i=Node.prototype.cloneNode,a=Document.prototype.createElement,s=Document.prototype.importNode,l=Node.prototype.removeChild,c=Node.prototype.appendChild,u=Node.prototype.replaceChild,h=DOMParser.prototype.parseFromString,d=Object.getOwnPropertyDescriptor(window.HTMLElement.prototype,"innerHTML")||{get:function(){return this.innerHTML},set:function(t){this.innerHTML=t}},f=Object.getOwnPropertyDescriptor(window.Node.prototype,"childNodes")||{get:function(){return this.childNodes}},p=Element.prototype.querySelectorAll,_=Document.prototype.querySelectorAll,m=DocumentFragment.prototype.querySelectorAll,v=function(){if(!n){var t=document.createElement("template"),e=document.createElement("template");return e.content.appendChild(document.createElement("div")),t.content.appendChild(e),0===(t=t.cloneNode(!0)).content.childNodes.length||0===t.content.firstChild.content.childNodes.length||o}}();if(n){var y=document.implementation.createHTMLDocument("template"),g=!0,b=document.createElement("style");b.textContent="template{display:none;}";var w=document.head;w.insertBefore(b,w.firstElementChild),t.prototype=Object.create(HTMLElement.prototype);var E=!document.createElement("div").hasOwnProperty("innerHTML");t.S=function(e){if(!e.content&&e.namespaceURI===document.documentElement.namespaceURI){e.content=y.createDocumentFragment();for(var n;n=e.firstChild;)c.call(e.content,n);if(E)e.__proto__=t.prototype;else if(e.cloneNode=function(e){return t.b(this,e)},g)try{C(e),S(e)}catch(o){g=!1}t.a(e.content)}};var N={option:["select"],thead:["table"],col:["colgroup","table"],tr:["tbody","table"],th:["tr","tbody","table"],td:["tr","tbody","table"]},C=function(e){Object.defineProperty(e,"innerHTML",{get:function(){return L(this)},set:function(e){var n=N[(/<([a-z][^\/\0>\x20\t\r\n\f]+)/i.exec(e)||["",""])[1].toLowerCase()];if(n)for(var o=0;o<n.length;o++)e="<"+n[o]+">"+e+"</"+n[o]+">";for(y.body.innerHTML=e,t.a(y);this.content.firstChild;)l.call(this.content,this.content.firstChild);if(e=y.body,n)for(o=0;o<n.length;o++)e=e.lastChild;for(;e.firstChild;)c.call(this.content,e.firstChild)},configurable:!0})},S=function(t){Object.defineProperty(t,"outerHTML",{get:function(){return"<template>"+this.innerHTML+"</template>"},set:function(t){if(!this.parentNode)throw Error("Failed to set the 'outerHTML' property on 'Element': This element has no parent node.");for(y.body.innerHTML=t,t=this.ownerDocument.createDocumentFragment();y.body.firstChild;)c.call(t,y.body.firstChild);u.call(this.parentNode,t,this)},configurable:!0})};C(t.prototype),S(t.prototype),t.a=function(n){for(var o,r=0,i=(n=e(n,"template")).length;r<i&&(o=n[r]);r++)t.S(o)},document.addEventListener("DOMContentLoaded",function(){t.a(document)}),Document.prototype.createElement=function(){var e=a.apply(this,arguments);return"template"===e.localName&&t.S(e),e},DOMParser.prototype.parseFromString=function(){var e=h.apply(this,arguments);return t.a(e),e},Object.defineProperty(HTMLElement.prototype,"innerHTML",{get:function(){return L(this)},set:function(e){d.set.call(this,e),t.a(this)},configurable:!0,enumerable:!0});var T=/[&\u00A0"]/g,O=/[&\u00A0<>]/g,D=function(t){switch(t){case"&":return"&amp;";case"<":return"&lt;";case">":return"&gt;";case'"':return"&quot;";case"Â ":return"&nbsp;"}},x=(b=function(t){for(var e={},n=0;n<t.length;n++)e[t[n]]=!0;return e})("area base br col command embed hr img input keygen link meta param source track wbr".split(" ")),M=b("style script xmp iframe noembed noframes plaintext noscript".split(" ")),L=function(t,e){"template"===t.localName&&(t=t.content);for(var n,o="",r=e?e(t):f.get.call(t),i=0,a=r.length;i<a&&(n=r[i]);i++){t:{var s=n,l=t,c=e;switch(s.nodeType){case Node.ELEMENT_NODE:for(var u=s.localName,h="<"+u,d=s.attributes,p=0;l=d[p];p++)h+=" "+l.name+'="'+l.value.replace(T,D)+'"';h+=">",s=x[u]?h:h+L(s,c)+"</"+u+">";break t;case Node.TEXT_NODE:s=s.data,s=l&&M[l.localName]?s:s.replace(O,D);break t;case Node.COMMENT_NODE:s="\x3c!--"+s.data+"--\x3e";break t;default:throw window.console.error(s),Error("not implemented")}}o+=s}return o}}if(n||v){t.b=function(t,e){var n=i.call(t,!1);return this.S&&this.S(n),e&&(c.call(n.content,i.call(t.content,!0)),A(n.content,t.content)),n};var A=function(n,o){if(o.querySelectorAll&&0!==(o=e(o,"template")).length)for(var r,i,a=0,s=(n=e(n,"template")).length;a<s;a++)i=o[a],r=n[a],t&&t.S&&t.S(i),u.call(r.parentNode,P.call(i,!0),r)},P=Node.prototype.cloneNode=function(e){if(!r&&o&&this instanceof DocumentFragment){if(!e)return this.ownerDocument.createDocumentFragment();var n=j.call(this.ownerDocument,this,!0)}else n=this.nodeType===Node.ELEMENT_NODE&&"template"===this.localName&&this.namespaceURI==document.documentElement.namespaceURI?t.b(this,e):i.call(this,e);return e&&A(n,this),n},j=Document.prototype.importNode=function(n,o){if(o=o||!1,"template"===n.localName)return t.b(n,o);var r=s.call(this,n,o);if(o){A(r,n),n=e(r,'script:not([type]),script[type="application/javascript"],script[type="text/javascript"]');for(var i,l=0;l<n.length;l++){i=n[l],(o=a.call(document,"script")).textContent=i.textContent;for(var c,h=i.attributes,d=0;d<h.length;d++)c=h[d],o.setAttribute(c.name,c.value);u.call(i.parentNode,o,i)}}return r}}n&&(window.HTMLTemplateElement=t)}();var C=setTimeout;function S(){}function T(t){if(!(this instanceof T))throw new TypeError("Promises must be constructed via new");if("function"!=typeof t)throw new TypeError("not a function");this.I=0,this.oa=!1,this.w=void 0,this.U=[],A(t,this)}function O(t,e){for(;3===t.I;)t=t.w;0===t.I?t.U.push(e):(t.oa=!0,P(function(){var n=1===t.I?e.Pa:e.Qa;if(null===n)(1===t.I?D:x)(e.ma,t.w);else{try{var o=n(t.w)}catch(r){return void x(e.ma,r)}D(e.ma,o)}}))}function D(t,e){try{if(e===t)throw new TypeError("A promise cannot be resolved with itself.");if(e&&("object"==typeof e||"function"==typeof e)){var n=e.then;if(e instanceof T)return t.I=3,t.w=e,void M(t);if("function"==typeof n)return void A(function(t,e){return function(){t.apply(e,arguments)}}(n,e),t)}t.I=1,t.w=e,M(t)}catch(o){x(t,o)}}function x(t,e){t.I=2,t.w=e,M(t)}function M(t){2===t.I&&0===t.U.length&&P(function(){t.oa||"undefined"!=typeof console&&console&&console.warn("Possible Unhandled Promise Rejection:",t.w)});for(var e=0,n=t.U.length;e<n;e++)O(t,t.U[e]);t.U=null}function L(t,e,n){this.Pa="function"==typeof t?t:null,this.Qa="function"==typeof e?e:null,this.ma=n}function A(t,e){var n=!1;try{t(function(t){n||(n=!0,D(e,t))},function(t){n||(n=!0,x(e,t))})}catch(o){n||(n=!0,x(e,o))}}T.prototype.catch=function(t){return this.then(null,t)},T.prototype.then=function(t,e){var n=new this.constructor(S);return O(this,new L(t,e,n)),n},T.prototype.finally=function(t){var e=this.constructor;return this.then(function(n){return e.resolve(t()).then(function(){return n})},function(n){return e.resolve(t()).then(function(){return e.reject(n)})})};var P="function"==typeof setImmediate&&function(t){setImmediate(t)}||function(t){C(t,0)};if(!window.Promise){window.Promise=T,T.prototype.then=T.prototype.then,T.all=function(t){return new T(function(e,n){function o(t,a){try{if(a&&("object"==typeof a||"function"==typeof a)){var s=a.then;if("function"==typeof s)return void s.call(a,function(e){o(t,e)},n)}r[t]=a,0==--i&&e(r)}catch(l){n(l)}}if(!t||void 0===t.length)throw new TypeError("Promise.all accepts an array");var r=Array.prototype.slice.call(t);if(0===r.length)return e([]);for(var i=r.length,a=0;a<r.length;a++)o(a,r[a])})},T.race=function(t){return new T(function(e,n){for(var o=0,r=t.length;o<r;o++)t[o].then(e,n)})},T.resolve=function(t){return t&&"object"==typeof t&&t.constructor===T?t:new T(function(e){e(t)})},T.reject=function(t){return new T(function(e,n){n(t)})};var j=document.createTextNode(""),k=[];new MutationObserver(function(){for(var t=k.length,e=0;e<t;e++)k[e]();k.splice(0,t)}).observe(j,{characterData:!0}),P=function(t){k.push(t),j.textContent=0<j.textContent.length?"":"a"}}!function(t,n){if(!(n in t)){var o=typeof e==typeof o?window:e,r=0,i=""+Math.random(),a="__symbol@@"+i,s=t.getOwnPropertyNames,l=t.getOwnPropertyDescriptor,c=t.create,u=t.keys,h=t.freeze||t,d=t.defineProperty,f=t.defineProperties,p=l(t,"getOwnPropertyNames"),_=t.prototype,m=_.hasOwnProperty,v=_.propertyIsEnumerable,y=_.toString,g=function(t,e,n){m.call(t,a)||d(t,a,{enumerable:!1,configurable:!1,writable:!1,value:{}}),t[a]["@@"+e]=n},b=function(){},w=function(t){return t!=a&&!m.call(T,t)},E=function(t){return t!=a&&m.call(T,t)},N=function(t){var e=""+t;return E(e)?m.call(this,e)&&this[a]["@@"+e]:v.call(this,t)},C=function(e){return d(_,e,{enumerable:!1,configurable:!0,get:b,set:function(t){L(this,e,{enumerable:!1,configurable:!0,writable:!0,value:t}),g(this,e,!0)}}),h(T[e]=d(t(e),"constructor",O))},S=function(t){if(this&&this!==o)throw new TypeError("Symbol is not a constructor");return C("__symbol:".concat(t||"",i,++r))},T=c(null),O={value:S},D=function(t){return T[t]},x=function(t,e,n){var o=""+e;if(E(o)){if(e=L,n.enumerable){var r=c(n);r.enumerable=!1}else r=n;e(t,o,r),g(t,o,!!n.enumerable)}else d(t,e,n);return t},M=function(t){return s(t).filter(E).map(D)};p.value=x,d(t,"defineProperty",p),p.value=M,d(t,n,p),p.value=function(t){return s(t).filter(w)},d(t,"getOwnPropertyNames",p),p.value=function(t,e){var n=M(e);return n.length?u(e).concat(n).forEach(function(n){N.call(e,n)&&x(t,n,e[n])}):f(t,e),t},d(t,"defineProperties",p),p.value=N,d(_,"propertyIsEnumerable",p),p.value=S,d(o,"Symbol",p),p.value=function(t){return(t="__symbol:".concat("__symbol:",t,i))in _?T[t]:C(t)},d(S,"for",p),p.value=function(t){if(w(t))throw new TypeError(t+" is not a symbol");return m.call(T,t)?t.slice(20,-i.length):void 0},d(S,"keyFor",p),p.value=function(t,e){var n=l(t,e);return n&&E(e)&&(n.enumerable=N.call(t,e)),n},d(t,"getOwnPropertyDescriptor",p),p.value=function(t,e){return 1===arguments.length?c(t):function(t,e){var n=c(t);return s(e).forEach(function(t){N.call(e,t)&&x(n,t,e[t])}),n}(t,e)},d(t,"create",p),p.value=function(){var t=y.call(this);return"[object String]"===t&&E(this)?"[object Symbol]":t},d(_,"toString",p);try{var L=c(d({},"__symbol:",{get:function(){return d(this,"__symbol:",{value:!1})["__symbol:"]}}))["__symbol:"]||d}catch(A){L=function(t,e,n){var o=l(_,e);delete _[e],d(t,e,n),d(_,e,o)}}}}(Object,"getOwnPropertySymbols"),function(t){var e,n=t.defineProperty,o=t.prototype,r=o.toString;"iterator match replace search split hasInstance isConcatSpreadable unscopables species toPrimitive toStringTag".split(" ").forEach(function(i){if(!(i in Symbol))switch(n(Symbol,i,{value:Symbol(i)}),i){case"toStringTag":(e=t.getOwnPropertyDescriptor(o,"toString")).value=function(){var t=r.call(this),e=this[Symbol.toStringTag];return void 0===e?t:"[object "+e+"]"},n(o,"toString",e)}})}(Object,Symbol),function(t,e,n){function o(){return this}e[t]||(e[t]=function(){var e=0,n=this,r={next:function(){var t=n.length<=e;return t?{done:t}:{done:t,value:n[e++]}}};return r[t]=o,r}),n[t]||(n[t]=function(){var e=String.fromCodePoint,n=this,r=0,i=n.length,a={next:function(){var t=i<=r,o=t?"":e(n.codePointAt(r));return r+=o.length,t?{done:t}:{done:t,value:o}}};return a[t]=o,a})}(Symbol.iterator,Array.prototype,String.prototype);var R=Object.prototype.toString;Object.prototype.toString=function(){return void 0===this?"[object Undefined]":null===this?"[object Null]":R.call(this)},Object.keys=function(t){return Object.getOwnPropertyNames(t).filter(function(e){return(e=Object.getOwnPropertyDescriptor(t,e))&&e.enumerable})};var H=window.Symbol.iterator;String.prototype[H]&&String.prototype.codePointAt||(String.prototype[H]=function t(){var e,n=this;return N(t,function(t){if(1==t.a&&(e=0),3!=t.a)return e<n.length?t=y(t,n[e]):(t.a=0,t=void 0),t;e++,t.a=2})}),Set.prototype[H]||(Set.prototype[H]=function t(){var e,n,o=this;return N(t,function(t){if(1==t.a&&(e=[],o.forEach(function(t){e.push(t)}),n=0),3!=t.a)return n<e.length?t=y(t,e[n]):(t.a=0,t=void 0),t;n++,t.a=2})}),Map.prototype[H]||(Map.prototype[H]=function t(){var e,n,o=this;return N(t,function(t){if(1==t.a&&(e=[],o.forEach(function(t,n){e.push([n,t])}),n=0),3!=t.a)return n<e.length?t=y(t,e[n]):(t.a=0,t=void 0),t;n++,t.a=2})}),window.WebComponents=window.WebComponents||{flags:{}};var F=document.querySelector('script[src*="webcomponents-bundle"]'),I=/wc-(.+)/,B={};if(!B.noOpts){if(location.search.slice(1).split("&").forEach(function(t){var e;(t=t.split("="))[0]&&(e=t[0].match(I))&&(B[e[1]]=t[1]||!0)}),F)for(var U=0,q=void 0;q=F.attributes[U];U++)"src"!==q.name&&(B[q.name]=q.value||!0);if(B.log&&B.log.split){var V=B.log.split(",");B.log={},V.forEach(function(t){B.log[t]=!0})}else B.log={}}window.WebComponents.flags=B;var W=B.shadydom;W&&(window.ShadyDOM=window.ShadyDOM||{},window.ShadyDOM.force=W);var G=B.register||B.ce;function $(){}function K(t){return t.__shady||(t.__shady=new $),t.__shady}function X(t){return t&&t.__shady}G&&window.customElements&&(window.customElements.forcePolyfill=G),$.prototype.toJSON=function(){return{}};var z=window.ShadyDOM||{};z.La=!(!Element.prototype.attachShadow||!Node.prototype.getRootNode);var J=Object.getOwnPropertyDescriptor(Node.prototype,"firstChild");z.D=!!(J&&J.configurable&&J.get),z.ka=z.force||!z.La,z.M=z.noPatch||!1,z.ta=z.preferPerformance;var Y=navigator.userAgent.match("Trident");function Z(t){return(t=X(t))&&void 0!==t.firstChild}function Q(t){return"ShadyRoot"===t.Da}function tt(t){return(t=(t=X(t))&&t.root)&&rn(t)}z.ya=Y;var et=Element.prototype,nt=et.matches||et.matchesSelector||et.mozMatchesSelector||et.msMatchesSelector||et.oMatchesSelector||et.webkitMatchesSelector,ot=document.createTextNode(""),rt=0,it=[];function at(t){it.push(t),ot.textContent=rt++}new MutationObserver(function(){for(;it.length;)try{it.shift()()}catch(i){throw ot.textContent=rt++,i}}).observe(ot,{characterData:!0});var st=!!document.contains;function lt(t,e){for(;e;){if(e==t)return!0;e=e.__shady_parentNode}return!1}function ct(t){for(var e=t.length-1;0<=e;e--){var n=t[e],o=n.getAttribute("id")||n.getAttribute("name");o&&"length"!==o&&isNaN(o)&&(t[o]=n)}return t.item=function(e){return t[e]},t.namedItem=function(e){if("length"!==e&&isNaN(e)&&t[e])return t[e];for(var n=u(t),o=n.next();!o.done;o=n.next())if(((o=o.value).getAttribute("id")||o.getAttribute("name"))==e)return o;return null},t}function ut(t){var e=[];for(t=t.__shady_native_firstChild;t;t=t.__shady_native_nextSibling)e.push(t);return e}function ht(t){var e=[];for(t=t.__shady_firstChild;t;t=t.__shady_nextSibling)e.push(t);return e}function dt(t,e,n,o){for(var r in n=void 0===n?"":n,e){var i=e[r];if(!(o&&0<=o.indexOf(r))){i.configurable=!0;var a=n+r;if(i.value)t[a]=i.value;else try{Object.defineProperty(t,a,i)}catch(s){}}}}function ft(t){var e={};return Object.getOwnPropertyNames(t).forEach(function(n){e[n]=Object.getOwnPropertyDescriptor(t,n)}),e}var pt,_t=[];function mt(t){pt||(pt=!0,at(vt)),_t.push(t)}function vt(){pt=!1;for(var t=!!_t.length;_t.length;)_t.shift()();return t}function yt(){this.a=!1,this.addedNodes=[],this.removedNodes=[],this.$=new Set}vt.list=_t,yt.prototype.flush=function(){if(this.a){this.a=!1;var t=this.takeRecords();t.length&&this.$.forEach(function(e){e(t)})}},yt.prototype.takeRecords=function(){if(this.addedNodes.length||this.removedNodes.length){var t=[{addedNodes:this.addedNodes,removedNodes:this.removedNodes}];return this.addedNodes=[],this.removedNodes=[],t}return[]};var gt=/[&\u00A0"]/g,bt=/[&\u00A0<>]/g;function wt(t){switch(t){case"&":return"&amp;";case"<":return"&lt;";case">":return"&gt;";case'"':return"&quot;";case"Â ":return"&nbsp;"}}function Et(t){for(var e={},n=0;n<t.length;n++)e[t[n]]=!0;return e}var Nt=Et("area base br col command embed hr img input keygen link meta param source track wbr".split(" ")),Ct=Et("style script xmp iframe noembed noframes plaintext noscript".split(" "));function St(t,e){"template"===t.localName&&(t=t.content);for(var n="",o=e?e(t):t.childNodes,r=0,i=o.length,a=void 0;r<i&&(a=o[r]);r++){t:{var s=a,l=t,c=e;switch(s.nodeType){case Node.ELEMENT_NODE:for(var u,h="<"+(l=s.localName),d=s.attributes,f=0;u=d[f];f++)h+=" "+u.name+'="'+u.value.replace(gt,wt)+'"';h+=">",s=Nt[l]?h:h+St(s,c)+"</"+l+">";break t;case Node.TEXT_NODE:s=s.data,s=l&&Ct[l.localName]?s:s.replace(bt,wt);break t;case Node.COMMENT_NODE:s="\x3c!--"+s.data+"--\x3e";break t;default:throw window.console.error(s),Error("not implemented")}}n+=s}return n}var Tt=z.D,Ot={querySelector:function(t){return this.__shady_native_querySelector(t)},querySelectorAll:function(t){return this.__shady_native_querySelectorAll(t)}},Dt={};function xt(t){Dt[t]=function(e){return e["__shady_native_"+t]}}function Mt(t,e){for(var n in dt(t,e,"__shady_native_"),e)xt(n)}function Lt(t,e){e=void 0===e?[]:e;for(var n=0;n<e.length;n++){var o=e[n],r=Object.getOwnPropertyDescriptor(t,o);r&&(Object.defineProperty(t,"__shady_native_"+o,r),r.value?Ot[o]||(Ot[o]=r.value):xt(o))}}var At=document.createTreeWalker(document,NodeFilter.SHOW_ALL,null,!1),Pt=document.createTreeWalker(document,NodeFilter.SHOW_ELEMENT,null,!1),jt=document.implementation.createHTMLDocument("inert");function kt(t){for(var e;e=t.__shady_native_firstChild;)t.__shady_native_removeChild(e)}var Rt=["firstElementChild","lastElementChild","children","childElementCount"],Ht=["querySelector","querySelectorAll"];var Ft,It=ft({get childNodes(){return this.__shady_childNodes},get firstChild(){return this.__shady_firstChild},get lastChild(){return this.__shady_lastChild},get childElementCount(){return this.__shady_childElementCount},get children(){return this.__shady_children},get firstElementChild(){return this.__shady_firstElementChild},get lastElementChild(){return this.__shady_lastElementChild},get shadowRoot(){return this.__shady_shadowRoot}}),Bt=ft({get textContent(){return this.__shady_textContent},set textContent(t){this.__shady_textContent=t},get innerHTML(){return this.__shady_innerHTML},set innerHTML(t){return this.__shady_innerHTML=t}}),Ut=ft({get parentElement(){return this.__shady_parentElement},get parentNode(){return this.__shady_parentNode},get nextSibling(){return this.__shady_nextSibling},get previousSibling(){return this.__shady_previousSibling},get nextElementSibling(){return this.__shady_nextElementSibling},get previousElementSibling(){return this.__shady_previousElementSibling},get className(){return this.__shady_className},set className(t){return this.__shady_className=t}});for(Ft in It)It[Ft].enumerable=!1;for(var qt in Bt)Bt[qt].enumerable=!1;for(var Vt in Ut)Ut[Vt].enumerable=!1;var Wt=z.D||z.M,Gt=Wt?function(){}:function(t){var e=K(t);e.Aa||(e.Aa=!0,dt(t,Ut))},$t=Wt?function(){}:function(t){var e=K(t);e.za||(e.za=!0,dt(t,It),window.customElements&&!z.M||dt(t,Bt))},Kt="__eventWrappers"+Date.now(),Xt=function(){var t=Object.getOwnPropertyDescriptor(Event.prototype,"composed");return t?function(e){return t.get.call(e)}:null}(),zt=function(){function t(){}var e=!1,n={get capture(){e=!0}};return window.addEventListener("test",t,n),window.removeEventListener("test",t,n),e}();function Jt(t){if(t&&"object"==typeof t)var e=!!t.capture,n=!!t.once,o=!!t.passive,r=t.O;else e=!!t,o=n=!1;return{ua:r,capture:e,once:n,passive:o,sa:zt?t:e}}var Yt={blur:!0,focus:!0,focusin:!0,focusout:!0,click:!0,dblclick:!0,mousedown:!0,mouseenter:!0,mouseleave:!0,mousemove:!0,mouseout:!0,mouseover:!0,mouseup:!0,wheel:!0,beforeinput:!0,input:!0,keydown:!0,keyup:!0,compositionstart:!0,compositionupdate:!0,compositionend:!0,touchstart:!0,touchend:!0,touchmove:!0,touchcancel:!0,pointerover:!0,pointerenter:!0,pointerdown:!0,pointermove:!0,pointerup:!0,pointercancel:!0,pointerout:!0,pointerleave:!0,gotpointercapture:!0,lostpointercapture:!0,dragstart:!0,drag:!0,dragenter:!0,dragleave:!0,dragover:!0,drop:!0,dragend:!0,DOMActivate:!0,DOMFocusIn:!0,DOMFocusOut:!0,keypress:!0},Zt={DOMAttrModified:!0,DOMAttributeNameChanged:!0,DOMCharacterDataModified:!0,DOMElementNameChanged:!0,DOMNodeInserted:!0,DOMNodeInsertedIntoDocument:!0,DOMNodeRemoved:!0,DOMNodeRemovedFromDocument:!0,DOMSubtreeModified:!0};function Qt(t){return t instanceof Node?t.__shady_getRootNode():t}function te(t,e){var n=[],o=t;for(t=Qt(t);o;)n.push(o),o=o.__shady_assignedSlot?o.__shady_assignedSlot:o.nodeType===Node.DOCUMENT_FRAGMENT_NODE&&o.host&&(e||o!==t)?o.host:o.__shady_parentNode;return n[n.length-1]===document&&n.push(window),n}function ee(t,e){if(!Q)return t;t=te(t,!0);for(var n,o,r=0,i=void 0,a=void 0;r<e.length;r++)if((o=Qt(n=e[r]))!==i&&(a=t.indexOf(o),i=o),!Q(o)||-1<a)return n}function ne(t){function e(e,n){return(e=new t(e,n)).__composed=n&&!!n.composed,e}return e.__proto__=t,e.prototype=t.prototype,e}var oe={focus:!0,blur:!0};function re(t){return t.__target!==t.target||t.__relatedTarget!==t.relatedTarget}function ie(t,e,n){if(n=e.__handlers&&e.__handlers[t.type]&&e.__handlers[t.type][n])for(var o,r=0;(o=n[r])&&(!re(t)||t.target!==t.relatedTarget)&&(o.call(e,t),!t.__immediatePropagationStopped);r++);}function ae(t){var e,n=t.composedPath();Object.defineProperty(t,"currentTarget",{get:function(){return r},configurable:!0});for(var o=n.length-1;0<=o;o--){var r=n[o];if(ie(t,r,"capture"),t.ga)return}for(Object.defineProperty(t,"eventPhase",{get:function(){return Event.AT_TARGET}}),o=0;o<n.length;o++){var i=X(r=n[o]);if(i=i&&i.root,(0===o||i&&i===e)&&(ie(t,r,"bubble"),r!==window&&(e=r.__shady_getRootNode()),t.ga))break}}function se(t,e,n,o,r,i){for(var a=0;a<t.length;a++){var s=t[a],l=s.type,c=s.capture,u=s.once,h=s.passive;if(e===s.node&&n===l&&o===c&&r===u&&i===h)return a}return-1}function le(t,e,n){var o=Jt(n),r=o.capture,i=o.once,a=o.passive,s=o.ua;if(o=o.sa,e){var l=typeof e;if(("function"===l||"object"===l)&&("object"!==l||e.handleEvent&&"function"==typeof e.handleEvent)){if(Zt[t])return this.__shady_native_addEventListener(t,e,o);var c=s||this;if(s=e[Kt]){if(-1<se(s,c,t,r,i,a))return}else e[Kt]=[];s=function(o){if(i&&this.__shady_removeEventListener(t,e,n),o.__target||he(o),c!==this){var r=Object.getOwnPropertyDescriptor(o,"currentTarget");Object.defineProperty(o,"currentTarget",{get:function(){return c},configurable:!0})}if(o.__previousCurrentTarget=o.currentTarget,(!Q(c)&&"slot"!==c.localName||-1!=o.composedPath().indexOf(c))&&(o.composed||-1<o.composedPath().indexOf(c)))if(re(o)&&o.target===o.relatedTarget)o.eventPhase===Event.BUBBLING_PHASE&&o.stopImmediatePropagation();else if(o.eventPhase===Event.CAPTURING_PHASE||o.bubbles||o.target===c||c instanceof Window){var a="function"===l?e.call(c,o):e.handleEvent&&e.handleEvent(o);return c!==this&&(r?(Object.defineProperty(o,"currentTarget",r),r=null):delete o.currentTarget),a}},e[Kt].push({node:c,type:t,capture:r,once:i,passive:a,ab:s}),oe[t]?(this.__handlers=this.__handlers||{},this.__handlers[t]=this.__handlers[t]||{capture:[],bubble:[]},this.__handlers[t][r?"capture":"bubble"].push(s)):this.__shady_native_addEventListener(t,s,o)}}}function ce(t,e,n){if(e){var o=Jt(n);n=o.capture;var r=o.once,i=o.passive,a=o.ua;if(o=o.sa,Zt[t])return this.__shady_native_removeEventListener(t,e,o);var s=a||this;a=void 0;var l=null;try{l=e[Kt]}catch(c){}l&&(-1<(r=se(l,s,t,n,r,i))&&(a=l.splice(r,1)[0].ab,l.length||(e[Kt]=void 0))),this.__shady_native_removeEventListener(t,a||e,o),a&&oe[t]&&this.__handlers&&this.__handlers[t]&&(-1<(e=(t=this.__handlers[t][n?"capture":"bubble"]).indexOf(a))&&t.splice(e,1))}}var ue=ft({get composed(){return void 0===this.__composed&&(Xt?this.__composed="focusin"===this.type||"focusout"===this.type||Xt(this):!1!==this.isTrusted&&(this.__composed=Yt[this.type])),this.__composed||!1},composedPath:function(){return this.__composedPath||(this.__composedPath=te(this.__target,this.composed)),this.__composedPath},get target(){return ee(this.currentTarget||this.__previousCurrentTarget,this.composedPath())},get relatedTarget(){return this.__relatedTarget?(this.__relatedTargetComposedPath||(this.__relatedTargetComposedPath=te(this.__relatedTarget,!0)),ee(this.currentTarget||this.__previousCurrentTarget,this.__relatedTargetComposedPath)):null},stopPropagation:function(){Event.prototype.stopPropagation.call(this),this.ga=!0},stopImmediatePropagation:function(){Event.prototype.stopImmediatePropagation.call(this),this.ga=this.__immediatePropagationStopped=!0}});function he(t){if(t.__target=t.target,t.__relatedTarget=t.relatedTarget,z.D){var e=Object.getPrototypeOf(t);if(!Object.hasOwnProperty(e,"__shady_patchedProto")){var n=Object.create(e);n.__shady_sourceProto=e,dt(n,ue),e.__shady_patchedProto=n}t.__proto__=e.__shady_patchedProto}else dt(t,ue)}var de=ne(Event),fe=ne(CustomEvent),pe=ne(MouseEvent);var _e=Object.getOwnPropertyNames(Document.prototype).filter(function(t){return"on"===t.substring(0,2)});function me(t,e){return{index:t,W:[],Z:e}}function ve(t,e,n,o){var r=0,i=0,a=0,s=0,l=Math.min(e-r,o-i);if(0==r&&0==i)t:{for(a=0;a<l;a++)if(t[a]!==n[a])break t;a=l}if(e==t.length&&o==n.length){s=t.length;for(var c=n.length,u=0;u<l-a&&ye(t[--s],n[--c]);)u++;s=u}if(i+=a,o-=s,0==(e-=s)-(r+=a)&&0==o-i)return[];if(r==e){for(e=me(r,0);i<o;)e.W.push(n[i++]);return[e]}if(i==o)return[me(r,e-r)];for(o=o-(a=i)+1,s=e-(l=r)+1,e=Array(o),c=0;c<o;c++)e[c]=Array(s),e[c][0]=c;for(c=0;c<s;c++)e[0][c]=c;for(c=1;c<o;c++)for(u=1;u<s;u++)if(t[l+u-1]===n[a+c-1])e[c][u]=e[c-1][u-1];else{var h=e[c-1][u]+1,d=e[c][u-1]+1;e[c][u]=h<d?h:d}for(l=e.length-1,a=e[0].length-1,o=e[l][a],t=[];0<l||0<a;)0==l?(t.push(2),a--):0==a?(t.push(3),l--):(s=e[l-1][a-1],(h=(c=e[l-1][a])<(u=e[l][a-1])?c<s?c:s:u<s?u:s)==s?(s==o?t.push(0):(t.push(1),o=s),l--,a--):h==c?(t.push(3),l--,o=c):(t.push(2),a--,o=u));for(t.reverse(),e=void 0,l=[],a=0;a<t.length;a++)switch(t[a]){case 0:e&&(l.push(e),e=void 0),r++,i++;break;case 1:e||(e=me(r,0)),e.Z++,r++,e.W.push(n[i]),i++;break;case 2:e||(e=me(r,0)),e.Z++,r++;break;case 3:e||(e=me(r,0)),e.W.push(n[i]),i++}return e&&l.push(e),l}function ye(t,e){return t===e}function ge(t,e,n,o){Gt(t),o=o||null;var r=K(t),i=o?K(o):null;r.previousSibling=o?i.previousSibling:e.__shady_lastChild,(i=X(r.previousSibling))&&(i.nextSibling=t),(i=X(r.nextSibling=o))&&(i.previousSibling=t),r.parentNode=e,o?o===n.firstChild&&(n.firstChild=t):(n.lastChild=t,n.firstChild||(n.firstChild=t)),n.childNodes=null}function be(t,e){var n=K(t);if(e||void 0===n.firstChild){n.childNodes=null;var o=n.firstChild=t.__shady_native_firstChild;for(n.lastChild=t.__shady_native_lastChild,$t(t),n=o,o=void 0;n;n=n.__shady_native_nextSibling){var r=K(n);r.parentNode=e||t,r.nextSibling=n.__shady_native_nextSibling,r.previousSibling=o||null,o=n,Gt(n)}}}var we=null;function Ee(){return we||(we=window.ShadyCSS&&window.ShadyCSS.ScopingShim),we||null}function Ne(t,e){var n=Ee();n&&n.unscopeNode(t,e)}function Ce(t){if(t.nodeType!==Node.ELEMENT_NODE)return"";var e=Ee();return e?e.currentScopeForNode(t):""}function Se(t,e){if(t)for(t.nodeType===Node.ELEMENT_NODE&&e(t),t=t.__shady_firstChild;t;t=t.__shady_nextSibling)t.nodeType===Node.ELEMENT_NODE&&Se(t,e)}var Te=window.document,Oe=z.ta,De=Object.getOwnPropertyDescriptor(Node.prototype,"isConnected"),xe=De&&De.get;function Me(t){for(var e;e=t.__shady_firstChild;)t.__shady_removeChild(e)}function Le(t,e,n){(t=(t=X(t))&&t.V)&&(e&&t.addedNodes.push(e),n&&t.removedNodes.push(n),function(t){t.a||(t.a=!0,at(function(){t.flush()}))}(t))}var Ae=ft({get parentNode(){var t=X(this);return void 0!==(t=t&&t.parentNode)?t:this.__shady_native_parentNode},get firstChild(){var t=X(this);return void 0!==(t=t&&t.firstChild)?t:this.__shady_native_firstChild},get lastChild(){var t=X(this);return void 0!==(t=t&&t.lastChild)?t:this.__shady_native_lastChild},get nextSibling(){var t=X(this);return void 0!==(t=t&&t.nextSibling)?t:this.__shady_native_nextSibling},get previousSibling(){var t=X(this);return void 0!==(t=t&&t.previousSibling)?t:this.__shady_native_previousSibling},get childNodes(){if(Z(this)){var t=X(this);if(!t.childNodes){t.childNodes=[];for(var e=this.__shady_firstChild;e;e=e.__shady_nextSibling)t.childNodes.push(e)}var n=t.childNodes}else n=this.__shady_native_childNodes;return n.item=function(t){return n[t]},n},get parentElement(){var t=X(this);return(t=t&&t.parentNode)&&t.nodeType!==Node.ELEMENT_NODE&&(t=null),void 0!==t?t:this.__shady_native_parentElement},get isConnected(){if(xe&&xe.call(this))return!0;if(this.nodeType==Node.DOCUMENT_FRAGMENT_NODE)return!1;var t=this.ownerDocument;if(st){if(t.__shady_native_contains(this))return!0}else if(t.documentElement&&t.documentElement.__shady_native_contains(this))return!0;for(t=this;t&&!(t instanceof Document);)t=t.__shady_parentNode||(Q(t)?t.host:void 0);return!!(t&&t instanceof Document)},get textContent(){if(Z(this)){for(var t=[],e=this.__shady_firstChild;e;e=e.__shady_nextSibling)e.nodeType!==Node.COMMENT_NODE&&t.push(e.__shady_textContent);return t.join("")}return this.__shady_native_textContent},set textContent(t){switch(null==t&&(t=""),this.nodeType){case Node.ELEMENT_NODE:case Node.DOCUMENT_FRAGMENT_NODE:if(!Z(this)&&z.D){var e=this.__shady_firstChild;(e!=this.__shady_lastChild||e&&e.nodeType!=Node.TEXT_NODE)&&Me(this),this.__shady_native_textContent=t}else Me(this),(0<t.length||this.nodeType===Node.ELEMENT_NODE)&&this.__shady_insertBefore(document.createTextNode(t));break;default:this.nodeValue=t}},insertBefore:function(t,e){if(this.ownerDocument!==Te&&t.ownerDocument!==Te)return this.__shady_native_insertBefore(t,e),t;if(t===this)throw Error("Failed to execute 'appendChild' on 'Node': The new child element contains the parent.");if(e){var n=X(e);if(void 0!==(n=n&&n.parentNode)&&n!==this||void 0===n&&e.__shady_native_parentNode!==this)throw Error("Failed to execute 'insertBefore' on 'Node': The node before which the new node is to be inserted is not a child of this node.")}if(e===t)return t;var o=[],r=(n=cn(this))?n.host.localName:Ce(this),i=t.__shady_parentNode;if(i){var a=Ce(t),s=!!n||!cn(t)||Oe&&void 0!==this.__noInsertionPoint;i.__shady_removeChild(t,s)}i=!0;var l=(!Oe||void 0===t.__noInsertionPoint&&void 0===this.__noInsertionPoint)&&!function t(e,n){var o=Ee();if(!o)return!0;if(e.nodeType===Node.DOCUMENT_FRAGMENT_NODE){for(o=!0,e=e.__shady_firstChild;e;e=e.__shady_nextSibling)o=o&&t(e,n);return o}return e.nodeType!==Node.ELEMENT_NODE||o.currentScopeForNode(e)===n}(t,r),c=n&&!t.__noInsertionPoint&&(!Oe||t.nodeType===Node.DOCUMENT_FRAGMENT_NODE);return(c||l)&&(l&&(a=a||Ce(t)),Se(t,function(t){if(c&&"slot"===t.localName&&o.push(t),l){var e=a;Ee()&&(e&&Ne(t,e),(e=Ee())&&e.scopeNode(t,r))}})),o.length&&(tn(n),n.c.push.apply(n.c,o instanceof Array?o:h(u(o))),ze(n)),Z(this)&&(function(t,e,n){$t(e);var o=K(e);if(void 0!==o.firstChild&&(o.childNodes=null),t.nodeType===Node.DOCUMENT_FRAGMENT_NODE)for(t=t.__shady_native_firstChild;t;t=t.__shady_native_nextSibling)ge(t,e,o,n);else ge(t,e,o,n)}(t,this,e),n=X(this),tt(this)?(ze(n.root),i=!1):n.root&&(i=!1)),i?(n=Q(this)?this.host:this,e?(e=function t(e){var n=e;return e&&"slot"===e.localName&&(n=(n=(n=X(e))&&n.T)&&n.length?n[0]:t(e.__shady_nextSibling)),n}(e),n.__shady_native_insertBefore(t,e)):n.__shady_native_appendChild(t)):t.ownerDocument!==this.ownerDocument&&this.ownerDocument.adoptNode(t),Le(this,t),t},appendChild:function(t){if(this!=t||!Q(t))return this.__shady_insertBefore(t)},removeChild:function(t,e){if(e=void 0!==e&&e,this.ownerDocument!==Te)return this.__shady_native_removeChild(t);if(t.__shady_parentNode!==this)throw Error("The node to be removed is not a child of this node: "+t);var n=cn(t),o=n&&function(t,e){if(t.a){en(t);var n,o=t.b;for(n in o)for(var r=o[n],i=0;i<r.length;i++){var a=r[i];if(lt(e,a)){r.splice(i,1);var s=t.a.indexOf(a);if(0<=s&&(t.a.splice(s,1),(s=X(a.__shady_parentNode))&&s.Y&&s.Y--),i--,a=X(a),s=a.T)for(var l=0;l<s.length;l++){var c=s[l],u=c.__shady_native_parentNode;u&&u.__shady_native_removeChild(c)}a.T=[],a.assignedNodes=[],s=!0}}return s}}(n,t),r=X(this);if(Z(this)&&(function(t,e){var n=K(t);t===(e=K(e)).firstChild&&(e.firstChild=n.nextSibling),t===e.lastChild&&(e.lastChild=n.previousSibling),t=n.previousSibling;var o=n.nextSibling;t&&(K(t).nextSibling=o),o&&(K(o).previousSibling=t),n.parentNode=n.previousSibling=n.nextSibling=void 0,void 0!==e.childNodes&&(e.childNodes=null)}(t,this),tt(this))){ze(r.root);var i=!0}if(Ee()&&!e&&n&&t.nodeType!==Node.TEXT_NODE){var a=Ce(t);Se(t,function(t){Ne(t,a)})}return function t(e){var n=X(e);if(n&&void 0!==n.ca)for(n=e.__shady_firstChild;n;n=n.__shady_nextSibling)t(n);(e=X(e))&&(e.ca=void 0)}(t),n&&((e=this&&"slot"===this.localName)&&(i=!0),(o||e)&&ze(n)),i||(i=Q(this)?this.host:this,(!r.root&&"slot"!==t.localName||i===t.__shady_native_parentNode)&&i.__shady_native_removeChild(t)),Le(this,null,t),t},replaceChild:function(t,e){return this.__shady_insertBefore(t,e),this.__shady_removeChild(e),t},cloneNode:function(t){if("template"==this.localName)return this.__shady_native_cloneNode(t);var e=this.__shady_native_cloneNode(!1);if(t&&e.nodeType!==Node.ATTRIBUTE_NODE){t=this.__shady_firstChild;for(var n;t;t=t.__shady_nextSibling)n=t.__shady_cloneNode(!0),e.__shady_appendChild(n)}return e},getRootNode:function(t){if(this&&this.nodeType){var e=K(this),n=e.ca;return void 0===n&&(Q(this)?(n=this,e.ca=n):(n=(n=this.__shady_parentNode)?n.__shady_getRootNode(t):this,document.documentElement.__shady_native_contains(this)&&(e.ca=n))),n}},contains:function(t){return lt(this,t)}});function Pe(t,e,n){var o=[];return function t(e,n,o,r){for(e=e.__shady_firstChild;e;e=e.__shady_nextSibling){var i;if(i=e.nodeType===Node.ELEMENT_NODE){var a=n,s=o,l=r,c=a(i=e);c&&l.push(i),s&&s(c)?i=c:(t(i,a,s,l),i=void 0)}if(i)break}}(t,e,n,o),o}var je=ft({get firstElementChild(){var t=X(this);if(t&&void 0!==t.firstChild){for(t=this.__shady_firstChild;t&&t.nodeType!==Node.ELEMENT_NODE;)t=t.__shady_nextSibling;return t}return this.__shady_native_firstElementChild},get lastElementChild(){var t=X(this);if(t&&void 0!==t.lastChild){for(t=this.__shady_lastChild;t&&t.nodeType!==Node.ELEMENT_NODE;)t=t.__shady_previousSibling;return t}return this.__shady_native_lastElementChild},get children(){return Z(this)?ct(Array.prototype.filter.call(ht(this),function(t){return t.nodeType===Node.ELEMENT_NODE})):this.__shady_native_children},get childElementCount(){var t=this.__shady_children;return t?t.length:0}}),ke=ft({querySelector:function(t){return Pe(this,function(e){return nt.call(e,t)},function(t){return!!t})[0]||null},querySelectorAll:function(t,e){if(e){e=Array.prototype.slice.call(this.__shady_native_querySelectorAll(t));var n=this.__shady_getRootNode();return e.filter(function(t){return t.__shady_getRootNode()==n})}return Pe(this,function(e){return nt.call(e,t)})}}),Re=z.ta&&!z.M?Object.assign({},je):je;Object.assign(je,ke);var He=ft({getElementById:function(t){return""===t?null:Pe(this,function(e){return e.id==t},function(t){return!!t})[0]||null}}),Fe=ft({get activeElement(){var t=z.D?document.__shady_native_activeElement:document.activeElement;if(!t||!t.nodeType)return null;var e=!!Q(this);if(!(this===document||e&&this.host!==t&&this.host.__shady_native_contains(t)))return null;for(e=cn(t);e&&e!==this;)e=cn(t=e.host);return this===document?e?null:t:e===this?t:null}}),Ie=document.implementation.createHTMLDocument("inert"),Be=ft({get innerHTML(){return Z(this)?St("template"===this.localName?this.content:this,ht):this.__shady_native_innerHTML},set innerHTML(t){if("template"===this.localName)this.__shady_native_innerHTML=t;else{Me(this);var e=this.localName||"div";for(e=this.namespaceURI&&this.namespaceURI!==Ie.namespaceURI?Ie.createElementNS(this.namespaceURI,e):Ie.createElement(e),z.D?e.__shady_native_innerHTML=t:e.innerHTML=t;t=e.__shady_firstChild;)this.__shady_insertBefore(t)}}}),Ue=ft({addEventListener:function(t,e,n){"object"!=typeof n&&(n={capture:!!n}),n.O=n.O||this,this.host.__shady_addEventListener(t,e,n)},removeEventListener:function(t,e,n){"object"!=typeof n&&(n={capture:!!n}),n.O=n.O||this,this.host.__shady_removeEventListener(t,e,n)}});function qe(t,e){dt(t,Ue,e),dt(t,Fe,e),dt(t,Be,e),dt(t,je,e),z.M&&!e?(dt(t,Ae,e),dt(t,He,e)):z.D||(dt(t,Ut),dt(t,It),dt(t,Bt))}var Ve,We={},Ge=z.deferConnectionCallbacks&&"loading"===document.readyState;function $e(t){var e=[];do{e.unshift(t)}while(t=t.__shady_parentNode);return e}function Ke(t,e,n){if(t!==We)throw new TypeError("Illegal constructor");this.a=null,Xe(this,e,n)}function Xe(t,e,n){if(t.Da="ShadyRoot",t.host=e,t.mode=n&&n.mode,be(t.host),(e=K(t.host)).root=t,e.Ta="closed"!==t.mode?t:null,(e=K(t)).firstChild=e.lastChild=e.parentNode=e.nextSibling=e.previousSibling=null,z.preferPerformance)for(;e=t.host.__shady_native_firstChild;)t.host.__shady_native_removeChild(e);else ze(t)}function ze(t){t.R||(t.R=!0,mt(function(){return Je(t)}))}function Je(t){var e;if(e=t.R){for(var n;t;)t.R&&(n=t),Q(t=(e=t).host.__shady_getRootNode())&&(e=X(e.host))&&0<e.Y||(t=void 0);e=n}(n=e)&&n._renderSelf()}function Ye(t,e,n){var o=K(e),r=o.ha;o.ha=null,n||(n=(t=t.b[e.__shady_slot||"__catchall"])&&t[0]),n?(K(n).assignedNodes.push(e),o.assignedSlot=n):o.assignedSlot=void 0,r!==o.assignedSlot&&o.assignedSlot&&(K(o.assignedSlot).ja=!0)}function Ze(t,e,n){for(var o=0,r=void 0;o<n.length&&(r=n[o]);o++)if("slot"==r.localName){var i=X(r).assignedNodes;i&&i.length&&Ze(t,e,i)}else e.push(n[o])}function Qe(t,e){e.__shady_native_dispatchEvent(new Event("slotchange")),(e=X(e)).assignedSlot&&Qe(t,e.assignedSlot)}function tn(t){t.c=t.c||[],t.a=t.a||[],t.b=t.b||{}}function en(t){if(t.c&&t.c.length){for(var e,n=t.c,o=0;o<n.length;o++){var r=n[o];be(r);var i=r.__shady_parentNode;be(i),(i=X(i)).Y=(i.Y||0)+1,i=nn(r),t.b[i]?((e=e||{})[i]=!0,t.b[i].push(r)):t.b[i]=[r],t.a.push(r)}if(e)for(var a in e)t.b[a]=on(t.b[a]);t.c=[]}}function nn(t){var e=t.name||t.getAttribute("name")||"__catchall";return t.Ba=e}function on(t){return t.sort(function(t,e){t=$e(t);for(var n=$e(e),o=0;o<t.length;o++){e=t[o];var r=n[o];if(e!==r)return(t=ht(e.__shady_parentNode)).indexOf(e)-t.indexOf(r)}})}function rn(t){return en(t),!(!t.a||!t.a.length)}if(Ke.prototype._renderSelf=function(){var t=Ge;if(Ge=!0,this.R=!1,this.a){en(this);for(var e,n=0;n<this.a.length;n++){var o=X(e=this.a[n]),r=o.assignedNodes;if(o.assignedNodes=[],o.T=[],o.qa=r)for(o=0;o<r.length;o++){var i=X(r[o]);i.ha=i.assignedSlot,i.assignedSlot===e&&(i.assignedSlot=null)}}for(n=this.host.__shady_firstChild;n;n=n.__shady_nextSibling)Ye(this,n);for(n=0;n<this.a.length;n++){if(!(r=X(e=this.a[n])).assignedNodes.length)for(o=e.__shady_firstChild;o;o=o.__shady_nextSibling)Ye(this,o,e);if((o=(o=X(e.__shady_parentNode))&&o.root)&&(rn(o)||o.R)&&o._renderSelf(),Ze(this,r.T,r.assignedNodes),o=r.qa){for(i=0;i<o.length;i++)X(o[i]).ha=null;r.qa=null,o.length>r.assignedNodes.length&&(r.ja=!0)}r.ja&&(r.ja=!1,Qe(this,e))}for(e=this.a,n=[],r=0;r<e.length;r++)(i=X(o=e[r].__shady_parentNode))&&i.root||!(0>n.indexOf(o))||n.push(o);for(e=0;e<n.length;e++){for(r=(i=n[e])===this?this.host:i,o=[],i=i.__shady_firstChild;i;i=i.__shady_nextSibling)if("slot"==i.localName)for(var a=X(i).T,s=0;s<a.length;s++)o.push(a[s]);else o.push(i);i=ut(r),a=ve(o,o.length,i,i.length);for(var l=s=0,c=void 0;s<a.length&&(c=a[s]);s++){for(var u=0,h=void 0;u<c.W.length&&(h=c.W[u]);u++)h.__shady_native_parentNode===r&&r.__shady_native_removeChild(h),i.splice(c.index+l,1);l-=c.Z}for(l=0,c=void 0;l<a.length&&(c=a[l]);l++)for(s=i[c.index],u=c.index;u<c.index+c.Z;u++)h=o[u],r.__shady_native_insertBefore(h,s),i.splice(u,0,h)}}if(!z.preferPerformance&&!this.pa)for(n=this.host.__shady_firstChild;n;n=n.__shady_nextSibling)e=X(n),n.__shady_native_parentNode!==this.host||"slot"!==n.localName&&e.assignedSlot||this.host.__shady_native_removeChild(n);this.pa=!0,Ge=t,Ve&&Ve()},function(t){t.__proto__=DocumentFragment.prototype,qe(t,"__shady_"),qe(t),Object.defineProperties(t,{nodeType:{value:Node.DOCUMENT_FRAGMENT_NODE,configurable:!0},nodeName:{value:"#document-fragment",configurable:!0},nodeValue:{value:null,configurable:!0}}),["localName","namespaceURI","prefix"].forEach(function(e){Object.defineProperty(t,e,{value:void 0,configurable:!0})}),["ownerDocument","baseURI","isConnected"].forEach(function(e){Object.defineProperty(t,e,{get:function(){return this.host[e]},configurable:!0})})}(Ke.prototype),window.customElements&&z.ka&&!z.preferPerformance){var an=new Map;Ve=function(){var t=[];an.forEach(function(e,n){t.push([n,e])}),an.clear();for(var e=0;e<t.length;e++){var n=t[e][0];t[e][1]?n.__shadydom_connectedCallback():n.__shadydom_disconnectedCallback()}},Ge&&document.addEventListener("readystatechange",function(){Ge=!1,Ve()},{once:!0});var sn=window.customElements.define,ln=function(t,e){var n=e.prototype.connectedCallback,o=e.prototype.disconnectedCallback;sn.call(window.customElements,t,function(t,e,n){var o=0,r="__isConnected"+o++;return(e||n)&&(t.prototype.connectedCallback=t.prototype.__shadydom_connectedCallback=function(){Ge?an.set(this,!0):this[r]||(this[r]=!0,e&&e.call(this))},t.prototype.disconnectedCallback=t.prototype.__shadydom_disconnectedCallback=function(){Ge?this.isConnected||an.set(this,!1):this[r]&&(this[r]=!1,n&&n.call(this))}),t}(e,n,o)),e.prototype.connectedCallback=n,e.prototype.disconnectedCallback=o};window.customElements.define=ln,Object.defineProperty(window.CustomElementRegistry.prototype,"define",{value:ln,configurable:!0})}function cn(t){if(Q(t=t.__shady_getRootNode()))return t}function un(t){this.node=t}(t=un.prototype).addEventListener=function(t,e,n){return this.node.__shady_addEventListener(t,e,n)},t.removeEventListener=function(t,e,n){return this.node.__shady_removeEventListener(t,e,n)},t.appendChild=function(t){return this.node.__shady_appendChild(t)},t.insertBefore=function(t,e){return this.node.__shady_insertBefore(t,e)},t.removeChild=function(t){return this.node.__shady_removeChild(t)},t.replaceChild=function(t,e){return this.node.__shady_replaceChild(t,e)},t.cloneNode=function(t){return this.node.__shady_cloneNode(t)},t.getRootNode=function(t){return this.node.__shady_getRootNode(t)},t.contains=function(t){return this.node.__shady_contains(t)},t.dispatchEvent=function(t){return this.node.__shady_dispatchEvent(t)},t.setAttribute=function(t,e){this.node.__shady_setAttribute(t,e)},t.getAttribute=function(t){return this.node.__shady_native_getAttribute(t)},t.hasAttribute=function(t){return this.node.__shady_native_hasAttribute(t)},t.removeAttribute=function(t){this.node.__shady_removeAttribute(t)},t.attachShadow=function(t){return this.node.__shady_attachShadow(t)},t.focus=function(){this.node.__shady_native_focus()},t.blur=function(){this.node.__shady_blur()},t.importNode=function(t,e){if(this.node.nodeType===Node.DOCUMENT_NODE)return this.node.__shady_importNode(t,e)},t.getElementById=function(t){if(this.node.nodeType===Node.DOCUMENT_NODE)return this.node.__shady_getElementById(t)},t.querySelector=function(t){return this.node.__shady_querySelector(t)},t.querySelectorAll=function(t,e){return this.node.__shady_querySelectorAll(t,e)},t.assignedNodes=function(t){if("slot"===this.node.localName)return this.node.__shady_assignedNodes(t)},n.Object.defineProperties(un.prototype,{activeElement:{configurable:!0,enumerable:!0,get:function(){if(Q(this.node)||this.node.nodeType===Node.DOCUMENT_NODE)return this.node.__shady_activeElement}},_activeElement:{configurable:!0,enumerable:!0,get:function(){return this.activeElement}},host:{configurable:!0,enumerable:!0,get:function(){if(Q(this.node))return this.node.host}},parentNode:{configurable:!0,enumerable:!0,get:function(){return this.node.__shady_parentNode}},firstChild:{configurable:!0,enumerable:!0,get:function(){return this.node.__shady_firstChild}},lastChild:{configurable:!0,enumerable:!0,get:function(){return this.node.__shady_lastChild}},nextSibling:{configurable:!0,enumerable:!0,get:function(){return this.node.__shady_nextSibling}},previousSibling:{configurable:!0,enumerable:!0,get:function(){return this.node.__shady_previousSibling}},childNodes:{configurable:!0,enumerable:!0,get:function(){return this.node.__shady_childNodes}},parentElement:{configurable:!0,enumerable:!0,get:function(){return this.node.__shady_parentElement}},firstElementChild:{configurable:!0,enumerable:!0,get:function(){return this.node.__shady_firstElementChild}},lastElementChild:{configurable:!0,enumerable:!0,get:function(){return this.node.__shady_lastElementChild}},nextElementSibling:{configurable:!0,enumerable:!0,get:function(){return this.node.__shady_nextElementSibling}},previousElementSibling:{configurable:!0,enumerable:!0,get:function(){return this.node.__shady_previousElementSibling}},children:{configurable:!0,enumerable:!0,get:function(){return this.node.__shady_children}},childElementCount:{configurable:!0,enumerable:!0,get:function(){return this.node.__shady_childElementCount}},shadowRoot:{configurable:!0,enumerable:!0,get:function(){return this.node.__shady_shadowRoot}},assignedSlot:{configurable:!0,enumerable:!0,get:function(){return this.node.__shady_assignedSlot}},isConnected:{configurable:!0,enumerable:!0,get:function(){return this.node.__shady_isConnected}},innerHTML:{configurable:!0,enumerable:!0,get:function(){return this.node.__shady_innerHTML},set:function(t){this.node.__shady_innerHTML=t}},textContent:{configurable:!0,enumerable:!0,get:function(){return this.node.__shady_textContent},set:function(t){this.node.__shady_textContent=t}},slot:{configurable:!0,enumerable:!0,get:function(){return this.node.__shady_slot},set:function(t){this.node.__shady_slot=t}},className:{configurable:!0,enumerable:!0,get:function(){return this.node.__shady_className},set:function(t){return this.node.__shady_className=t}}}),_e.forEach(function(t){Object.defineProperty(un.prototype,t,{get:function(){return this.node["__shady_"+t]},set:function(e){this.node["__shady_"+t]=e},configurable:!0})});var hn=new WeakMap;var dn=ft({dispatchEvent:function(t){return vt(),this.__shady_native_dispatchEvent(t)},addEventListener:le,removeEventListener:ce}),fn=ft({get assignedSlot(){var t=this.__shady_parentNode;return(t=t&&t.__shady_shadowRoot)&&Je(t),(t=X(this))&&t.assignedSlot||null}}),pn=window.document;function _n(t,e){if("slot"===e)tt(t=t.__shady_parentNode)&&ze(X(t).root);else if("slot"===t.localName&&"name"===e&&(e=cn(t))){if(e.a){en(e);var n=t.Ba,o=nn(t);if(o!==n){var r=(n=e.b[n]).indexOf(t);0<=r&&n.splice(r,1),(n=e.b[o]||(e.b[o]=[])).push(t),1<n.length&&(e.b[o]=on(n))}}ze(e)}}var mn=ft({get previousElementSibling(){var t=X(this);if(t&&void 0!==t.previousSibling){for(t=this.__shady_previousSibling;t&&t.nodeType!==Node.ELEMENT_NODE;)t=t.__shady_previousSibling;return t}return this.__shady_native_previousElementSibling},get nextElementSibling(){var t=X(this);if(t&&void 0!==t.nextSibling){for(t=this.__shady_nextSibling;t&&t.nodeType!==Node.ELEMENT_NODE;)t=t.__shady_nextSibling;return t}return this.__shady_native_nextElementSibling},get slot(){return this.getAttribute("slot")},set slot(t){this.__shady_setAttribute("slot",t)},get shadowRoot(){var t=X(this);return t&&t.Ta||null},get className(){return this.getAttribute("class")||""},set className(t){this.__shady_setAttribute("class",t)},setAttribute:function(t,e){var n;this.ownerDocument!==pn?this.__shady_native_setAttribute(t,e):((n=Ee())&&"class"===t?(n.setElementClass(this,e),n=!0):n=!1,n||(this.__shady_native_setAttribute(t,e),_n(this,t)))},removeAttribute:function(t){this.__shady_native_removeAttribute(t),_n(this,t)},attachShadow:function(t){if(!this)throw Error("Must provide a host.");if(!t)throw Error("Not enough arguments.");if(t.shadyUpgradeFragment&&!z.ya){var e=t.shadyUpgradeFragment;if(e.__proto__=ShadowRoot.prototype,Xe(e,this,t),be(e,e),t=e.__noInsertionPoint?null:e.querySelectorAll("slot"),e.__noInsertionPoint=void 0,t&&t.length){var n=e;tn(n),n.c.push.apply(n.c,t instanceof Array?t:h(u(t))),ze(e)}e.host.__shady_native_appendChild(e)}else e=new Ke(We,this,t);return e}}),vn=ft({blur:function(){var t=X(this);(t=(t=t&&t.root)&&t.activeElement)?t.__shady_blur():this.__shady_native_blur()}});_e.forEach(function(t){vn[t]={set:function(e){var n=K(this),o=t.substring(2);n.N||(n.N={}),n.N[t]&&this.removeEventListener(o,n.N[t]),this.__shady_addEventListener(o,e),n.N[t]=e},get:function(){var e=X(this);return e&&e.N&&e.N[t]},configurable:!0}});var yn=ft({assignedNodes:function(t){if("slot"===this.localName){var e=this.__shady_getRootNode();return e&&Q(e)&&Je(e),(e=X(this))&&(t&&t.flatten?e.T:e.assignedNodes)||[]}},addEventListener:function(t,e,n){if("slot"!==this.localName||"slotchange"===t)le.call(this,t,e,n);else{"object"!=typeof n&&(n={capture:!!n});var o=this.__shady_parentNode;if(!o)throw Error("ShadyDOM cannot attach event to slot unless it has a `parentNode`");n.O=this,o.__shady_addEventListener(t,e,n)}},removeEventListener:function(t,e,n){if("slot"!==this.localName||"slotchange"===t)ce.call(this,t,e,n);else{"object"!=typeof n&&(n={capture:!!n});var o=this.__shady_parentNode;if(!o)throw Error("ShadyDOM cannot attach event to slot unless it has a `parentNode`");n.O=this,o.__shady_removeEventListener(t,e,n)}}}),gn=window.document,bn=ft({importNode:function(t,e){if(t.ownerDocument!==gn||"template"===t.localName)return this.__shady_native_importNode(t,e);var n=this.__shady_native_importNode(t,!1);if(e)for(t=t.__shady_firstChild;t;t=t.__shady_nextSibling)e=this.__shady_importNode(t,!0),n.__shady_appendChild(e);return n}}),wn=ft({addEventListener:le.bind(window),removeEventListener:ce.bind(window)}),En={};Object.getOwnPropertyDescriptor(HTMLElement.prototype,"parentElement")&&(En.parentElement=Ae.parentElement),Object.getOwnPropertyDescriptor(HTMLElement.prototype,"contains")&&(En.contains=Ae.contains),Object.getOwnPropertyDescriptor(HTMLElement.prototype,"children")&&(En.children=je.children),Object.getOwnPropertyDescriptor(HTMLElement.prototype,"innerHTML")&&(En.innerHTML=Be.innerHTML),Object.getOwnPropertyDescriptor(HTMLElement.prototype,"className")&&(En.className=mn.className);var Nn={EventTarget:[dn],Node:[Ae,window.EventTarget?null:dn],Text:[fn],Element:[mn,je,fn,!z.D||"innerHTML"in Element.prototype?Be:null,window.HTMLSlotElement?null:yn],HTMLElement:[vn,En],HTMLSlotElement:[yn],DocumentFragment:[Re,He],Document:[bn,Re,He,Fe],Window:[wn]},Cn=z.D?null:["innerHTML","textContent"];function Sn(t){var e,n=t?null:Cn,o={};for(e in Nn)o.ea=window[e]&&window[e].prototype,Nn[e].forEach(function(e){return function(o){return e.ea&&o&&dt(e.ea,o,t,n)}}(o)),o={ea:o.ea}}if(z.ka){var Tn={inUse:z.ka,patch:function(t){return $t(t),Gt(t),t},isShadyRoot:Q,enqueue:mt,flush:vt,flushInitial:function(t){!t.pa&&t.R&&Je(t)},settings:z,filterMutations:function(t,e){var n=e.getRootNode();return t.map(function(t){var e=n===t.target.getRootNode();if(e&&t.addedNodes){if((e=Array.from(t.addedNodes).filter(function(t){return n===t.getRootNode()})).length)return t=Object.create(t),Object.defineProperty(t,"addedNodes",{value:e,configurable:!0}),t}else if(e)return t}).filter(function(t){return t})},observeChildren:function(t,e){var n=K(t);n.V||(n.V=new yt),n.V.$.add(e);var o=n.V;return{Ca:e,P:o,Ea:t,takeRecords:function(){return o.takeRecords()}}},unobserveChildren:function(t){var e=t&&t.P;e&&(e.$.delete(t.Ca),e.$.size||(K(t.Ea).V=null))},deferConnectionCallbacks:z.deferConnectionCallbacks,preferPerformance:z.preferPerformance,handlesDynamicScoping:!0,wrap:z.M?function(t){if(Q(t)||t instanceof un)return t;var e=hn.get(t);return e||(e=new un(t),hn.set(t,e)),e}:function(t){return t},Wrapper:un,composedPath:function(t){return t.__composedPath||(t.__composedPath=te(t.target,!0)),t.__composedPath},noPatch:z.M,nativeMethods:Ot,nativeTree:Dt};window.ShadyDOM=Tn,function(){var t=["dispatchEvent","addEventListener","removeEventListener"];window.EventTarget?Lt(window.EventTarget.prototype,t):(Lt(Node.prototype,t),Lt(Window.prototype,t)),Tt?Lt(Node.prototype,"parentNode firstChild lastChild previousSibling nextSibling childNodes parentElement textContent".split(" ")):Mt(Node.prototype,{parentNode:{get:function(){return At.currentNode=this,At.parentNode()}},firstChild:{get:function(){return At.currentNode=this,At.firstChild()}},lastChild:{get:function(){return At.currentNode=this,At.lastChild()}},previousSibling:{get:function(){return At.currentNode=this,At.previousSibling()}},nextSibling:{get:function(){return At.currentNode=this,At.nextSibling()}},childNodes:{get:function(){var t=[];At.currentNode=this;for(var e=At.firstChild();e;)t.push(e),e=At.nextSibling();return t}},parentElement:{get:function(){return Pt.currentNode=this,Pt.parentNode()}},textContent:{get:function(){switch(this.nodeType){case Node.ELEMENT_NODE:case Node.DOCUMENT_FRAGMENT_NODE:for(var t,e=document.createTreeWalker(this,NodeFilter.SHOW_TEXT,null,!1),n="";t=e.nextNode();)n+=t.nodeValue;return n;default:return this.nodeValue}},set:function(t){switch(null==t&&(t=""),this.nodeType){case Node.ELEMENT_NODE:case Node.DOCUMENT_FRAGMENT_NODE:kt(this),(0<t.length||this.nodeType===Node.ELEMENT_NODE)&&this.__shady_native_insertBefore(document.createTextNode(t),void 0);break;default:this.nodeValue=t}}}}),Lt(Node.prototype,"appendChild insertBefore removeChild replaceChild cloneNode contains".split(" ")),Lt(HTMLElement.prototype,["parentElement","contains"]),t={firstElementChild:{get:function(){return Pt.currentNode=this,Pt.firstChild()}},lastElementChild:{get:function(){return Pt.currentNode=this,Pt.lastChild()}},children:{get:function(){var t=[];Pt.currentNode=this;for(var e=Pt.firstChild();e;)t.push(e),e=Pt.nextSibling();return ct(t)}},childElementCount:{get:function(){return this.children?this.children.length:0}}},Tt?(Lt(Element.prototype,Rt),Lt(Element.prototype,["previousElementSibling","nextElementSibling","innerHTML","className"]),Lt(HTMLElement.prototype,["children","innerHTML","className"])):(Mt(Element.prototype,t),Mt(Element.prototype,{previousElementSibling:{get:function(){return Pt.currentNode=this,Pt.previousSibling()}},nextElementSibling:{get:function(){return Pt.currentNode=this,Pt.nextSibling()}},innerHTML:{get:function(){return St(this,ut)},set:function(t){var e="template"===this.localName?this.content:this;kt(e);var n=this.localName||"div";for((n=this.namespaceURI&&this.namespaceURI!==jt.namespaceURI?jt.createElementNS(this.namespaceURI,n):jt.createElement(n)).innerHTML=t,t="template"===this.localName?n.content:n;n=t.__shady_native_firstChild;)e.__shady_native_insertBefore(n,void 0)}},className:{get:function(){return this.getAttribute("class")||""},set:function(t){this.setAttribute("class",t)}}})),Lt(Element.prototype,"setAttribute getAttribute hasAttribute removeAttribute focus blur".split(" ")),Lt(Element.prototype,Ht),Lt(HTMLElement.prototype,["focus","blur"]),window.HTMLTemplateElement&&Lt(window.HTMLTemplateElement.prototype,["innerHTML"]),Tt?Lt(DocumentFragment.prototype,Rt):Mt(DocumentFragment.prototype,t),Lt(DocumentFragment.prototype,Ht),Tt?(Lt(Document.prototype,Rt),Lt(Document.prototype,["activeElement"])):Mt(Document.prototype,t),Lt(Document.prototype,["importNode","getElementById"]),Lt(Document.prototype,Ht)}(),Sn("__shady_"),Object.defineProperty(document,"_activeElement",Fe.activeElement),dt(Window.prototype,wn,"__shady_"),z.M||(Sn(),function(){if(!Xt&&Object.getOwnPropertyDescriptor(Event.prototype,"isTrusted")){var t=function(){var t=new MouseEvent("click",{bubbles:!0,cancelable:!0,composed:!0});this.__shady_dispatchEvent(t)};Element.prototype.click?Element.prototype.click=t:HTMLElement.prototype.click&&(HTMLElement.prototype.click=t)}}()),function(){for(var t in oe)window.__shady_native_addEventListener(t,function(t){t.__target||(he(t),ae(t))},!0)}(),window.Event=de,window.CustomEvent=fe,window.MouseEvent=pe,window.ShadowRoot=Ke}var On=new Set("annotation-xml color-profile font-face font-face-src font-face-uri font-face-format font-face-name missing-glyph".split(" "));function Dn(t){var e=On.has(t);return t=/^[a-z][.0-9_a-z]*-[\-.0-9_a-z]*$/.test(t),!e&&t}function xn(t){var e=t.isConnected;if(void 0!==e)return e;for(;t&&!(t.__CE_isImportDocument||t instanceof Document);)t=t.parentNode||(window.ShadowRoot&&t instanceof ShadowRoot?t.host:void 0);return!(!t||!(t.__CE_isImportDocument||t instanceof Document))}function Mn(t,e){for(;e&&e!==t&&!e.nextSibling;)e=e.parentNode;return e&&e!==t?e.nextSibling:null}function Ln(t,e,n){n=void 0===n?new Set:n;for(var o=t;o;){if(o.nodeType===Node.ELEMENT_NODE){var r=o;e(r);var i=r.localName;if("link"===i&&"import"===r.getAttribute("rel")){if((o=r.import)instanceof Node&&!n.has(o))for(n.add(o),o=o.firstChild;o;o=o.nextSibling)Ln(o,e,n);o=Mn(t,r);continue}if("template"===i){o=Mn(t,r);continue}if(r=r.__CE_shadowRoot)for(r=r.firstChild;r;r=r.nextSibling)Ln(r,e,n)}o=o.firstChild?o.firstChild:Mn(t,o)}}function An(t,e,n){t[e]=n}function Pn(){this.a=new Map,this.u=new Map,this.c=[],this.f=[],this.b=!1}function jn(t,e){t.b&&Ln(e,function(e){return kn(t,e)})}function kn(t,e){if(t.b&&!e.__CE_patched){e.__CE_patched=!0;for(var n=0;n<t.c.length;n++)t.c[n](e);for(n=0;n<t.f.length;n++)t.f[n](e)}}function Rn(t,e){var n=[];for(Ln(e,function(t){return n.push(t)}),e=0;e<n.length;e++){var o=n[e];1===o.__CE_state?t.connectedCallback(o):In(t,o)}}function Hn(t,e){var n=[];for(Ln(e,function(t){return n.push(t)}),e=0;e<n.length;e++){var o=n[e];1===o.__CE_state&&t.disconnectedCallback(o)}}function Fn(t,e,n){var o=(n=void 0===n?{}:n).$a||new Set,r=n.fa||function(e){return In(t,e)},i=[];if(Ln(e,function(e){if("link"===e.localName&&"import"===e.getAttribute("rel")){var n=e.import;n instanceof Node&&(n.__CE_isImportDocument=!0,n.__CE_hasRegistry=!0),n&&"complete"===n.readyState?n.__CE_documentLoadHandled=!0:e.addEventListener("load",function(){var n=e.import;if(!n.__CE_documentLoadHandled){n.__CE_documentLoadHandled=!0;var i=new Set(o);i.delete(n),Fn(t,n,{$a:i,fa:r})}})}else i.push(e)},o),t.b)for(e=0;e<i.length;e++)kn(t,i[e]);for(e=0;e<i.length;e++)r(i[e])}function In(t,e){if(void 0===e.__CE_state){var n=e.ownerDocument;if((n.defaultView||n.__CE_isImportDocument&&n.__CE_hasRegistry)&&(n=t.a.get(e.localName))){n.constructionStack.push(e);var o=n.constructorFunction;try{try{if(new o!==e)throw Error("The custom element constructor did not produce the element being upgraded.")}finally{n.constructionStack.pop()}}catch(a){throw e.__CE_state=2,a}if(e.__CE_state=1,e.__CE_definition=n,n.attributeChangedCallback)for(n=n.observedAttributes,o=0;o<n.length;o++){var r=n[o],i=e.getAttribute(r);null!==i&&t.attributeChangedCallback(e,r,null,i,null)}xn(e)&&t.connectedCallback(e)}}}function Bn(t){var e=document;this.b=t,this.a=e,this.P=void 0,Fn(this.b,this.a),"loading"===this.a.readyState&&(this.P=new MutationObserver(this.c.bind(this)),this.P.observe(this.a,{childList:!0,subtree:!0}))}function Un(t){t.P&&t.P.disconnect()}function qn(){var t=this;this.a=this.w=void 0,this.b=new Promise(function(e){t.a=e,t.w&&e(t.w)})}function Vn(t){this.c=!1,this.a=t,this.F=new Map,this.f=function(t){return t()},this.b=!1,this.u=[],this.aa=new Bn(t)}Pn.prototype.connectedCallback=function(t){var e=t.__CE_definition;e.connectedCallback&&e.connectedCallback.call(t)},Pn.prototype.disconnectedCallback=function(t){var e=t.__CE_definition;e.disconnectedCallback&&e.disconnectedCallback.call(t)},Pn.prototype.attributeChangedCallback=function(t,e,n,o,r){var i=t.__CE_definition;i.attributeChangedCallback&&-1<i.observedAttributes.indexOf(e)&&i.attributeChangedCallback.call(t,e,n,o,r)},Bn.prototype.c=function(t){var e=this.a.readyState;for("interactive"!==e&&"complete"!==e||Un(this),e=0;e<t.length;e++)for(var n=t[e].addedNodes,o=0;o<n.length;o++)Fn(this.b,n[o])},qn.prototype.resolve=function(t){if(this.w)throw Error("Already resolved.");this.w=t,this.a&&this.a(t)},(t=Vn.prototype).wa=function(t,e){var n=this;if(!(e instanceof Function))throw new TypeError("Custom element constructors must be functions.");if(!Dn(t))throw new SyntaxError("The element name '"+t+"' is not valid.");if(this.a.a.get(t))throw Error("A custom element with name '"+t+"' has already been defined.");if(this.c)throw Error("A custom element is already being defined.");this.c=!0;try{var o=function(t){var e=r[t];if(void 0!==e&&!(e instanceof Function))throw Error("The '"+t+"' callback must be a function.");return e},r=e.prototype;if(!(r instanceof Object))throw new TypeError("The custom element constructor's prototype is not an object.");var i=o("connectedCallback"),a=o("disconnectedCallback"),s=o("adoptedCallback"),l=o("attributeChangedCallback"),c=e.observedAttributes||[]}catch(u){return}finally{this.c=!1}e={localName:t,constructorFunction:e,connectedCallback:i,disconnectedCallback:a,adoptedCallback:s,attributeChangedCallback:l,observedAttributes:c,constructionStack:[]},function(t,e,n){t.a.set(e,n),t.u.set(n.constructorFunction,n)}(this.a,t,e),this.u.push(e),this.b||(this.b=!0,this.f(function(){return function(t){if(!1!==t.b){t.b=!1;for(var e=t.u,n=[],o=new Map,r=0;r<e.length;r++)o.set(e[r].localName,[]);for(Fn(t.a,document,{fa:function(e){if(void 0===e.__CE_state){var r=e.localName,i=o.get(r);i?i.push(e):t.a.a.get(r)&&n.push(e)}}}),r=0;r<n.length;r++)In(t.a,n[r]);for(;0<e.length;){var i=e.shift();r=i.localName,i=o.get(i.localName);for(var a=0;a<i.length;a++)In(t.a,i[a]);(r=t.F.get(r))&&r.resolve(void 0)}}}(n)}))},t.fa=function(t){Fn(this.a,t)},t.get=function(t){if(t=this.a.a.get(t))return t.constructorFunction},t.xa=function(t){if(!Dn(t))return Promise.reject(new SyntaxError("'"+t+"' is not a valid custom element name."));var e=this.F.get(t);return e?e.b:(e=new qn,this.F.set(t,e),this.a.a.get(t)&&!this.u.some(function(e){return e.localName===t})&&e.resolve(void 0),e.b)},t.Ra=function(t){Un(this.aa);var e=this.f;this.f=function(n){return t(function(){return e(n)})}},window.CustomElementRegistry=Vn,Vn.prototype.define=Vn.prototype.wa,Vn.prototype.upgrade=Vn.prototype.fa,Vn.prototype.get=Vn.prototype.get,Vn.prototype.whenDefined=Vn.prototype.xa,Vn.prototype.polyfillWrapFlushCallback=Vn.prototype.Ra;var Wn=window.Document.prototype.createElement,Gn=window.Document.prototype.createElementNS,$n=window.Document.prototype.importNode,Kn=window.Document.prototype.prepend,Xn=window.Document.prototype.append,zn=window.DocumentFragment.prototype.prepend,Jn=window.DocumentFragment.prototype.append,Yn=window.Node.prototype.cloneNode,Zn=window.Node.prototype.appendChild,Qn=window.Node.prototype.insertBefore,to=window.Node.prototype.removeChild,eo=window.Node.prototype.replaceChild,no=Object.getOwnPropertyDescriptor(window.Node.prototype,"textContent"),oo=window.Element.prototype.attachShadow,ro=Object.getOwnPropertyDescriptor(window.Element.prototype,"innerHTML"),io=window.Element.prototype.getAttribute,ao=window.Element.prototype.setAttribute,so=window.Element.prototype.removeAttribute,lo=window.Element.prototype.getAttributeNS,co=window.Element.prototype.setAttributeNS,uo=window.Element.prototype.removeAttributeNS,ho=window.Element.prototype.insertAdjacentElement,fo=window.Element.prototype.insertAdjacentHTML,po=window.Element.prototype.prepend,_o=window.Element.prototype.append,mo=window.Element.prototype.before,vo=window.Element.prototype.after,yo=window.Element.prototype.replaceWith,go=window.Element.prototype.remove,bo=window.HTMLElement,wo=Object.getOwnPropertyDescriptor(window.HTMLElement.prototype,"innerHTML"),Eo=window.HTMLElement.prototype.insertAdjacentElement,No=window.HTMLElement.prototype.insertAdjacentHTML,Co=new function(){};function So(t,e,n){function o(e){return function(n){for(var o=[],r=0;r<arguments.length;++r)o[r]=arguments[r];r=[];for(var i=[],a=0;a<o.length;a++){var s=o[a];if(s instanceof Element&&xn(s)&&i.push(s),s instanceof DocumentFragment)for(s=s.firstChild;s;s=s.nextSibling)r.push(s);else r.push(s)}for(e.apply(this,o),o=0;o<i.length;o++)Hn(t,i[o]);if(xn(this))for(o=0;o<r.length;o++)(i=r[o])instanceof Element&&Rn(t,i)}}void 0!==n.da&&(e.prepend=o(n.da)),void 0!==n.append&&(e.append=o(n.append))}var To=window.customElements;if(!To||To.forcePolyfill||"function"!=typeof To.define||"function"!=typeof To.get){var Oo=new Pn;!function(){var t=Oo;window.HTMLElement=function(){function e(){var e=this.constructor,n=t.u.get(e);if(!n)throw Error("The custom element being constructed was not registered with `customElements`.");var o=n.constructionStack;if(0===o.length)return o=Wn.call(document,n.localName),Object.setPrototypeOf(o,e.prototype),o.__CE_state=1,o.__CE_definition=n,kn(t,o),o;var r=o[n=o.length-1];if(r===Co)throw Error("The HTMLElement constructor was either called reentrantly for this constructor or called multiple times.");return o[n]=Co,Object.setPrototypeOf(r,e.prototype),kn(t,r),r}return e.prototype=bo.prototype,Object.defineProperty(e.prototype,"constructor",{writable:!0,configurable:!0,enumerable:!1,value:e}),e}()}(),function(){var t=Oo;An(Document.prototype,"createElement",function(e){if(this.__CE_hasRegistry){var n=t.a.get(e);if(n)return new n.constructorFunction}return e=Wn.call(this,e),kn(t,e),e}),An(Document.prototype,"importNode",function(e,n){return e=$n.call(this,e,!!n),this.__CE_hasRegistry?Fn(t,e):jn(t,e),e}),An(Document.prototype,"createElementNS",function(e,n){if(this.__CE_hasRegistry&&(null===e||"http://www.w3.org/1999/xhtml"===e)){var o=t.a.get(n);if(o)return new o.constructorFunction}return e=Gn.call(this,e,n),kn(t,e),e}),So(t,Document.prototype,{da:Kn,append:Xn})}(),So(Oo,DocumentFragment.prototype,{da:zn,append:Jn}),function(){function t(t,n){Object.defineProperty(t,"textContent",{enumerable:n.enumerable,configurable:!0,get:n.get,set:function(t){if(this.nodeType===Node.TEXT_NODE)n.set.call(this,t);else{var o=void 0;if(this.firstChild){var r=this.childNodes,i=r.length;if(0<i&&xn(this)){o=Array(i);for(var a=0;a<i;a++)o[a]=r[a]}}if(n.set.call(this,t),o)for(t=0;t<o.length;t++)Hn(e,o[t])}}})}var e=Oo;An(Node.prototype,"insertBefore",function(t,n){if(t instanceof DocumentFragment){var o=Array.prototype.slice.apply(t.childNodes);if(t=Qn.call(this,t,n),xn(this))for(n=0;n<o.length;n++)Rn(e,o[n]);return t}return o=xn(t),n=Qn.call(this,t,n),o&&Hn(e,t),xn(this)&&Rn(e,t),n}),An(Node.prototype,"appendChild",function(t){if(t instanceof DocumentFragment){var n=Array.prototype.slice.apply(t.childNodes);if(t=Zn.call(this,t),xn(this))for(var o=0;o<n.length;o++)Rn(e,n[o]);return t}return n=xn(t),o=Zn.call(this,t),n&&Hn(e,t),xn(this)&&Rn(e,t),o}),An(Node.prototype,"cloneNode",function(t){return t=Yn.call(this,!!t),this.ownerDocument.__CE_hasRegistry?Fn(e,t):jn(e,t),t}),An(Node.prototype,"removeChild",function(t){var n=xn(t),o=to.call(this,t);return n&&Hn(e,t),o}),An(Node.prototype,"replaceChild",function(t,n){if(t instanceof DocumentFragment){var o=Array.prototype.slice.apply(t.childNodes);if(t=eo.call(this,t,n),xn(this))for(Hn(e,n),n=0;n<o.length;n++)Rn(e,o[n]);return t}o=xn(t);var r=eo.call(this,t,n),i=xn(this);return i&&Hn(e,n),o&&Hn(e,t),i&&Rn(e,t),r}),no&&no.get?t(Node.prototype,no):function(t,e){t.b=!0,t.c.push(e)}(e,function(e){t(e,{enumerable:!0,configurable:!0,get:function(){for(var t=[],e=0;e<this.childNodes.length;e++){var n=this.childNodes[e];n.nodeType!==Node.COMMENT_NODE&&t.push(n.textContent)}return t.join("")},set:function(t){for(;this.firstChild;)to.call(this,this.firstChild);null!=t&&""!==t&&Zn.call(this,document.createTextNode(t))}})})}(),function(){function t(t,e){Object.defineProperty(t,"innerHTML",{enumerable:e.enumerable,configurable:!0,get:e.get,set:function(t){var n=this,r=void 0;if(xn(this)&&(r=[],Ln(this,function(t){t!==n&&r.push(t)})),e.set.call(this,t),r)for(var i=0;i<r.length;i++){var a=r[i];1===a.__CE_state&&o.disconnectedCallback(a)}return this.ownerDocument.__CE_hasRegistry?Fn(o,this):jn(o,this),t}})}function e(t,e){An(t,"insertAdjacentElement",function(t,n){var r=xn(n);return t=e.call(this,t,n),r&&Hn(o,n),xn(t)&&Rn(o,n),t})}function n(t,e){function n(t,e){for(var n=[];t!==e;t=t.nextSibling)n.push(t);for(e=0;e<n.length;e++)Fn(o,n[e])}An(t,"insertAdjacentHTML",function(t,o){if("beforebegin"===(t=t.toLowerCase())){var r=this.previousSibling;e.call(this,t,o),n(r||this.parentNode.firstChild,this)}else if("afterbegin"===t)r=this.firstChild,e.call(this,t,o),n(this.firstChild,r);else if("beforeend"===t)r=this.lastChild,e.call(this,t,o),n(r||this.firstChild,null);else{if("afterend"!==t)throw new SyntaxError("The value provided ("+String(t)+") is not one of 'beforebegin', 'afterbegin', 'beforeend', or 'afterend'.");r=this.nextSibling,e.call(this,t,o),n(this.nextSibling,r)}})}var o=Oo;oo&&An(Element.prototype,"attachShadow",function(t){t=oo.call(this,t);var e=o;if(e.b&&!t.__CE_patched){t.__CE_patched=!0;for(var n=0;n<e.c.length;n++)e.c[n](t)}return this.__CE_shadowRoot=t}),ro&&ro.get?t(Element.prototype,ro):wo&&wo.get?t(HTMLElement.prototype,wo):function(t,e){t.b=!0,t.f.push(e)}(o,function(e){t(e,{enumerable:!0,configurable:!0,get:function(){return Yn.call(this,!0).innerHTML},set:function(t){var e="template"===this.localName,n=e?this.content:this,o=Gn.call(document,this.namespaceURI,this.localName);for(o.innerHTML=t;0<n.childNodes.length;)to.call(n,n.childNodes[0]);for(t=e?o.content:o;0<t.childNodes.length;)Zn.call(n,t.childNodes[0])}})}),An(Element.prototype,"setAttribute",function(t,e){if(1!==this.__CE_state)return ao.call(this,t,e);var n=io.call(this,t);ao.call(this,t,e),e=io.call(this,t),o.attributeChangedCallback(this,t,n,e,null)}),An(Element.prototype,"setAttributeNS",function(t,e,n){if(1!==this.__CE_state)return co.call(this,t,e,n);var r=lo.call(this,t,e);co.call(this,t,e,n),n=lo.call(this,t,e),o.attributeChangedCallback(this,e,r,n,t)}),An(Element.prototype,"removeAttribute",function(t){if(1!==this.__CE_state)return so.call(this,t);var e=io.call(this,t);so.call(this,t),null!==e&&o.attributeChangedCallback(this,t,e,null,null)}),An(Element.prototype,"removeAttributeNS",function(t,e){if(1!==this.__CE_state)return uo.call(this,t,e);var n=lo.call(this,t,e);uo.call(this,t,e);var r=lo.call(this,t,e);n!==r&&o.attributeChangedCallback(this,e,n,r,t)}),Eo?e(HTMLElement.prototype,Eo):ho?e(Element.prototype,ho):console.warn("Custom Elements: `Element#insertAdjacentElement` was not patched."),No?n(HTMLElement.prototype,No):fo?n(Element.prototype,fo):console.warn("Custom Elements: `Element#insertAdjacentHTML` was not patched."),So(o,Element.prototype,{da:po,append:_o}),function(t){function e(e){return function(n){for(var o=[],r=0;r<arguments.length;++r)o[r]=arguments[r];r=[];for(var i=[],a=0;a<o.length;a++){var s=o[a];if(s instanceof Element&&xn(s)&&i.push(s),s instanceof DocumentFragment)for(s=s.firstChild;s;s=s.nextSibling)r.push(s);else r.push(s)}for(e.apply(this,o),o=0;o<i.length;o++)Hn(t,i[o]);if(xn(this))for(o=0;o<r.length;o++)(i=r[o])instanceof Element&&Rn(t,i)}}var n=Element.prototype;void 0!==mo&&(n.before=e(mo)),void 0!==mo&&(n.after=e(vo)),void 0!==yo&&An(n,"replaceWith",function(e){for(var n=[],o=0;o<arguments.length;++o)n[o]=arguments[o];o=[];for(var r=[],i=0;i<n.length;i++){var a=n[i];if(a instanceof Element&&xn(a)&&r.push(a),a instanceof DocumentFragment)for(a=a.firstChild;a;a=a.nextSibling)o.push(a);else o.push(a)}for(i=xn(this),yo.apply(this,n),n=0;n<r.length;n++)Hn(t,r[n]);if(i)for(Hn(t,this),n=0;n<o.length;n++)(r=o[n])instanceof Element&&Rn(t,r)}),void 0!==go&&An(n,"remove",function(){var e=xn(this);go.call(this),e&&Hn(t,this)})}(o)}(),document.__CE_hasRegistry=!0;var Do=new Vn(Oo);Object.defineProperty(window,"customElements",{configurable:!0,enumerable:!0,value:Do})}function xo(){this.end=this.start=0,this.rules=this.parent=this.previous=null,this.cssText=this.parsedCssText="",this.atRule=!1,this.type=0,this.parsedSelector=this.selector=this.keyframesName=""}function Mo(t){var e=Lo,n=t=t.replace(Fo,"").replace(Io,""),o=new xo;o.start=0,o.end=n.length;for(var r=o,i=0,a=n.length;i<a;i++)if("{"===n[i]){r.rules||(r.rules=[]);var s=r,l=s.rules[s.rules.length-1]||null;(r=new xo).start=i+1,r.parent=s,r.previous=l,s.rules.push(r)}else"}"===n[i]&&(r.end=i+1,r=r.parent||o);return e(o,t)}function Lo(t,e){var n=e.substring(t.start,t.end-1);if(t.parsedCssText=t.cssText=n.trim(),t.parent&&(n=(n=(n=function(t){return t.replace(/\\([0-9a-f]{1,6})\s/gi,function(t,e){for(e=6-(t=e).length;e--;)t="0"+t;return"\\"+t})}(n=e.substring(t.previous?t.previous.end:t.parent.start,t.start-1))).replace(Go," ")).substring(n.lastIndexOf(";")+1),n=t.parsedSelector=t.selector=n.trim(),t.atRule=0===n.indexOf("@"),t.atRule?0===n.indexOf("@media")?t.type=Ro:n.match(Wo)&&(t.type=ko,t.keyframesName=t.selector.split(Go).pop()):t.type=0===n.indexOf("--")?Ho:jo),n=t.rules)for(var o=0,r=n.length,i=void 0;o<r&&(i=n[o]);o++)Lo(i,e);return t}var Ao,Po,jo=1,ko=7,Ro=4,Ho=1e3,Fo=/\/\*[^*]*\*+([^\/*][^*]*\*+)*\//gim,Io=/@import[^;]*;/gim,Bo=/(?:^[^;\-\s}]+)?--[^;{}]*?:[^{};]*?(?:[;\n]|$)/gim,Uo=/(?:^[^;\-\s}]+)?--[^;{}]*?:[^{};]*?{[^}]*?}(?:[;\n]|$)?/gim,qo=/@apply\s*\(?[^);]*\)?\s*(?:[;\n]|$)?/gim,Vo=/[^;:]*?:[^;]*?var\([^;]*\)(?:[;\n]|$)?/gim,Wo=/^@[^\s]*keyframes/,Go=/\s+/g,$o=!(window.ShadyDOM&&window.ShadyDOM.inUse);function Ko(t){Ao=(!t||!t.shimcssproperties)&&($o||!(navigator.userAgent.match(/AppleWebKit\/601|Edge\/15/)||!window.CSS||!CSS.supports||!CSS.supports("box-shadow","0 0 0 var(--foo)")))}window.ShadyCSS&&void 0!==window.ShadyCSS.cssBuild&&(Po=window.ShadyCSS.cssBuild);var Xo=!(!window.ShadyCSS||!window.ShadyCSS.disableRuntime);window.ShadyCSS&&void 0!==window.ShadyCSS.nativeCss?Ao=window.ShadyCSS.nativeCss:window.ShadyCSS?(Ko(window.ShadyCSS),window.ShadyCSS=void 0):Ko(window.WebComponents&&window.WebComponents.flags);var zo=Ao,Jo=Po,Yo=/(?:^|[;\s{]\s*)(--[\w-]*?)\s*:\s*(?:((?:'(?:\\'|.)*?'|"(?:\\"|.)*?"|\([^)]*?\)|[^};{])+)|\{([^}]*)\}(?:(?=[;\s}])|$))/gi,Zo=/(?:^|\W+)@apply\s*\(?([^);\n]*)\)?/gi,Qo=/(--[\w-]+)\s*([:,;)]|$)/gi,tr=/(animation\s*:)|(animation-name\s*:)/,er=/@media\s(.*)/,nr=/\{[^}]*\}/g,or=new Set;function rr(t,e){return t?("string"==typeof t&&(t=Mo(t)),e&&sr(t,e),function t(e,n,o){o=void 0===o?"":o;var r="";if(e.cssText||e.rules){var i,a=e.rules;if((i=a)&&(i=!((i=a[0])&&i.selector&&0===i.selector.indexOf("--"))),i){i=0;for(var s=a.length,l=void 0;i<s&&(l=a[i]);i++)r=t(l,n,r)}else n=n?e.cssText:(n=(n=e.cssText).replace(Bo,"").replace(Uo,"")).replace(qo,"").replace(Vo,""),(r=n.trim())&&(r="  "+r+"\n")}return r&&(e.selector&&(o+=e.selector+" {\n"),o+=r,e.selector&&(o+="}\n\n")),o}(t,zo)):""}function ir(t){return!t.__cssRules&&t.textContent&&(t.__cssRules=Mo(t.textContent)),t.__cssRules||null}function ar(t){return!!t.parent&&t.parent.type===ko}function sr(t,e,n,o){if(t){var r=!1,i=t.type;if(o&&i===Ro){var a=t.selector.match(er);a&&(window.matchMedia(a[1]).matches||(r=!0))}if(i===jo?e(t):n&&i===ko?n(t):i===Ho&&(r=!0),(t=t.rules)&&!r)for(r=0,i=t.length,a=void 0;r<i&&(a=t[r]);r++)sr(a,e,n,o)}}function lr(t,e,n,o){var r=document.createElement("style");return e&&r.setAttribute("scope",e),r.textContent=t,hr(r,n,o),r}var cr=null;function ur(t){t=document.createComment(" Shady DOM styles for "+t+" ");var e=document.head;return e.insertBefore(t,(cr?cr.nextSibling:null)||e.firstChild),cr=t}function hr(t,e,n){(e=e||document.head).insertBefore(t,n&&n.nextSibling||e.firstChild),cr?t.compareDocumentPosition(cr)===Node.DOCUMENT_POSITION_PRECEDING&&(cr=t):cr=t}function dr(t,e){for(var n=0,o=t.length;e<o;e++)if("("===t[e])n++;else if(")"===t[e]&&0==--n)return e;return-1}function fr(t,e){$o?t.setAttribute("class",e):window.ShadyDOM.nativeMethods.setAttribute.call(t,"class",e)}var pr=window.ShadyDOM&&window.ShadyDOM.wrap||function(t){return t};function _r(t){var e=t.localName,n="";return e?-1<e.indexOf("-")||(n=e,e=t.getAttribute&&t.getAttribute("is")||""):(e=t.is,n=t.extends),{is:e,X:n}}function mr(t){for(var e=[],n="",o=0;0<=o&&o<t.length;o++)if("("===t[o]){var r=dr(t,o);n+=t.slice(o,r+1),o=r}else","===t[o]?(e.push(n),n=""):n+=t[o];return n&&e.push(n),e}function vr(t){if(void 0!==Jo)return Jo;if(void 0===t.__cssBuild){var e=t.getAttribute("css-build");if(e)t.__cssBuild=e;else{if(""!==(e=(e="template"===t.localName?t.content.firstChild:t.firstChild)instanceof Comment&&"css-build"===(e=e.textContent.trim().split(":"))[0]?e[1]:"")){var n="template"===t.localName?t.content.firstChild:t.firstChild;n.parentNode.removeChild(n)}t.__cssBuild=e}}return t.__cssBuild||""}function yr(t){return!(""===(t=void 0===t?"":t)||!zo)&&($o?"shadow"===t:"shady"===t)}function gr(){}function br(t,e,n){var o;if(e.nodeType===Node.ELEMENT_NODE&&n(e),o="template"===e.localName?(e.content||e._content||e).childNodes:e.children||e.childNodes)for(e=0;e<o.length;e++)br(t,o[e],n)}function wr(t,e,n){if(e)if(t.classList)n?(t.classList.remove("style-scope"),t.classList.remove(e)):(t.classList.add("style-scope"),t.classList.add(e));else if(t.getAttribute){var o=t.getAttribute("class");n?o&&fr(t,e=o.replace("style-scope","").replace(e,"")):fr(t,(o?o+" ":"")+"style-scope "+e)}}function Er(t,e,n){br(Fr,t,function(t){wr(t,e,!0),wr(t,n)})}function Nr(t,e){br(Fr,t,function(t){wr(t,e||"",!0)})}function Cr(t,e,n,o,r){var i=Fr;return""===(r=void 0===r?"":r)&&($o||"shady"===(void 0===o?"":o)?r=rr(e,n):r=function(t,e,n,o,r){var i=Sr(n,o);return n=n?"."+n:"",rr(e,function(e){e.c||(e.selector=e.C=Tr(t,e,t.b,n,i),e.c=!0),r&&r(e,n,i)})}(i,e,(t=_r(t)).is,t.X,n)+"\n\n"),r.trim()}function Sr(t,e){return e?"[is="+t+"]":t}function Tr(t,e,n,o,r){var i=mr(e.selector);if(!ar(e)){e=0;for(var a=i.length,s=void 0;e<a&&(s=i[e]);e++)i[e]=n.call(t,s,o,r)}return i.filter(function(t){return!!t}).join(",")}function Or(t){return t.replace(Mr,function(t,e,n){return-1<n.indexOf("+")?n=n.replace(/\+/g,"___"):-1<n.indexOf("___")&&(n=n.replace(/___/g,"+")),":"+e+"("+n+")"})}function Dr(t,e){t=t.split(/(\[.+?\])/);for(var n=[],o=0;o<t.length;o++)if(1==o%2)n.push(t[o]);else{var r=t[o];""===r&&o===t.length-1||((r=r.split(":"))[0]+=e,n.push(r.join(":")))}return n.join("")}function xr(t){":root"===t.selector&&(t.selector="html")}gr.prototype.b=function(t,e,n){var o=!1;t=t.trim();var r=Mr.test(t);r&&(t=Or(t=t.replace(Mr,function(t,e,n){return":"+e+"("+n.replace(/\s/g,"")+")"})));var i=Hr.test(t);if(i){var a=function(t){for(var e,n=[];e=t.match(Hr);){var o=e.index,r=dr(t,o);if(-1===r)throw Error(e.input+" selector missing ')'");e=t.slice(o,r+1),t=t.replace(e,"î"),n.push(e)}return{na:t,matches:n}}(t);t=a.na,a=a.matches}return t=(t=t.replace(Pr,":host $1")).replace(Lr,function(t,r,i){return o||(t=function(t,e,n,o){var r=t.indexOf("::slotted");if(0<=t.indexOf(":host")?t=function(t,e){var n=t.match(jr);return(n=n&&n[2].trim()||"")?n[0].match(Ar)?t.replace(jr,function(t,n,o){return e+o}):n.split(Ar)[0]===e?n:"should_not_match":t.replace(":host",e)}(t,o):0!==r&&(t=n?Dr(t,n):t),n=!1,0<=r&&(e="",n=!0),n){var i=!0;n&&(t=t.replace(kr,function(t,e){return" > "+e}))}return{value:t,Ha:e,stop:i}}(i,r,e,n),o=o||t.stop,r=t.Ha,i=t.value),r+i}),i&&(t=function(t,e){var n=t.split("î");return e.reduce(function(t,e,o){return t+e+n[o+1]},n[0])}(t,a)),r&&(t=Or(t)),t.replace(Rr,function(t,e,n,o){return'[dir="'+n+'"] '+e+o+", "+e+'[dir="'+n+'"]'+o})},gr.prototype.c=function(t){return t.match(":host")?"":t.match("::slotted")?this.b(t,":not(.style-scope)"):Dr(t.trim(),":not(.style-scope)")},n.Object.defineProperties(gr.prototype,{a:{configurable:!0,enumerable:!0,get:function(){return"style-scope"}}});var Mr=/:(nth[-\w]+)\(([^)]+)\)/,Lr=/(^|[\s>+~]+)((?:\[.+?\]|[^\s>+~=[])+)/g,Ar=/[[.:#*]/,Pr=/^(::slotted)/,jr=/(:host)(?:\(((?:\([^)(]*\)|[^)(]*)+?)\))/,kr=/(?:::slotted)(?:\(((?:\([^)(]*\)|[^)(]*)+?)\))/,Rr=/(.*):dir\((?:(ltr|rtl))\)(.*)/,Hr=/:(?:matches|any|-(?:webkit|moz)-any)/,Fr=new gr;function Ir(t,e,n,o,r){this.L=t||null,this.b=e||null,this.la=n||[],this.G=null,this.cssBuild=r||"",this.X=o||"",this.a=this.H=this.K=null}function Br(t){return t?t.__styleInfo:null}function Ur(t,e){return t.__styleInfo=e}function qr(t){var e=this.matches||this.matchesSelector||this.mozMatchesSelector||this.msMatchesSelector||this.oMatchesSelector||this.webkitMatchesSelector;return e&&e.call(this,t)}Ir.prototype.c=function(){return this.L},Ir.prototype._getStyleRules=Ir.prototype.c;var Vr=navigator.userAgent.match("Trident");function Wr(){}function Gr(t){if(!t.A){var e={},n={};$r(t,n)&&(e.J=n,t.rules=null),e.cssText=t.parsedCssText.replace(nr,"").replace(Yo,""),t.A=e}}function $r(t,e){var n=t.A;if(!n){n=t.parsedCssText;for(var o;t=Yo.exec(n);)"inherit"===(o=(t[2]||t[3]).trim())&&"unset"===o||(e[t[1].trim()]=o),o=!0;return o}if(n.J)return Object.assign(e,n.J),!0}function Kr(t,e,n){return e&&(e=0<=e.indexOf(";")?Xr(t,e,n):function t(e,n){var o=e.indexOf("var(");if(-1===o)return n(e,"","","");var r=dr(e,o+3),i=e.substring(o+4,r);return o=e.substring(0,o),e=t(e.substring(r+1),n),-1===(r=i.indexOf(","))?n(o,i.trim(),"",e):n(o,i.substring(0,r).trim(),i.substring(r+1).trim(),e)}(e,function(e,o,r,i){return o?((o=Kr(t,n[o],n))&&"initial"!==o?"apply-shim-inherit"===o&&(o="inherit"):o=Kr(t,n[r]||r,n)||r,e+(o||"")+i):e+i})),e&&e.trim()||""}function Xr(t,e,n){e=e.split(";");for(var o,r,i=0;i<e.length;i++)if(o=e[i]){if(Zo.lastIndex=0,r=Zo.exec(o))o=Kr(t,n[r[1]],n);else if(-1!==(r=o.indexOf(":"))){var a=o.substring(r);a=Kr(t,a=a.trim(),n)||a,o=o.substring(0,r)+a}e[i]=o&&o.lastIndexOf(";")===o.length-1?o.slice(0,-1):o||""}return e.join(";")}function zr(t,e,n){var o={},r={};return sr(e,function(e){!function(t,e,n,o){if(e.A||Gr(e),e.A.J){var r=_r(t);t=r.is,r=r.X,r=t?Sr(t,r):"html";var i=e.parsedSelector,a=":host > *"===i||"html"===i,s=0===i.indexOf(":host")&&!a;"shady"===n&&(s=!(a=i===r+" > *."+r||-1!==i.indexOf("html"))&&0===i.indexOf(r)),(a||s)&&(n=r,s&&(e.C||(e.C=Tr(Fr,e,Fr.b,t?"."+t:"",r)),n=e.C||r),o({na:n,Oa:s,bb:a}))}}(t,e,n,function(n){qr.call(t._element||t,n.na)&&(n.Oa?$r(e,o):$r(e,r))})},null,!0),{Ua:r,Ma:o}}function Jr(t,e,n,o){var r=_r(e),i=Sr(r.is,r.X),a=new RegExp("(?:^|[^.#[:])"+(e.extends?"\\"+i.slice(0,-1)+"\\]":i)+"($|[.:[\\s>+~])"),s=Br(e);r=s.L,s=s.cssBuild;var l=function(t,e){t=t.b;var n={};if(!$o&&t)for(var o=0,r=t[o];o<t.length;r=t[++o]){var i=r,a=e;i.f=new RegExp("\\b"+i.keyframesName+"(?!\\B|-)","g"),i.a=i.keyframesName+"-"+a,i.C=i.C||i.selector,i.selector=i.C.replace(i.keyframesName,i.a),n[r.keyframesName]=Yr(r)}return n}(r,o);return Cr(e,r,function(e){var r="";if(e.A||Gr(e),e.A.cssText&&(r=Xr(t,e.A.cssText,n)),e.cssText=r,!$o&&!ar(e)&&e.cssText){var s=r=e.cssText;if(null==e.ra&&(e.ra=tr.test(r)),e.ra)if(null==e.ba)for(var c in e.ba=[],l)r!==(s=(s=l[c])(r))&&(r=s,e.ba.push(c));else{for(c=0;c<e.ba.length;++c)r=(s=l[e.ba[c]])(r);s=r}e.cssText=s,e.C=e.C||e.selector,r="."+o,s=0;for(var u=(c=mr(e.C)).length,h=void 0;s<u&&(h=c[s]);s++)c[s]=h.match(a)?h.replace(i,r):r+" "+h;e.selector=c.join(",")}},s)}function Yr(t){return function(e){return e.replace(t.f,t.a)}}function Zr(t,e){var n=Qr,o=ir(t);t.textContent=rr(o,function(t){var o=t.cssText=t.parsedCssText;t.A&&t.A.cssText&&(o=o.replace(Bo,"").replace(Uo,""),t.cssText=Xr(n,o,e))})}n.Object.defineProperties(Wr.prototype,{a:{configurable:!0,enumerable:!0,get:function(){return"x-scope"}}});var Qr=new Wr,ti={},ei=window.customElements;if(ei&&!$o&&!Xo){var ni=ei.define;ei.define=function(t,e,n){ti[t]||(ti[t]=ur(t)),ni.call(ei,t,e,n)}}function oi(){this.cache={}}function ri(){}oi.prototype.store=function(t,e,n,o){var r=this.cache[t]||[];r.push({J:e,styleElement:n,H:o}),100<r.length&&r.shift(),this.cache[t]=r};var ii=new RegExp(Fr.a+"\\s*([^\\s]*)");function ai(t){return(t=(t.classList&&t.classList.value?t.classList.value:t.getAttribute("class")||"").match(ii))?t[1]:""}function si(t){var e=pr(t).getRootNode();return e===t||e===t.ownerDocument?"":(t=e.host)?_r(t).is:""}function li(t){for(var e=0;e<t.length;e++){var n=t[e];if(n.target!==document.documentElement&&n.target!==document.head)for(var o=0;o<n.addedNodes.length;o++){var r=n.addedNodes[o];if(r.nodeType===Node.ELEMENT_NODE){var i=r.getRootNode(),a=ai(r);if(a&&i===r.ownerDocument&&("style"!==r.localName&&"template"!==r.localName||""===vr(r)))Nr(r,a);else if(i instanceof ShadowRoot)for((i=si(r))!==a&&Er(r,a,i),r=window.ShadyDOM.nativeMethods.querySelectorAll.call(r,":not(."+Fr.a+")"),a=0;a<r.length;a++){var s=si(i=r[a]);s&&wr(i,s)}}}}}if(!($o||window.ShadyDOM&&window.ShadyDOM.handlesDynamicScoping)){var ci=new MutationObserver(li),ui=function(t){ci.observe(t,{childList:!0,subtree:!0})};if(window.customElements&&!window.customElements.polyfillWrapFlushCallback)ui(document);else{var hi=function(){ui(document.body)};window.HTMLImports?window.HTMLImports.whenReady(hi):requestAnimationFrame(function(){if("loading"===document.readyState){var t=function(){hi(),document.removeEventListener("readystatechange",t)};document.addEventListener("readystatechange",t)}else hi()})}ri=function(){li(ci.takeRecords())}}var di=ri,fi={},pi=Promise.resolve();function _i(t){(t=fi[t])&&(t._applyShimCurrentVersion=t._applyShimCurrentVersion||0,t._applyShimValidatingVersion=t._applyShimValidatingVersion||0,t._applyShimNextVersion=(t._applyShimNextVersion||0)+1)}function mi(t){return t._applyShimCurrentVersion===t._applyShimNextVersion}var vi={},yi=new oi;function gi(){this.F={},this.c=document.documentElement;var t=new xo;t.rules=[],this.f=Ur(this.c,new Ir(t)),this.u=!1,this.b=this.a=null}function bi(t){var e=_r(t),n=e.is;e=e.X;var o=ti[n]||null,r=fi[n];if(r)return Ur(t,e=new Ir(n=r._styleAst,o,r.a,e,r=vr(r))),e}function wi(t){!t.a&&window.ShadyCSS&&window.ShadyCSS.ApplyShim&&(t.a=window.ShadyCSS.ApplyShim,t.a.invalidCallback=_i),function(t){!t.b&&window.ShadyCSS&&window.ShadyCSS.CustomStyleInterface&&(t.b=window.ShadyCSS.CustomStyleInterface,t.b.transformCallback=function(e){t.va(e)},t.b.validateCallback=function(){requestAnimationFrame(function(){(t.b.enqueued||t.u)&&t.flushCustomStyles()})})}(t)}function Ei(t,e,n){var o=_r(e).is;if(n.G){var r,i=n.G;for(r in i)null===r?e.style.removeProperty(r):e.style.setProperty(r,i[r])}!(i=fi[o])&&e!==t.c||i&&""!==vr(i)||!i||!i._style||mi(i)||((mi(i)||i._applyShimValidatingVersion!==i._applyShimNextVersion)&&(wi(t),t.a&&t.a.transformRules(i._styleAst,o),i._style.textContent=Cr(e,n.L),function(t){t._applyShimValidatingVersion=t._applyShimNextVersion,t._validating||(t._validating=!0,pi.then(function(){t._applyShimCurrentVersion=t._applyShimNextVersion,t._validating=!1}))}(i)),$o&&(t=e.shadowRoot)&&(t=t.querySelector("style"))&&(t.textContent=Cr(e,n.L)),n.L=i._styleAst)}function Ni(t,e){return(e=pr(e).getRootNode().host)?Br(e)||bi(e)?e:Ni(t,e):t.c}function Ci(t,e,n){var o=Ni(t,e),r=Br(o),i=r.K;for(var a in o===t.c||i||(Ci(t,o,r),i=r.K),t=Object.create(i||null),o=zr(e,n.L,n.cssBuild),e=function(t,e){var n={},o=[];return sr(t,function(t){t.A||Gr(t);var r=t.C||t.parsedSelector;e&&t.A.J&&r&&qr.call(e,r)&&($r(t,n),t=t.index,r=parseInt(t/32,10),o[r]=(o[r]||0)|1<<t%32)},null,!0),{J:n,key:o}}(r.L,e).J,Object.assign(t,o.Ma,e,o.Ua),e=n.G)((r=e[a])||0===r)&&(t[a]=r);for(a=Qr,e=Object.getOwnPropertyNames(t),r=0;r<e.length;r++)t[o=e[r]]=Kr(a,t[o],t);n.K=t}(t=gi.prototype).flush=function(){di()},t.Ka=function(t){return ir(t)},t.Ya=function(t){return rr(t)},t.prepareTemplate=function(t,e,n){this.prepareTemplateDom(t,e),this.prepareTemplateStyles(t,e,n)},t.prepareTemplateStyles=function(t,e,n){if(!t._prepared&&!Xo){$o||ti[e]||(ti[e]=ur(e)),t._prepared=!0,t.name=e,t.extends=n,fi[e]=t;var o=vr(t),r=yr(o);n={is:e,extends:n};for(var i=[],a=t.content.querySelectorAll("style"),s=0;s<a.length;s++){var l=a[s];if(l.hasAttribute("shady-unscoped")){if(!$o){var c=l.textContent;or.has(c)||(or.add(c),c=l.cloneNode(!0),document.head.appendChild(c)),l.parentNode.removeChild(l)}}else i.push(l.textContent),l.parentNode.removeChild(l)}i=i.join("").trim()+(vi[e]||""),wi(this),r||((a=!o)&&(a=Zo.test(i)||Yo.test(i),Zo.lastIndex=0,Yo.lastIndex=0),s=Mo(i),a&&zo&&this.a&&this.a.transformRules(s,e),t._styleAst=s),a=[],zo||(a=function(t){var e={},n=[],o=0;for(var r in sr(t,function(t){Gr(t),t.index=o++,t=t.A.cssText;for(var n;n=Qo.exec(t);){var r=n[1];":"!==n[2]&&(e[r]=!0)}},function(t){n.push(t)}),t.b=n,t=[],e)t.push(r);return t}(t._styleAst)),a.length&&!zo||(s=$o?t.content:null,e=ti[e]||null,o=(o=Cr(n,t._styleAst,null,o,r?i:"")).length?lr(o,n.is,s,e):null,t._style=o),t.a=a}},t.Sa=function(t,e){vi[e]=t.join(" ")},t.prepareTemplateDom=function(t,e){if(!Xo){var n=vr(t);$o||"shady"===n||t._domPrepared||(t._domPrepared=!0,function(t,e){br(Fr,t,function(t){wr(t,e||"")})}(t.content,e))}},t.flushCustomStyles=function(){if(!Xo&&(wi(this),this.b)){var t=this.b.processStyles();if(this.b.enqueued&&!yr(this.f.cssBuild)){if(zo){if(!this.f.cssBuild)for(var e=0;e<t.length;e++){var n=this.b.getStyleForCustomStyle(t[e]);if(n&&zo&&this.a){var o=ir(n);wi(this),this.a.transformRules(o),n.textContent=rr(o)}}}else{for(Ci(this,this.c,this.f),e=0;e<t.length;e++)(n=this.b.getStyleForCustomStyle(t[e]))&&Zr(n,this.f.K);this.u&&this.styleDocument()}this.b.enqueued=!1}}},t.styleElement=function(t,e){if(Xo){if(e){Br(t)||Ur(t,new Ir(null));var n=Br(t);n.G=n.G||{},Object.assign(n.G,e),Ei(this,t,n)}}else if(n=Br(t)||bi(t))if(t!==this.c&&(this.u=!0),e&&(n.G=n.G||{},Object.assign(n.G,e)),zo)Ei(this,t,n);else if(this.flush(),Ci(this,t,n),n.la&&n.la.length){var o;e=_r(t).is;t:{if(o=yi.cache[e])for(var r=o.length-1;0<=r;r--){var i=o[r];e:{for(var a=n.la,s=0;s<a.length;s++){var l=a[s];if(i.J[l]!==n.K[l]){a=!1;break e}}a=!0}if(a){o=i;break t}}o=void 0}a=o?o.styleElement:null,r=n.H,(i=o&&o.H)||(i=e+"-"+(i=this.F[e]=(this.F[e]||0)+1)),n.H=i,i=n.H,s=Qr,s=a?a.textContent||"":Jr(s,t,n.K,i);var c=(l=Br(t)).a;c&&!$o&&c!==a&&(c._useCount--,0>=c._useCount&&c.parentNode&&c.parentNode.removeChild(c)),$o?l.a?(l.a.textContent=s,a=l.a):s&&(a=lr(s,i,t.shadowRoot,l.b)):a?a.parentNode||(Vr&&-1<s.indexOf("@media")&&(a.textContent=s),hr(a,null,l.b)):s&&(a=lr(s,i,null,l.b)),a&&(a._useCount=a._useCount||0,l.a!=a&&a._useCount++,l.a=a),i=a,$o||(a=n.H,l=s=t.getAttribute("class")||"",r&&(l=s.replace(new RegExp("\\s*x-scope\\s*"+r+"\\s*","g")," ")),s!==(l+=(l?" ":"")+"x-scope "+a)&&fr(t,l)),o||yi.store(e,n.K,i,n.H)}},t.styleDocument=function(t){this.styleSubtree(this.c,t)},t.styleSubtree=function(t,e){var n=pr(t),o=n.shadowRoot;if((o||t===this.c)&&this.styleElement(t,e),t=o&&(o.children||o.childNodes))for(n=0;n<t.length;n++)this.styleSubtree(t[n]);else if(n=n.children||n.childNodes)for(t=0;t<n.length;t++)this.styleSubtree(n[t])},t.va=function(t){var e=this,n=vr(t);if(n!==this.f.cssBuild&&(this.f.cssBuild=n),!yr(n)){var o=ir(t);sr(o,function(t){if($o)xr(t);else{var o=Fr;t.selector=t.parsedSelector,xr(t),t.selector=t.C=Tr(o,t,o.c,void 0,void 0)}zo&&""===n&&(wi(e),e.a&&e.a.transformRule(t))}),zo?t.textContent=rr(o):this.f.L.rules.push(o)}},t.getComputedStyleValue=function(t,e){var n;return zo||(n=(Br(t)||Br(Ni(this,t))).K[e]),(n=n||window.getComputedStyle(t).getPropertyValue(e))?n.trim():""},t.Xa=function(t,e){var n=pr(t).getRootNode();if(e=e?e.split(/\s/):[],!(n=n.host&&n.host.localName)){var o=t.getAttribute("class");if(o){o=o.split(/\s/);for(var r=0;r<o.length;r++)if(o[r]===Fr.a){n=o[r+1];break}}}n&&e.push(Fr.a,n),zo||(n=Br(t))&&n.H&&e.push(Qr.a,n.H),fr(t,e.join(" "))},t.Fa=function(t){return Br(t)},t.Wa=function(t,e){wr(t,e)},t.Za=function(t,e){wr(t,e,!0)},t.Va=function(t){return si(t)},t.Ia=function(t){return ai(t)},gi.prototype.flush=gi.prototype.flush,gi.prototype.prepareTemplate=gi.prototype.prepareTemplate,gi.prototype.styleElement=gi.prototype.styleElement,gi.prototype.styleDocument=gi.prototype.styleDocument,gi.prototype.styleSubtree=gi.prototype.styleSubtree,gi.prototype.getComputedStyleValue=gi.prototype.getComputedStyleValue,gi.prototype.setElementClass=gi.prototype.Xa,gi.prototype._styleInfoForNode=gi.prototype.Fa,gi.prototype.transformCustomStyleForDocument=gi.prototype.va,gi.prototype.getStyleAst=gi.prototype.Ka,gi.prototype.styleAstToString=gi.prototype.Ya,gi.prototype.flushCustomStyles=gi.prototype.flushCustomStyles,gi.prototype.scopeNode=gi.prototype.Wa,gi.prototype.unscopeNode=gi.prototype.Za,gi.prototype.scopeForNode=gi.prototype.Va,gi.prototype.currentScopeForNode=gi.prototype.Ia,gi.prototype.prepareAdoptedCssText=gi.prototype.Sa,Object.defineProperties(gi.prototype,{nativeShadow:{get:function(){return $o}},nativeCss:{get:function(){return zo}}});var Si,Ti,Oi=new gi;window.ShadyCSS&&(Si=window.ShadyCSS.ApplyShim,Ti=window.ShadyCSS.CustomStyleInterface),window.ShadyCSS={ScopingShim:Oi,prepareTemplate:function(t,e,n){Oi.flushCustomStyles(),Oi.prepareTemplate(t,e,n)},prepareTemplateDom:function(t,e){Oi.prepareTemplateDom(t,e)},prepareTemplateStyles:function(t,e,n){Oi.flushCustomStyles(),Oi.prepareTemplateStyles(t,e,n)},styleSubtree:function(t,e){Oi.flushCustomStyles(),Oi.styleSubtree(t,e)},styleElement:function(t){Oi.flushCustomStyles(),Oi.styleElement(t)},styleDocument:function(t){Oi.flushCustomStyles(),Oi.styleDocument(t)},flushCustomStyles:function(){Oi.flushCustomStyles()},getComputedStyleValue:function(t,e){return Oi.getComputedStyleValue(t,e)},nativeCss:zo,nativeShadow:$o,cssBuild:Jo,disableRuntime:Xo},Si&&(window.ShadyCSS.ApplyShim=Si),Ti&&(window.ShadyCSS.CustomStyleInterface=Ti),function(t){function e(t){return""==t&&(i.call(this),this.i=!0),t.toLowerCase()}function n(t){var e=t.charCodeAt(0);return 32<e&&127>e&&-1==[34,35,60,62,63,96].indexOf(e)?t:encodeURIComponent(t)}function o(t){var e=t.charCodeAt(0);return 32<e&&127>e&&-1==[34,35,60,62,96].indexOf(e)?t:encodeURIComponent(t)}function r(t,r,a){function s(t){v.push(t)}var l=r||"scheme start",f=0,p="",_=!1,m=!1,v=[];t:for(;(null!=t[f-1]||0==f)&&!this.i;){var y=t[f];switch(l){case"scheme start":if(!y||!h.test(y)){if(r){s("Invalid scheme.");break t}p="",l="no scheme";continue}p+=y.toLowerCase(),l="scheme";break;case"scheme":if(y&&d.test(y))p+=y.toLowerCase();else{if(":"!=y){if(r){null!=y&&s("Code point not allowed in scheme: "+y);break t}p="",f=0,l="no scheme";continue}if(this.h=p,p="",r)break t;void 0!==c[this.h]&&(this.B=!0),l="file"==this.h?"relative":this.B&&a&&a.h==this.h?"relative or authority":this.B?"authority first slash":"scheme data"}break;case"scheme data":"?"==y?(this.o="?",l="query"):"#"==y?(this.v="#",l="fragment"):null!=y&&"\t"!=y&&"\n"!=y&&"\r"!=y&&(this.ia+=n(y));break;case"no scheme":if(a&&void 0!==c[a.h]){l="relative";continue}s("Missing scheme."),i.call(this),this.i=!0;break;case"relative or authority":if("/"!=y||"/"!=t[f+1]){s("Expected /, got: "+y),l="relative";continue}l="authority ignore slashes";break;case"relative":if(this.B=!0,"file"!=this.h&&(this.h=a.h),null==y){this.j=a.j,this.m=a.m,this.l=a.l.slice(),this.o=a.o,this.s=a.s,this.g=a.g;break t}if("/"==y||"\\"==y)"\\"==y&&s("\\ is an invalid code point."),l="relative slash";else if("?"==y)this.j=a.j,this.m=a.m,this.l=a.l.slice(),this.o="?",this.s=a.s,this.g=a.g,l="query";else{if("#"!=y){l=t[f+1];var g=t[f+2];("file"!=this.h||!h.test(y)||":"!=l&&"|"!=l||null!=g&&"/"!=g&&"\\"!=g&&"?"!=g&&"#"!=g)&&(this.j=a.j,this.m=a.m,this.s=a.s,this.g=a.g,this.l=a.l.slice(),this.l.pop()),l="relative path";continue}this.j=a.j,this.m=a.m,this.l=a.l.slice(),this.o=a.o,this.v="#",this.s=a.s,this.g=a.g,l="fragment"}break;case"relative slash":if("/"!=y&&"\\"!=y){"file"!=this.h&&(this.j=a.j,this.m=a.m,this.s=a.s,this.g=a.g),l="relative path";continue}"\\"==y&&s("\\ is an invalid code point."),l="file"==this.h?"file host":"authority ignore slashes";break;case"authority first slash":if("/"!=y){s("Expected '/', got: "+y),l="authority ignore slashes";continue}l="authority second slash";break;case"authority second slash":if(l="authority ignore slashes","/"!=y){s("Expected '/', got: "+y);continue}break;case"authority ignore slashes":if("/"!=y&&"\\"!=y){l="authority";continue}s("Expected authority, got: "+y);break;case"authority":if("@"==y){for(_&&(s("@ already seen."),p+="%40"),_=!0,y=0;y<p.length;y++)"\t"==(g=p[y])||"\n"==g||"\r"==g?s("Invalid whitespace in authority."):":"==g&&null===this.g?this.g="":(g=n(g),null!==this.g?this.g+=g:this.s+=g);p=""}else{if(null==y||"/"==y||"\\"==y||"?"==y||"#"==y){f-=p.length,p="",l="host";continue}p+=y}break;case"file host":if(null==y||"/"==y||"\\"==y||"?"==y||"#"==y){2!=p.length||!h.test(p[0])||":"!=p[1]&&"|"!=p[1]?(0!=p.length&&(this.j=e.call(this,p),p=""),l="relative path start"):l="relative path";continue}"\t"==y||"\n"==y||"\r"==y?s("Invalid whitespace in file host."):p+=y;break;case"host":case"hostname":if(":"!=y||m){if(null==y||"/"==y||"\\"==y||"?"==y||"#"==y){if(this.j=e.call(this,p),p="",l="relative path start",r)break t;continue}"\t"!=y&&"\n"!=y&&"\r"!=y?("["==y?m=!0:"]"==y&&(m=!1),p+=y):s("Invalid code point in host/hostname: "+y)}else if(this.j=e.call(this,p),p="",l="port","hostname"==r)break t;break;case"port":if(/[0-9]/.test(y))p+=y;else{if(null==y||"/"==y||"\\"==y||"?"==y||"#"==y||r){if(""!=p&&((p=parseInt(p,10))!=c[this.h]&&(this.m=p+""),p=""),r)break t;l="relative path start";continue}"\t"==y||"\n"==y||"\r"==y?s("Invalid code point in port: "+y):(i.call(this),this.i=!0)}break;case"relative path start":if("\\"==y&&s("'\\' not allowed in path."),l="relative path","/"!=y&&"\\"!=y)continue;break;case"relative path":null!=y&&"/"!=y&&"\\"!=y&&(r||"?"!=y&&"#"!=y)?"\t"!=y&&"\n"!=y&&"\r"!=y&&(p+=n(y)):("\\"==y&&s("\\ not allowed in relative path."),(g=u[p.toLowerCase()])&&(p=g),".."==p?(this.l.pop(),"/"!=y&&"\\"!=y&&this.l.push("")):"."==p&&"/"!=y&&"\\"!=y?this.l.push(""):"."!=p&&("file"==this.h&&0==this.l.length&&2==p.length&&h.test(p[0])&&"|"==p[1]&&(p=p[0]+":"),this.l.push(p)),p="","?"==y?(this.o="?",l="query"):"#"==y&&(this.v="#",l="fragment"));break;case"query":r||"#"!=y?null!=y&&"\t"!=y&&"\n"!=y&&"\r"!=y&&(this.o+=o(y)):(this.v="#",l="fragment");break;case"fragment":null!=y&&"\t"!=y&&"\n"!=y&&"\r"!=y&&(this.v+=y)}f++}}function i(){this.s=this.ia=this.h="",this.g=null,this.m=this.j="",this.l=[],this.v=this.o="",this.B=this.i=!1}function a(t,e){void 0===e||e instanceof a||(e=new a(String(e))),this.a=t,i.call(this),t=this.a.replace(/^[ \t\r\n\f]+|[ \t\r\n\f]+$/g,""),r.call(this,t,null,e)}var s=!1;try{var l=new URL("b","http://a");l.pathname="c%20d",s="http://a/c%20d"===l.href}catch(p){}if(!s){var c=Object.create(null);c.ftp=21,c.file=0,c.gopher=70,c.http=80,c.https=443,c.ws=80,c.wss=443;var u=Object.create(null);u["%2e"]=".",u[".%2e"]="..",u["%2e."]="..",u["%2e%2e"]="..";var h=/[a-zA-Z]/,d=/[a-zA-Z0-9\+\-\.]/;a.prototype={toString:function(){return this.href},get href(){if(this.i)return this.a;var t="";return""==this.s&&null==this.g||(t=this.s+(null!=this.g?":"+this.g:"")+"@"),this.protocol+(this.B?"//"+t+this.host:"")+this.pathname+this.o+this.v},set href(t){i.call(this),r.call(this,t)},get protocol(){return this.h+":"},set protocol(t){this.i||r.call(this,t+":","scheme start")},get host(){return this.i?"":this.m?this.j+":"+this.m:this.j},set host(t){!this.i&&this.B&&r.call(this,t,"host")},get hostname(){return this.j},set hostname(t){!this.i&&this.B&&r.call(this,t,"hostname")},get port(){return this.m},set port(t){!this.i&&this.B&&r.call(this,t,"port")},get pathname(){return this.i?"":this.B?"/"+this.l.join("/"):this.ia},set pathname(t){!this.i&&this.B&&(this.l=[],r.call(this,t,"relative path start"))},get search(){return this.i||!this.o||"?"==this.o?"":this.o},set search(t){!this.i&&this.B&&(this.o="?","?"==t[0]&&(t=t.slice(1)),r.call(this,t,"query"))},get hash(){return this.i||!this.v||"#"==this.v?"":this.v},set hash(t){this.i||(t?(this.v="#","#"==t[0]&&(t=t.slice(1)),r.call(this,t,"fragment")):this.v="")},get origin(){var t;if(this.i||!this.h)return"";switch(this.h){case"data":case"file":case"javascript":case"mailto":return"null"}return(t=this.host)?this.h+"://"+t:""}};var f=t.URL;f&&(a.createObjectURL=function(t){return f.createObjectURL.apply(f,arguments)},a.revokeObjectURL=function(t){f.revokeObjectURL(t)}),t.URL=a}}(window),Object.getOwnPropertyDescriptor(Node.prototype,"baseURI")||Object.defineProperty(Node.prototype,"baseURI",{get:function(){var t=(this.ownerDocument||this).querySelector("base[href]");return t&&t.href||window.location.href},configurable:!0,enumerable:!0});var Di=document.createElement("style");Di.textContent="body {transition: opacity ease-in 0.2s; } \nbody[unresolved] {opacity: 0; display: block; overflow: hidden; position: relative; } \n";var xi=document.querySelector("head");xi.insertBefore(Di,xi.firstChild);var Mi=window.customElements,Li=!1,Ai=null;function Pi(){window.HTMLTemplateElement.bootstrap&&window.HTMLTemplateElement.bootstrap(window.document),Ai&&Ai(),Li=!0,window.WebComponents.ready=!0,document.dispatchEvent(new CustomEvent("WebComponentsReady",{bubbles:!0}))}Mi.polyfillWrapFlushCallback&&Mi.polyfillWrapFlushCallback(function(t){Ai=t,Li&&t()}),"complete"!==document.readyState?(window.addEventListener("load",Pi),window.addEventListener("DOMContentLoaded",function(){window.removeEventListener("load",Pi),Pi()})):Pi()}).call(this);
},{}],"A0pT":[function(require,module,exports) {
!function(e){"use strict";function n(n,r){var t=e.createEvent("Event");t.initEvent(n,!0,!1),r.dispatchEvent(t)}function r(n){return function(r,l){return n!==i.exit||e[t.element]?(e.addEventListener(t.events.change,function n(){r(),e.removeEventListener(t.events.change,n,!1)},!1),void e.addEventListener(t.events.error,function n(){l(new TypeError),e.removeEventListener(t.events.error,n,!1)},!1)):void setTimeout(function(){l(new TypeError)},1)}}var t,l,s={w3:{enabled:"fullscreenEnabled",element:"fullscreenElement",request:"requestFullscreen",exit:"exitFullscreen",events:{change:"fullscreenchange",error:"fullscreenerror"}},webkit:{enabled:"webkitFullscreenEnabled",element:"webkitCurrentFullScreenElement",request:"webkitRequestFullscreen",exit:"webkitExitFullscreen",events:{change:"webkitfullscreenchange",error:"webkitfullscreenerror"}},moz:{enabled:"mozFullScreenEnabled",element:"mozFullScreenElement",request:"mozRequestFullScreen",exit:"mozCancelFullScreen",events:{change:"mozfullscreenchange",error:"mozfullscreenerror"}},ms:{enabled:"msFullscreenEnabled",element:"msFullscreenElement",request:"msRequestFullscreen",exit:"msExitFullscreen",events:{change:"MSFullscreenChange",error:"MSFullscreenError"}}},i=s.w3;for(l in s)if(s[l].enabled in e){t=s[l];break}i.enabled in e||!t||(e.addEventListener(t.events.change,function(r){r.stopPropagation(),r.stopImmediatePropagation(),e[i.enabled]=e[t.enabled],e[i.element]=e[t.element],n(i.events.change,r.target)},!1),e.addEventListener(t.events.error,function(e){n(i.events.error,e.target)},!1),e[i.enabled]=e[t.enabled],e[i.element]=e[t.element],e[i.exit]=function(){var n=e[t.exit]();return!n&&Promise?new Promise(r(i.exit)):n},Element.prototype[i.request]=function(){var e=this[t.request].apply(this,arguments);return!e&&Promise?new Promise(r(i.request)):e})}(document);
},{}],"T2os":[function(require,module,exports) {
"use strict";var e,t="object"==typeof Reflect?Reflect:null,n=t&&"function"==typeof t.apply?t.apply:function(e,t,n){return Function.prototype.apply.call(e,t,n)};function r(e){console&&console.warn&&console.warn(e)}e=t&&"function"==typeof t.ownKeys?t.ownKeys:Object.getOwnPropertySymbols?function(e){return Object.getOwnPropertyNames(e).concat(Object.getOwnPropertySymbols(e))}:function(e){return Object.getOwnPropertyNames(e)};var i=Number.isNaN||function(e){return e!=e};function o(){o.init.call(this)}module.exports=o,o.EventEmitter=o,o.prototype._events=void 0,o.prototype._eventsCount=0,o.prototype._maxListeners=void 0;var s=10;function u(e){return void 0===e._maxListeners?o.defaultMaxListeners:e._maxListeners}function f(e,t,n,i){var o,s,f;if("function"!=typeof n)throw new TypeError('The "listener" argument must be of type Function. Received type '+typeof n);if(void 0===(s=e._events)?(s=e._events=Object.create(null),e._eventsCount=0):(void 0!==s.newListener&&(e.emit("newListener",t,n.listener?n.listener:n),s=e._events),f=s[t]),void 0===f)f=s[t]=n,++e._eventsCount;else if("function"==typeof f?f=s[t]=i?[n,f]:[f,n]:i?f.unshift(n):f.push(n),(o=u(e))>0&&f.length>o&&!f.warned){f.warned=!0;var p=new Error("Possible EventEmitter memory leak detected. "+f.length+" "+String(t)+" listeners added. Use emitter.setMaxListeners() to increase limit");p.name="MaxListenersExceededWarning",p.emitter=e,p.type=t,p.count=f.length,r(p)}return e}function p(){for(var e=[],t=0;t<arguments.length;t++)e.push(arguments[t]);this.fired||(this.target.removeListener(this.type,this.wrapFn),this.fired=!0,n(this.listener,this.target,e))}function v(e,t,n){var r={fired:!1,wrapFn:void 0,target:e,type:t,listener:n},i=p.bind(r);return i.listener=n,r.wrapFn=i,i}function h(e,t,n){var r=e._events;if(void 0===r)return[];var i=r[t];return void 0===i?[]:"function"==typeof i?n?[i.listener||i]:[i]:n?y(i):c(i,i.length)}function a(e){var t=this._events;if(void 0!==t){var n=t[e];if("function"==typeof n)return 1;if(void 0!==n)return n.length}return 0}function c(e,t){for(var n=new Array(t),r=0;r<t;++r)n[r]=e[r];return n}function l(e,t){for(;t+1<e.length;t++)e[t]=e[t+1];e.pop()}function y(e){for(var t=new Array(e.length),n=0;n<t.length;++n)t[n]=e[n].listener||e[n];return t}Object.defineProperty(o,"defaultMaxListeners",{enumerable:!0,get:function(){return s},set:function(e){if("number"!=typeof e||e<0||i(e))throw new RangeError('The value of "defaultMaxListeners" is out of range. It must be a non-negative number. Received '+e+".");s=e}}),o.init=function(){void 0!==this._events&&this._events!==Object.getPrototypeOf(this)._events||(this._events=Object.create(null),this._eventsCount=0),this._maxListeners=this._maxListeners||void 0},o.prototype.setMaxListeners=function(e){if("number"!=typeof e||e<0||i(e))throw new RangeError('The value of "n" is out of range. It must be a non-negative number. Received '+e+".");return this._maxListeners=e,this},o.prototype.getMaxListeners=function(){return u(this)},o.prototype.emit=function(e){for(var t=[],r=1;r<arguments.length;r++)t.push(arguments[r]);var i="error"===e,o=this._events;if(void 0!==o)i=i&&void 0===o.error;else if(!i)return!1;if(i){var s;if(t.length>0&&(s=t[0]),s instanceof Error)throw s;var u=new Error("Unhandled error."+(s?" ("+s.message+")":""));throw u.context=s,u}var f=o[e];if(void 0===f)return!1;if("function"==typeof f)n(f,this,t);else{var p=f.length,v=c(f,p);for(r=0;r<p;++r)n(v[r],this,t)}return!0},o.prototype.addListener=function(e,t){return f(this,e,t,!1)},o.prototype.on=o.prototype.addListener,o.prototype.prependListener=function(e,t){return f(this,e,t,!0)},o.prototype.once=function(e,t){if("function"!=typeof t)throw new TypeError('The "listener" argument must be of type Function. Received type '+typeof t);return this.on(e,v(this,e,t)),this},o.prototype.prependOnceListener=function(e,t){if("function"!=typeof t)throw new TypeError('The "listener" argument must be of type Function. Received type '+typeof t);return this.prependListener(e,v(this,e,t)),this},o.prototype.removeListener=function(e,t){var n,r,i,o,s;if("function"!=typeof t)throw new TypeError('The "listener" argument must be of type Function. Received type '+typeof t);if(void 0===(r=this._events))return this;if(void 0===(n=r[e]))return this;if(n===t||n.listener===t)0==--this._eventsCount?this._events=Object.create(null):(delete r[e],r.removeListener&&this.emit("removeListener",e,n.listener||t));else if("function"!=typeof n){for(i=-1,o=n.length-1;o>=0;o--)if(n[o]===t||n[o].listener===t){s=n[o].listener,i=o;break}if(i<0)return this;0===i?n.shift():l(n,i),1===n.length&&(r[e]=n[0]),void 0!==r.removeListener&&this.emit("removeListener",e,s||t)}return this},o.prototype.off=o.prototype.removeListener,o.prototype.removeAllListeners=function(e){var t,n,r;if(void 0===(n=this._events))return this;if(void 0===n.removeListener)return 0===arguments.length?(this._events=Object.create(null),this._eventsCount=0):void 0!==n[e]&&(0==--this._eventsCount?this._events=Object.create(null):delete n[e]),this;if(0===arguments.length){var i,o=Object.keys(n);for(r=0;r<o.length;++r)"removeListener"!==(i=o[r])&&this.removeAllListeners(i);return this.removeAllListeners("removeListener"),this._events=Object.create(null),this._eventsCount=0,this}if("function"==typeof(t=n[e]))this.removeListener(e,t);else if(void 0!==t)for(r=t.length-1;r>=0;r--)this.removeListener(e,t[r]);return this},o.prototype.listeners=function(e){return h(this,e,!0)},o.prototype.rawListeners=function(e){return h(this,e,!1)},o.listenerCount=function(e,t){return"function"==typeof e.listenerCount?e.listenerCount(t):a.call(e,t)},o.prototype.listenerCount=a,o.prototype.eventNames=function(){return this._eventsCount>0?e(this._events):[]};
},{}],"gXRl":[function(require,module,exports) {
"use strict";var r=32;function n(r){var n=32;return(r&=-r)&&n--,65535&r&&(n-=16),16711935&r&&(n-=8),252645135&r&&(n-=4),858993459&r&&(n-=2),1431655765&r&&(n-=1),n}exports.INT_BITS=r,exports.INT_MAX=2147483647,exports.INT_MIN=-1<<r-1,exports.sign=function(r){return(r>0)-(r<0)},exports.abs=function(n){var t=n>>r-1;return(n^t)-t},exports.min=function(r,n){return n^(r^n)&-(r<n)},exports.max=function(r,n){return r^(r^n)&-(r<n)},exports.isPow2=function(r){return!(r&r-1||!r)},exports.log2=function(r){var n,t;return n=(r>65535)<<4,n|=t=((r>>>=n)>255)<<3,n|=t=((r>>>=t)>15)<<2,(n|=t=((r>>>=t)>3)<<1)|(r>>>=t)>>1},exports.log10=function(r){return r>=1e9?9:r>=1e8?8:r>=1e7?7:r>=1e6?6:r>=1e5?5:r>=1e4?4:r>=1e3?3:r>=100?2:r>=10?1:0},exports.popCount=function(r){return 16843009*((r=(858993459&(r-=r>>>1&1431655765))+(r>>>2&858993459))+(r>>>4)&252645135)>>>24},exports.countTrailingZeros=n,exports.nextPow2=function(r){return r+=0===r,--r,r|=r>>>1,r|=r>>>2,r|=r>>>4,r|=r>>>8,(r|=r>>>16)+1},exports.prevPow2=function(r){return r|=r>>>1,r|=r>>>2,r|=r>>>4,r|=r>>>8,(r|=r>>>16)-(r>>>1)},exports.parity=function(r){return r^=r>>>16,r^=r>>>8,r^=r>>>4,27030>>>(r&=15)&1};var t=new Array(256);!function(r){for(var n=0;n<256;++n){var t=n,e=n,o=7;for(t>>>=1;t;t>>>=1)e<<=1,e|=1&t,--o;r[n]=e<<o&255}}(t),exports.reverse=function(r){return t[255&r]<<24|t[r>>>8&255]<<16|t[r>>>16&255]<<8|t[r>>>24&255]},exports.interleave2=function(r,n){return(r=1431655765&((r=858993459&((r=252645135&((r=16711935&((r&=65535)|r<<8))|r<<4))|r<<2))|r<<1))|(n=1431655765&((n=858993459&((n=252645135&((n=16711935&((n&=65535)|n<<8))|n<<4))|n<<2))|n<<1))<<1},exports.deinterleave2=function(r,n){return(r=65535&((r=16711935&((r=252645135&((r=858993459&((r=r>>>n&1431655765)|r>>>1))|r>>>2))|r>>>4))|r>>>16))<<16>>16},exports.interleave3=function(r,n,t){return r=1227133513&((r=3272356035&((r=251719695&((r=4278190335&((r&=1023)|r<<16))|r<<8))|r<<4))|r<<2),(r|=(n=1227133513&((n=3272356035&((n=251719695&((n=4278190335&((n&=1023)|n<<16))|n<<8))|n<<4))|n<<2))<<1)|(t=1227133513&((t=3272356035&((t=251719695&((t=4278190335&((t&=1023)|t<<16))|t<<8))|t<<4))|t<<2))<<2},exports.deinterleave3=function(r,n){return(r=1023&((r=4278190335&((r=251719695&((r=3272356035&((r=r>>>n&1227133513)|r>>>2))|r>>>4))|r>>>8))|r>>>16))<<22>>22},exports.nextCombination=function(r){var t=r|r-1;return t+1|(~t&-~t)-1>>>n(r)+1};
},{}],"fDKz":[function(require,module,exports) {
"use strict";function r(e,n,t){var u=0|e[t];if(u<=0)return[];var f,o=new Array(u);if(t===e.length-1)for(f=0;f<u;++f)o[f]=n;else for(f=0;f<u;++f)o[f]=r(e,n,t+1);return o}function e(r,e){var n,t;for(n=new Array(r),t=0;t<r;++t)n[t]=e;return n}function n(n,t){switch(void 0===t&&(t=0),typeof n){case"number":if(n>0)return e(0|n,t);break;case"object":if("number"==typeof n.length)return r(n,t,0)}return[]}module.exports=n;
},{}],"yh9p":[function(require,module,exports) {
"use strict";exports.byteLength=u,exports.toByteArray=i,exports.fromByteArray=d;for(var r=[],t=[],e="undefined"!=typeof Uint8Array?Uint8Array:Array,n="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",o=0,a=n.length;o<a;++o)r[o]=n[o],t[n.charCodeAt(o)]=o;function h(r){var t=r.length;if(t%4>0)throw new Error("Invalid string. Length must be a multiple of 4");var e=r.indexOf("=");return-1===e&&(e=t),[e,e===t?0:4-e%4]}function u(r){var t=h(r),e=t[0],n=t[1];return 3*(e+n)/4-n}function c(r,t,e){return 3*(t+e)/4-e}function i(r){for(var n,o=h(r),a=o[0],u=o[1],i=new e(c(r,a,u)),f=0,A=u>0?a-4:a,d=0;d<A;d+=4)n=t[r.charCodeAt(d)]<<18|t[r.charCodeAt(d+1)]<<12|t[r.charCodeAt(d+2)]<<6|t[r.charCodeAt(d+3)],i[f++]=n>>16&255,i[f++]=n>>8&255,i[f++]=255&n;return 2===u&&(n=t[r.charCodeAt(d)]<<2|t[r.charCodeAt(d+1)]>>4,i[f++]=255&n),1===u&&(n=t[r.charCodeAt(d)]<<10|t[r.charCodeAt(d+1)]<<4|t[r.charCodeAt(d+2)]>>2,i[f++]=n>>8&255,i[f++]=255&n),i}function f(t){return r[t>>18&63]+r[t>>12&63]+r[t>>6&63]+r[63&t]}function A(r,t,e){for(var n,o=[],a=t;a<e;a+=3)n=(r[a]<<16&16711680)+(r[a+1]<<8&65280)+(255&r[a+2]),o.push(f(n));return o.join("")}function d(t){for(var e,n=t.length,o=n%3,a=[],h=0,u=n-o;h<u;h+=16383)a.push(A(t,h,h+16383>u?u:h+16383));return 1===o?(e=t[n-1],a.push(r[e>>2]+r[e<<4&63]+"==")):2===o&&(e=(t[n-2]<<8)+t[n-1],a.push(r[e>>10]+r[e>>4&63]+r[e<<2&63]+"=")),a.join("")}t["-".charCodeAt(0)]=62,t["_".charCodeAt(0)]=63;
},{}],"JgNJ":[function(require,module,exports) {
exports.read=function(a,o,t,r,h){var M,p,w=8*h-r-1,f=(1<<w)-1,e=f>>1,i=-7,N=t?h-1:0,n=t?-1:1,s=a[o+N];for(N+=n,M=s&(1<<-i)-1,s>>=-i,i+=w;i>0;M=256*M+a[o+N],N+=n,i-=8);for(p=M&(1<<-i)-1,M>>=-i,i+=r;i>0;p=256*p+a[o+N],N+=n,i-=8);if(0===M)M=1-e;else{if(M===f)return p?NaN:1/0*(s?-1:1);p+=Math.pow(2,r),M-=e}return(s?-1:1)*p*Math.pow(2,M-r)},exports.write=function(a,o,t,r,h,M){var p,w,f,e=8*M-h-1,i=(1<<e)-1,N=i>>1,n=23===h?Math.pow(2,-24)-Math.pow(2,-77):0,s=r?0:M-1,u=r?1:-1,l=o<0||0===o&&1/o<0?1:0;for(o=Math.abs(o),isNaN(o)||o===1/0?(w=isNaN(o)?1:0,p=i):(p=Math.floor(Math.log(o)/Math.LN2),o*(f=Math.pow(2,-p))<1&&(p--,f*=2),(o+=p+N>=1?n/f:n*Math.pow(2,1-N))*f>=2&&(p++,f/=2),p+N>=i?(w=0,p=i):p+N>=1?(w=(o*f-1)*Math.pow(2,h),p+=N):(w=o*Math.pow(2,N-1)*Math.pow(2,h),p=0));h>=8;a[t+s]=255&w,s+=u,w/=256,h-=8);for(p=p<<h|w,e+=h;e>0;a[t+s]=255&p,s+=u,p/=256,e-=8);a[t+s-u]|=128*l};
},{}],"REa7":[function(require,module,exports) {
var r={}.toString;module.exports=Array.isArray||function(t){return"[object Array]"==r.call(t)};
},{}],"dskh":[function(require,module,exports) {

var global = arguments[3];
var t=arguments[3],r=require("base64-js"),e=require("ieee754"),n=require("isarray");function i(){try{var t=new Uint8Array(1);return t.__proto__={__proto__:Uint8Array.prototype,foo:function(){return 42}},42===t.foo()&&"function"==typeof t.subarray&&0===t.subarray(1,1).byteLength}catch(r){return!1}}function o(){return f.TYPED_ARRAY_SUPPORT?2147483647:1073741823}function u(t,r){if(o()<r)throw new RangeError("Invalid typed array length");return f.TYPED_ARRAY_SUPPORT?(t=new Uint8Array(r)).__proto__=f.prototype:(null===t&&(t=new f(r)),t.length=r),t}function f(t,r,e){if(!(f.TYPED_ARRAY_SUPPORT||this instanceof f))return new f(t,r,e);if("number"==typeof t){if("string"==typeof r)throw new Error("If encoding is specified then the first argument must be a string");return c(this,t)}return s(this,t,r,e)}function s(t,r,e,n){if("number"==typeof r)throw new TypeError('"value" argument must not be a number');return"undefined"!=typeof ArrayBuffer&&r instanceof ArrayBuffer?g(t,r,e,n):"string"==typeof r?l(t,r,e):y(t,r)}function h(t){if("number"!=typeof t)throw new TypeError('"size" argument must be a number');if(t<0)throw new RangeError('"size" argument must not be negative')}function a(t,r,e,n){return h(r),r<=0?u(t,r):void 0!==e?"string"==typeof n?u(t,r).fill(e,n):u(t,r).fill(e):u(t,r)}function c(t,r){if(h(r),t=u(t,r<0?0:0|w(r)),!f.TYPED_ARRAY_SUPPORT)for(var e=0;e<r;++e)t[e]=0;return t}function l(t,r,e){if("string"==typeof e&&""!==e||(e="utf8"),!f.isEncoding(e))throw new TypeError('"encoding" must be a valid string encoding');var n=0|v(r,e),i=(t=u(t,n)).write(r,e);return i!==n&&(t=t.slice(0,i)),t}function p(t,r){var e=r.length<0?0:0|w(r.length);t=u(t,e);for(var n=0;n<e;n+=1)t[n]=255&r[n];return t}function g(t,r,e,n){if(r.byteLength,e<0||r.byteLength<e)throw new RangeError("'offset' is out of bounds");if(r.byteLength<e+(n||0))throw new RangeError("'length' is out of bounds");return r=void 0===e&&void 0===n?new Uint8Array(r):void 0===n?new Uint8Array(r,e):new Uint8Array(r,e,n),f.TYPED_ARRAY_SUPPORT?(t=r).__proto__=f.prototype:t=p(t,r),t}function y(t,r){if(f.isBuffer(r)){var e=0|w(r.length);return 0===(t=u(t,e)).length?t:(r.copy(t,0,0,e),t)}if(r){if("undefined"!=typeof ArrayBuffer&&r.buffer instanceof ArrayBuffer||"length"in r)return"number"!=typeof r.length||W(r.length)?u(t,0):p(t,r);if("Buffer"===r.type&&n(r.data))return p(t,r.data)}throw new TypeError("First argument must be a string, Buffer, ArrayBuffer, Array, or array-like object.")}function w(t){if(t>=o())throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x"+o().toString(16)+" bytes");return 0|t}function d(t){return+t!=t&&(t=0),f.alloc(+t)}function v(t,r){if(f.isBuffer(t))return t.length;if("undefined"!=typeof ArrayBuffer&&"function"==typeof ArrayBuffer.isView&&(ArrayBuffer.isView(t)||t instanceof ArrayBuffer))return t.byteLength;"string"!=typeof t&&(t=""+t);var e=t.length;if(0===e)return 0;for(var n=!1;;)switch(r){case"ascii":case"latin1":case"binary":return e;case"utf8":case"utf-8":case void 0:return $(t).length;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return 2*e;case"hex":return e>>>1;case"base64":return K(t).length;default:if(n)return $(t).length;r=(""+r).toLowerCase(),n=!0}}function E(t,r,e){var n=!1;if((void 0===r||r<0)&&(r=0),r>this.length)return"";if((void 0===e||e>this.length)&&(e=this.length),e<=0)return"";if((e>>>=0)<=(r>>>=0))return"";for(t||(t="utf8");;)switch(t){case"hex":return x(this,r,e);case"utf8":case"utf-8":return Y(this,r,e);case"ascii":return L(this,r,e);case"latin1":case"binary":return D(this,r,e);case"base64":return S(this,r,e);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return C(this,r,e);default:if(n)throw new TypeError("Unknown encoding: "+t);t=(t+"").toLowerCase(),n=!0}}function b(t,r,e){var n=t[r];t[r]=t[e],t[e]=n}function R(t,r,e,n,i){if(0===t.length)return-1;if("string"==typeof e?(n=e,e=0):e>2147483647?e=2147483647:e<-2147483648&&(e=-2147483648),e=+e,isNaN(e)&&(e=i?0:t.length-1),e<0&&(e=t.length+e),e>=t.length){if(i)return-1;e=t.length-1}else if(e<0){if(!i)return-1;e=0}if("string"==typeof r&&(r=f.from(r,n)),f.isBuffer(r))return 0===r.length?-1:_(t,r,e,n,i);if("number"==typeof r)return r&=255,f.TYPED_ARRAY_SUPPORT&&"function"==typeof Uint8Array.prototype.indexOf?i?Uint8Array.prototype.indexOf.call(t,r,e):Uint8Array.prototype.lastIndexOf.call(t,r,e):_(t,[r],e,n,i);throw new TypeError("val must be string, number or Buffer")}function _(t,r,e,n,i){var o,u=1,f=t.length,s=r.length;if(void 0!==n&&("ucs2"===(n=String(n).toLowerCase())||"ucs-2"===n||"utf16le"===n||"utf-16le"===n)){if(t.length<2||r.length<2)return-1;u=2,f/=2,s/=2,e/=2}function h(t,r){return 1===u?t[r]:t.readUInt16BE(r*u)}if(i){var a=-1;for(o=e;o<f;o++)if(h(t,o)===h(r,-1===a?0:o-a)){if(-1===a&&(a=o),o-a+1===s)return a*u}else-1!==a&&(o-=o-a),a=-1}else for(e+s>f&&(e=f-s),o=e;o>=0;o--){for(var c=!0,l=0;l<s;l++)if(h(t,o+l)!==h(r,l)){c=!1;break}if(c)return o}return-1}function A(t,r,e,n){e=Number(e)||0;var i=t.length-e;n?(n=Number(n))>i&&(n=i):n=i;var o=r.length;if(o%2!=0)throw new TypeError("Invalid hex string");n>o/2&&(n=o/2);for(var u=0;u<n;++u){var f=parseInt(r.substr(2*u,2),16);if(isNaN(f))return u;t[e+u]=f}return u}function m(t,r,e,n){return Q($(r,t.length-e),t,e,n)}function P(t,r,e,n){return Q(G(r),t,e,n)}function T(t,r,e,n){return P(t,r,e,n)}function B(t,r,e,n){return Q(K(r),t,e,n)}function U(t,r,e,n){return Q(H(r,t.length-e),t,e,n)}function S(t,e,n){return 0===e&&n===t.length?r.fromByteArray(t):r.fromByteArray(t.slice(e,n))}function Y(t,r,e){e=Math.min(t.length,e);for(var n=[],i=r;i<e;){var o,u,f,s,h=t[i],a=null,c=h>239?4:h>223?3:h>191?2:1;if(i+c<=e)switch(c){case 1:h<128&&(a=h);break;case 2:128==(192&(o=t[i+1]))&&(s=(31&h)<<6|63&o)>127&&(a=s);break;case 3:o=t[i+1],u=t[i+2],128==(192&o)&&128==(192&u)&&(s=(15&h)<<12|(63&o)<<6|63&u)>2047&&(s<55296||s>57343)&&(a=s);break;case 4:o=t[i+1],u=t[i+2],f=t[i+3],128==(192&o)&&128==(192&u)&&128==(192&f)&&(s=(15&h)<<18|(63&o)<<12|(63&u)<<6|63&f)>65535&&s<1114112&&(a=s)}null===a?(a=65533,c=1):a>65535&&(a-=65536,n.push(a>>>10&1023|55296),a=56320|1023&a),n.push(a),i+=c}return O(n)}exports.Buffer=f,exports.SlowBuffer=d,exports.INSPECT_MAX_BYTES=50,f.TYPED_ARRAY_SUPPORT=void 0!==t.TYPED_ARRAY_SUPPORT?t.TYPED_ARRAY_SUPPORT:i(),exports.kMaxLength=o(),f.poolSize=8192,f._augment=function(t){return t.__proto__=f.prototype,t},f.from=function(t,r,e){return s(null,t,r,e)},f.TYPED_ARRAY_SUPPORT&&(f.prototype.__proto__=Uint8Array.prototype,f.__proto__=Uint8Array,"undefined"!=typeof Symbol&&Symbol.species&&f[Symbol.species]===f&&Object.defineProperty(f,Symbol.species,{value:null,configurable:!0})),f.alloc=function(t,r,e){return a(null,t,r,e)},f.allocUnsafe=function(t){return c(null,t)},f.allocUnsafeSlow=function(t){return c(null,t)},f.isBuffer=function(t){return!(null==t||!t._isBuffer)},f.compare=function(t,r){if(!f.isBuffer(t)||!f.isBuffer(r))throw new TypeError("Arguments must be Buffers");if(t===r)return 0;for(var e=t.length,n=r.length,i=0,o=Math.min(e,n);i<o;++i)if(t[i]!==r[i]){e=t[i],n=r[i];break}return e<n?-1:n<e?1:0},f.isEncoding=function(t){switch(String(t).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"latin1":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}},f.concat=function(t,r){if(!n(t))throw new TypeError('"list" argument must be an Array of Buffers');if(0===t.length)return f.alloc(0);var e;if(void 0===r)for(r=0,e=0;e<t.length;++e)r+=t[e].length;var i=f.allocUnsafe(r),o=0;for(e=0;e<t.length;++e){var u=t[e];if(!f.isBuffer(u))throw new TypeError('"list" argument must be an Array of Buffers');u.copy(i,o),o+=u.length}return i},f.byteLength=v,f.prototype._isBuffer=!0,f.prototype.swap16=function(){var t=this.length;if(t%2!=0)throw new RangeError("Buffer size must be a multiple of 16-bits");for(var r=0;r<t;r+=2)b(this,r,r+1);return this},f.prototype.swap32=function(){var t=this.length;if(t%4!=0)throw new RangeError("Buffer size must be a multiple of 32-bits");for(var r=0;r<t;r+=4)b(this,r,r+3),b(this,r+1,r+2);return this},f.prototype.swap64=function(){var t=this.length;if(t%8!=0)throw new RangeError("Buffer size must be a multiple of 64-bits");for(var r=0;r<t;r+=8)b(this,r,r+7),b(this,r+1,r+6),b(this,r+2,r+5),b(this,r+3,r+4);return this},f.prototype.toString=function(){var t=0|this.length;return 0===t?"":0===arguments.length?Y(this,0,t):E.apply(this,arguments)},f.prototype.equals=function(t){if(!f.isBuffer(t))throw new TypeError("Argument must be a Buffer");return this===t||0===f.compare(this,t)},f.prototype.inspect=function(){var t="",r=exports.INSPECT_MAX_BYTES;return this.length>0&&(t=this.toString("hex",0,r).match(/.{2}/g).join(" "),this.length>r&&(t+=" ... ")),"<Buffer "+t+">"},f.prototype.compare=function(t,r,e,n,i){if(!f.isBuffer(t))throw new TypeError("Argument must be a Buffer");if(void 0===r&&(r=0),void 0===e&&(e=t?t.length:0),void 0===n&&(n=0),void 0===i&&(i=this.length),r<0||e>t.length||n<0||i>this.length)throw new RangeError("out of range index");if(n>=i&&r>=e)return 0;if(n>=i)return-1;if(r>=e)return 1;if(this===t)return 0;for(var o=(i>>>=0)-(n>>>=0),u=(e>>>=0)-(r>>>=0),s=Math.min(o,u),h=this.slice(n,i),a=t.slice(r,e),c=0;c<s;++c)if(h[c]!==a[c]){o=h[c],u=a[c];break}return o<u?-1:u<o?1:0},f.prototype.includes=function(t,r,e){return-1!==this.indexOf(t,r,e)},f.prototype.indexOf=function(t,r,e){return R(this,t,r,e,!0)},f.prototype.lastIndexOf=function(t,r,e){return R(this,t,r,e,!1)},f.prototype.write=function(t,r,e,n){if(void 0===r)n="utf8",e=this.length,r=0;else if(void 0===e&&"string"==typeof r)n=r,e=this.length,r=0;else{if(!isFinite(r))throw new Error("Buffer.write(string, encoding, offset[, length]) is no longer supported");r|=0,isFinite(e)?(e|=0,void 0===n&&(n="utf8")):(n=e,e=void 0)}var i=this.length-r;if((void 0===e||e>i)&&(e=i),t.length>0&&(e<0||r<0)||r>this.length)throw new RangeError("Attempt to write outside buffer bounds");n||(n="utf8");for(var o=!1;;)switch(n){case"hex":return A(this,t,r,e);case"utf8":case"utf-8":return m(this,t,r,e);case"ascii":return P(this,t,r,e);case"latin1":case"binary":return T(this,t,r,e);case"base64":return B(this,t,r,e);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return U(this,t,r,e);default:if(o)throw new TypeError("Unknown encoding: "+n);n=(""+n).toLowerCase(),o=!0}},f.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}};var I=4096;function O(t){var r=t.length;if(r<=I)return String.fromCharCode.apply(String,t);for(var e="",n=0;n<r;)e+=String.fromCharCode.apply(String,t.slice(n,n+=I));return e}function L(t,r,e){var n="";e=Math.min(t.length,e);for(var i=r;i<e;++i)n+=String.fromCharCode(127&t[i]);return n}function D(t,r,e){var n="";e=Math.min(t.length,e);for(var i=r;i<e;++i)n+=String.fromCharCode(t[i]);return n}function x(t,r,e){var n=t.length;(!r||r<0)&&(r=0),(!e||e<0||e>n)&&(e=n);for(var i="",o=r;o<e;++o)i+=Z(t[o]);return i}function C(t,r,e){for(var n=t.slice(r,e),i="",o=0;o<n.length;o+=2)i+=String.fromCharCode(n[o]+256*n[o+1]);return i}function M(t,r,e){if(t%1!=0||t<0)throw new RangeError("offset is not uint");if(t+r>e)throw new RangeError("Trying to access beyond buffer length")}function k(t,r,e,n,i,o){if(!f.isBuffer(t))throw new TypeError('"buffer" argument must be a Buffer instance');if(r>i||r<o)throw new RangeError('"value" argument is out of bounds');if(e+n>t.length)throw new RangeError("Index out of range")}function N(t,r,e,n){r<0&&(r=65535+r+1);for(var i=0,o=Math.min(t.length-e,2);i<o;++i)t[e+i]=(r&255<<8*(n?i:1-i))>>>8*(n?i:1-i)}function z(t,r,e,n){r<0&&(r=4294967295+r+1);for(var i=0,o=Math.min(t.length-e,4);i<o;++i)t[e+i]=r>>>8*(n?i:3-i)&255}function F(t,r,e,n,i,o){if(e+n>t.length)throw new RangeError("Index out of range");if(e<0)throw new RangeError("Index out of range")}function j(t,r,n,i,o){return o||F(t,r,n,4,3.4028234663852886e38,-3.4028234663852886e38),e.write(t,r,n,i,23,4),n+4}function q(t,r,n,i,o){return o||F(t,r,n,8,1.7976931348623157e308,-1.7976931348623157e308),e.write(t,r,n,i,52,8),n+8}f.prototype.slice=function(t,r){var e,n=this.length;if((t=~~t)<0?(t+=n)<0&&(t=0):t>n&&(t=n),(r=void 0===r?n:~~r)<0?(r+=n)<0&&(r=0):r>n&&(r=n),r<t&&(r=t),f.TYPED_ARRAY_SUPPORT)(e=this.subarray(t,r)).__proto__=f.prototype;else{var i=r-t;e=new f(i,void 0);for(var o=0;o<i;++o)e[o]=this[o+t]}return e},f.prototype.readUIntLE=function(t,r,e){t|=0,r|=0,e||M(t,r,this.length);for(var n=this[t],i=1,o=0;++o<r&&(i*=256);)n+=this[t+o]*i;return n},f.prototype.readUIntBE=function(t,r,e){t|=0,r|=0,e||M(t,r,this.length);for(var n=this[t+--r],i=1;r>0&&(i*=256);)n+=this[t+--r]*i;return n},f.prototype.readUInt8=function(t,r){return r||M(t,1,this.length),this[t]},f.prototype.readUInt16LE=function(t,r){return r||M(t,2,this.length),this[t]|this[t+1]<<8},f.prototype.readUInt16BE=function(t,r){return r||M(t,2,this.length),this[t]<<8|this[t+1]},f.prototype.readUInt32LE=function(t,r){return r||M(t,4,this.length),(this[t]|this[t+1]<<8|this[t+2]<<16)+16777216*this[t+3]},f.prototype.readUInt32BE=function(t,r){return r||M(t,4,this.length),16777216*this[t]+(this[t+1]<<16|this[t+2]<<8|this[t+3])},f.prototype.readIntLE=function(t,r,e){t|=0,r|=0,e||M(t,r,this.length);for(var n=this[t],i=1,o=0;++o<r&&(i*=256);)n+=this[t+o]*i;return n>=(i*=128)&&(n-=Math.pow(2,8*r)),n},f.prototype.readIntBE=function(t,r,e){t|=0,r|=0,e||M(t,r,this.length);for(var n=r,i=1,o=this[t+--n];n>0&&(i*=256);)o+=this[t+--n]*i;return o>=(i*=128)&&(o-=Math.pow(2,8*r)),o},f.prototype.readInt8=function(t,r){return r||M(t,1,this.length),128&this[t]?-1*(255-this[t]+1):this[t]},f.prototype.readInt16LE=function(t,r){r||M(t,2,this.length);var e=this[t]|this[t+1]<<8;return 32768&e?4294901760|e:e},f.prototype.readInt16BE=function(t,r){r||M(t,2,this.length);var e=this[t+1]|this[t]<<8;return 32768&e?4294901760|e:e},f.prototype.readInt32LE=function(t,r){return r||M(t,4,this.length),this[t]|this[t+1]<<8|this[t+2]<<16|this[t+3]<<24},f.prototype.readInt32BE=function(t,r){return r||M(t,4,this.length),this[t]<<24|this[t+1]<<16|this[t+2]<<8|this[t+3]},f.prototype.readFloatLE=function(t,r){return r||M(t,4,this.length),e.read(this,t,!0,23,4)},f.prototype.readFloatBE=function(t,r){return r||M(t,4,this.length),e.read(this,t,!1,23,4)},f.prototype.readDoubleLE=function(t,r){return r||M(t,8,this.length),e.read(this,t,!0,52,8)},f.prototype.readDoubleBE=function(t,r){return r||M(t,8,this.length),e.read(this,t,!1,52,8)},f.prototype.writeUIntLE=function(t,r,e,n){(t=+t,r|=0,e|=0,n)||k(this,t,r,e,Math.pow(2,8*e)-1,0);var i=1,o=0;for(this[r]=255&t;++o<e&&(i*=256);)this[r+o]=t/i&255;return r+e},f.prototype.writeUIntBE=function(t,r,e,n){(t=+t,r|=0,e|=0,n)||k(this,t,r,e,Math.pow(2,8*e)-1,0);var i=e-1,o=1;for(this[r+i]=255&t;--i>=0&&(o*=256);)this[r+i]=t/o&255;return r+e},f.prototype.writeUInt8=function(t,r,e){return t=+t,r|=0,e||k(this,t,r,1,255,0),f.TYPED_ARRAY_SUPPORT||(t=Math.floor(t)),this[r]=255&t,r+1},f.prototype.writeUInt16LE=function(t,r,e){return t=+t,r|=0,e||k(this,t,r,2,65535,0),f.TYPED_ARRAY_SUPPORT?(this[r]=255&t,this[r+1]=t>>>8):N(this,t,r,!0),r+2},f.prototype.writeUInt16BE=function(t,r,e){return t=+t,r|=0,e||k(this,t,r,2,65535,0),f.TYPED_ARRAY_SUPPORT?(this[r]=t>>>8,this[r+1]=255&t):N(this,t,r,!1),r+2},f.prototype.writeUInt32LE=function(t,r,e){return t=+t,r|=0,e||k(this,t,r,4,4294967295,0),f.TYPED_ARRAY_SUPPORT?(this[r+3]=t>>>24,this[r+2]=t>>>16,this[r+1]=t>>>8,this[r]=255&t):z(this,t,r,!0),r+4},f.prototype.writeUInt32BE=function(t,r,e){return t=+t,r|=0,e||k(this,t,r,4,4294967295,0),f.TYPED_ARRAY_SUPPORT?(this[r]=t>>>24,this[r+1]=t>>>16,this[r+2]=t>>>8,this[r+3]=255&t):z(this,t,r,!1),r+4},f.prototype.writeIntLE=function(t,r,e,n){if(t=+t,r|=0,!n){var i=Math.pow(2,8*e-1);k(this,t,r,e,i-1,-i)}var o=0,u=1,f=0;for(this[r]=255&t;++o<e&&(u*=256);)t<0&&0===f&&0!==this[r+o-1]&&(f=1),this[r+o]=(t/u>>0)-f&255;return r+e},f.prototype.writeIntBE=function(t,r,e,n){if(t=+t,r|=0,!n){var i=Math.pow(2,8*e-1);k(this,t,r,e,i-1,-i)}var o=e-1,u=1,f=0;for(this[r+o]=255&t;--o>=0&&(u*=256);)t<0&&0===f&&0!==this[r+o+1]&&(f=1),this[r+o]=(t/u>>0)-f&255;return r+e},f.prototype.writeInt8=function(t,r,e){return t=+t,r|=0,e||k(this,t,r,1,127,-128),f.TYPED_ARRAY_SUPPORT||(t=Math.floor(t)),t<0&&(t=255+t+1),this[r]=255&t,r+1},f.prototype.writeInt16LE=function(t,r,e){return t=+t,r|=0,e||k(this,t,r,2,32767,-32768),f.TYPED_ARRAY_SUPPORT?(this[r]=255&t,this[r+1]=t>>>8):N(this,t,r,!0),r+2},f.prototype.writeInt16BE=function(t,r,e){return t=+t,r|=0,e||k(this,t,r,2,32767,-32768),f.TYPED_ARRAY_SUPPORT?(this[r]=t>>>8,this[r+1]=255&t):N(this,t,r,!1),r+2},f.prototype.writeInt32LE=function(t,r,e){return t=+t,r|=0,e||k(this,t,r,4,2147483647,-2147483648),f.TYPED_ARRAY_SUPPORT?(this[r]=255&t,this[r+1]=t>>>8,this[r+2]=t>>>16,this[r+3]=t>>>24):z(this,t,r,!0),r+4},f.prototype.writeInt32BE=function(t,r,e){return t=+t,r|=0,e||k(this,t,r,4,2147483647,-2147483648),t<0&&(t=4294967295+t+1),f.TYPED_ARRAY_SUPPORT?(this[r]=t>>>24,this[r+1]=t>>>16,this[r+2]=t>>>8,this[r+3]=255&t):z(this,t,r,!1),r+4},f.prototype.writeFloatLE=function(t,r,e){return j(this,t,r,!0,e)},f.prototype.writeFloatBE=function(t,r,e){return j(this,t,r,!1,e)},f.prototype.writeDoubleLE=function(t,r,e){return q(this,t,r,!0,e)},f.prototype.writeDoubleBE=function(t,r,e){return q(this,t,r,!1,e)},f.prototype.copy=function(t,r,e,n){if(e||(e=0),n||0===n||(n=this.length),r>=t.length&&(r=t.length),r||(r=0),n>0&&n<e&&(n=e),n===e)return 0;if(0===t.length||0===this.length)return 0;if(r<0)throw new RangeError("targetStart out of bounds");if(e<0||e>=this.length)throw new RangeError("sourceStart out of bounds");if(n<0)throw new RangeError("sourceEnd out of bounds");n>this.length&&(n=this.length),t.length-r<n-e&&(n=t.length-r+e);var i,o=n-e;if(this===t&&e<r&&r<n)for(i=o-1;i>=0;--i)t[i+r]=this[i+e];else if(o<1e3||!f.TYPED_ARRAY_SUPPORT)for(i=0;i<o;++i)t[i+r]=this[i+e];else Uint8Array.prototype.set.call(t,this.subarray(e,e+o),r);return o},f.prototype.fill=function(t,r,e,n){if("string"==typeof t){if("string"==typeof r?(n=r,r=0,e=this.length):"string"==typeof e&&(n=e,e=this.length),1===t.length){var i=t.charCodeAt(0);i<256&&(t=i)}if(void 0!==n&&"string"!=typeof n)throw new TypeError("encoding must be a string");if("string"==typeof n&&!f.isEncoding(n))throw new TypeError("Unknown encoding: "+n)}else"number"==typeof t&&(t&=255);if(r<0||this.length<r||this.length<e)throw new RangeError("Out of range index");if(e<=r)return this;var o;if(r>>>=0,e=void 0===e?this.length:e>>>0,t||(t=0),"number"==typeof t)for(o=r;o<e;++o)this[o]=t;else{var u=f.isBuffer(t)?t:$(new f(t,n).toString()),s=u.length;for(o=0;o<e-r;++o)this[o+r]=u[o%s]}return this};var V=/[^+\/0-9A-Za-z-_]/g;function X(t){if((t=J(t).replace(V,"")).length<2)return"";for(;t.length%4!=0;)t+="=";return t}function J(t){return t.trim?t.trim():t.replace(/^\s+|\s+$/g,"")}function Z(t){return t<16?"0"+t.toString(16):t.toString(16)}function $(t,r){var e;r=r||1/0;for(var n=t.length,i=null,o=[],u=0;u<n;++u){if((e=t.charCodeAt(u))>55295&&e<57344){if(!i){if(e>56319){(r-=3)>-1&&o.push(239,191,189);continue}if(u+1===n){(r-=3)>-1&&o.push(239,191,189);continue}i=e;continue}if(e<56320){(r-=3)>-1&&o.push(239,191,189),i=e;continue}e=65536+(i-55296<<10|e-56320)}else i&&(r-=3)>-1&&o.push(239,191,189);if(i=null,e<128){if((r-=1)<0)break;o.push(e)}else if(e<2048){if((r-=2)<0)break;o.push(e>>6|192,63&e|128)}else if(e<65536){if((r-=3)<0)break;o.push(e>>12|224,e>>6&63|128,63&e|128)}else{if(!(e<1114112))throw new Error("Invalid code point");if((r-=4)<0)break;o.push(e>>18|240,e>>12&63|128,e>>6&63|128,63&e|128)}}return o}function G(t){for(var r=[],e=0;e<t.length;++e)r.push(255&t.charCodeAt(e));return r}function H(t,r){for(var e,n,i,o=[],u=0;u<t.length&&!((r-=2)<0);++u)n=(e=t.charCodeAt(u))>>8,i=e%256,o.push(i),o.push(n);return o}function K(t){return r.toByteArray(X(t))}function Q(t,r,e,n){for(var i=0;i<n&&!(i+e>=r.length||i>=t.length);++i)r[i+e]=t[i];return i}function W(t){return t!=t}
},{"base64-js":"yh9p","ieee754":"JgNJ","isarray":"REa7","buffer":"dskh"}],"vfn/":[function(require,module,exports) {
var global = arguments[3];
var Buffer = require("buffer").Buffer;
var e=arguments[3],r=require("buffer").Buffer,t=require("bit-twiddle"),n=require("dup");e.__TYPEDARRAY_POOL||(e.__TYPEDARRAY_POOL={UINT8:n([32,0]),UINT16:n([32,0]),UINT32:n([32,0]),INT8:n([32,0]),INT16:n([32,0]),INT32:n([32,0]),FLOAT:n([32,0]),DOUBLE:n([32,0]),DATA:n([32,0]),UINT8C:n([32,0]),BUFFER:n([32,0])});var o="undefined"!=typeof Uint8ClampedArray,a=e.__TYPEDARRAY_POOL;a.UINT8C||(a.UINT8C=n([32,0])),a.BUFFER||(a.BUFFER=n([32,0]));var l=a.DATA,u=a.BUFFER;function f(e){if(e){var r=e.length||e.byteLength,n=t.log2(r);l[n].push(e)}}function i(e){f(e.buffer)}function c(e){e=t.nextPow2(e);var r=t.log2(e),n=l[r];return n.length>0?n.pop():new ArrayBuffer(e)}function s(e){return new Uint8Array(c(e),0,e)}function p(e){return new Uint16Array(c(2*e),0,e)}function x(e){return new Uint32Array(c(4*e),0,e)}function U(e){return new Int8Array(c(e),0,e)}function g(e){return new Int16Array(c(2*e),0,e)}function A(e){return new Int32Array(c(4*e),0,e)}function h(e){return new Float32Array(c(4*e),0,e)}function I(e){return new Float64Array(c(8*e),0,e)}function T(e){return o?new Uint8ClampedArray(c(e),0,e):s(e)}function m(e){return new DataView(c(e),0,e)}function w(e){e=t.nextPow2(e);var n=t.log2(e),o=u[n];return o.length>0?o.pop():new r(e)}exports.free=function(e){if(r.isBuffer(e))u[t.log2(e.length)].push(e);else{if("[object ArrayBuffer]"!==Object.prototype.toString.call(e)&&(e=e.buffer),!e)return;var n=e.length||e.byteLength,o=0|t.log2(n);l[o].push(e)}},exports.freeUint8=exports.freeUint16=exports.freeUint32=exports.freeInt8=exports.freeInt16=exports.freeInt32=exports.freeFloat32=exports.freeFloat=exports.freeFloat64=exports.freeDouble=exports.freeUint8Clamped=exports.freeDataView=i,exports.freeArrayBuffer=f,exports.freeBuffer=function(e){u[t.log2(e.length)].push(e)},exports.malloc=function(e,r){if(void 0===r||"arraybuffer"===r)return c(e);switch(r){case"uint8":return s(e);case"uint16":return p(e);case"uint32":return x(e);case"int8":return U(e);case"int16":return g(e);case"int32":return A(e);case"float":case"float32":return h(e);case"double":case"float64":return I(e);case"uint8_clamped":return T(e);case"buffer":return w(e);case"data":case"dataview":return m(e);default:return null}return null},exports.mallocArrayBuffer=c,exports.mallocUint8=s,exports.mallocUint16=p,exports.mallocUint32=x,exports.mallocInt8=U,exports.mallocInt16=g,exports.mallocInt32=A,exports.mallocFloat32=exports.mallocFloat=h,exports.mallocFloat64=exports.mallocDouble=I,exports.mallocUint8Clamped=T,exports.mallocDataView=m,exports.mallocBuffer=w,exports.clearCache=function(){for(var e=0;e<32;++e)a.UINT8[e].length=0,a.UINT16[e].length=0,a.UINT32[e].length=0,a.INT8[e].length=0,a.INT16[e].length=0,a.INT32[e].length=0,a.FLOAT[e].length=0,a.DOUBLE[e].length=0,a.UINT8C[e].length=0,l[e].length=0,u[e].length=0};
},{"bit-twiddle":"gXRl","dup":"fDKz","buffer":"dskh"}],"nl8e":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;var t=function(t,e,s,i){return new(s||(s=Promise))(function(n,a){function h(t){try{o(i.next(t))}catch(e){a(e)}}function r(t){try{o(i.throw(t))}catch(e){a(e)}}function o(t){t.done?n(t.value):new s(function(e){e(t.value)}).then(h,r)}o((i=i.apply(t,e||[])).next())})};class e{constructor(t){this.enabled=!0,this.maxSize=8,this.pointer=-1,this.stack=[],this.canvas=t.canvas,t.size&&(this.maxSize=t.size),t.enabled&&(this.enabled=t.enabled),this.reset()}capture(){return t(this,void 0,void 0,function*(){if(!this.enabled)return;let t=this.canvas.getImageData();this.stack[++this.pointer]=t;for(let e=this.pointer+1;e<this.stack.length;e++)delete this.stack[e];for(;this.stack.length>this.maxSize;)this.stack.shift()})}restore(t){if(!this.enabled)return;if(t<0||this.stack.length<t||!this.stack[t])throw`History at index ${t} does not exist`;let e=this.stack[t];this.canvas.putImageData(e)}undo(){!this.enabled||this.pointer<=0||this.restore(--this.pointer)}redo(){!this.enabled||this.pointer>=this.stack.length||this.restore(++this.pointer)}reset(){this.stack=[],this.pointer=-1}}exports.default=e;
},{}],"c9bV":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;var t=e(require("./history.js"));function e(t){return t&&t.__esModule?t:{default:t}}const i={size:8,enabled:!0};class h{constructor(e){this.el=document.createElement("canvas"),this.el.height=e.height,this.el.width=e.width;let h=this.el.getContext("2d",{alpha:!1});if(null===h)throw"Failed to get the CanvasRenderingContext2D";this.context=h,this.context.imageSmoothingEnabled=!1;let a=Object.assign(i,e.history);this.history=new t.default({canvas:this,size:a.size,enabled:a.enabled})}clear(t="white"){this.drawRect({x:0,y:0,width:this.el.width,height:this.el.height,color:t}),this.history.capture()}drawRect({x:t,y:e,width:i,height:h,color:a}){let s=this.context;s.fillStyle=a,s.fillRect(t,e,i,h),this.save()}drawImage(t,e=[0,0]){this.context.drawImage(t,e[0],e[1]),this.save()}getImageData(t={x:0,y:0,width:this.el.width,height:this.el.height}){return this.context.getImageData(t.x,t.y,t.width,t.height)}putImageData(t,e=0,i=0){this.context.putImageData(t,e,i)}toBlob(t="image/png",e=1){return new Promise((i,h)=>{this.el.toBlob(t=>i(t),t,e)})}get historyEnabled(){return this.history.enabled}set historyEnabled(t){this.history.enabled=t,this.save()}get historySize(){return this.history.maxSize}set historySize(t){this.history.maxSize=t}getColors(){let t=[],e=this.getImageData(),i=e.height*e.width*4-4,h=e.data;for(let a=0;a<i;a+=4){let e=h[a],i=h[a+1],s=h[a+2],r=h[a+3],l=this.rgba2Hex(e,i,s,r);t.includes(l)||t.push(l)}return t}getColorAt(t,e){let i=this.getImageData(),h=i.data,a=4*(t+e*i.width),s=h[a],r=h[a+1],l=h[a+2],o=h[a+3];return this.rgba2Hex(s,r,l,o)}rgba2Hex(t,e,i,h){let a="#"+("000000"+(t<<16|e<<8|i).toString(16)).slice(-6);return a+=h.toString(16)}padHex(t){return 1===t.length?"0"+t:t}undo(){this.history.undo()}redo(){this.history.redo()}save(){this.history.capture()}clampX(t){return t=Math.max(0,t),t=Math.min(t,this.el.width)}clampY(t){return t=Math.max(0,t),t=Math.min(t,this.el.height)}static fromImage(t){let e=new h({height:t.naturalWidth,width:t.naturalHeight});return e.drawImage(t),e}}exports.default=h;
},{"./history.js":"nl8e"}],"pAcO":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;class e{constructor(e){this.queue=[],this.dequeuing=!1,this.brush=e.brush}push(e,u){this.queue.push([e,u]),this.dequeuing||this.dequeue()}dequeue(){if(0===this.queue.length)return void(this.dequeuing=!1);this.dequeuing=!0;let e=this.previous,u=this.queue.shift();e?this.brush.lineTo(e[0],e[1],u[0],u[1]):this.brush.draw(u[0],u[1]),this.previous=u,this.dequeue()}reset(){this.previous=void 0}}exports.default=e;
},{}],"xCPA":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=exports.Point=void 0;class t{constructor(t){this.x=t.x,this.y=t.y}}exports.Point=t;class i{constructor(t){this.points=[],this.minY=1/0,this.minX=1/0,this.maxX=0,this.maxY=0,this.brush=t.brush}addPoint(i,s){this.points.push(new t({x:i,y:s})),this.minX=Math.min(this.minX,i),this.minY=Math.min(this.minY,s),this.maxX=Math.max(this.maxX,i),this.maxY=Math.max(this.maxY,s)}contains(t){let s=this.points.length;if(s<3)return!1;let n=0;for(let h=0;h<s;h++){let e=this.points[h],o=this.points[(h+1)%s];e.y<=t.y?o.y>t.y&&i.orientation(e,o,t)>0&&n++:o.y<=t.y&&i.orientation(e,o,t)<0&&n--}return 0!=n}fill(){for(let i=this.minX;i<this.maxX;i++)for(let s=this.minY;s<this.maxY;s++)this.contains(new t({x:i,y:s}))&&this.brush.draw(i,s)}static orientation(t,i,s){let n=(i.y-t.y)*(s.x-i.x)-(i.x-t.x)*(s.y-i.y);return Math.sign(n)}}exports.default=i;
},{}],"gJnt":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;var t=s(require("./brush-queue.js")),e=s(require("./brush-polygon.js"));function s(t){return t&&t.__esModule?t:{default:t}}class i{constructor(e){this.queue=new t.default({brush:this}),this.active=!1,this.canvas=e.canvas,this.context=e.canvas.context,this.color=e.color||"#ffffff",this.size=e.size||6,this.capStyle=e.capStyle||"square",this.fillPolygons=e.fillPolygons||!0,e.nolisteners||this.setupListeners()}setupListeners(){let t=this.canvas.el;t.addEventListener("mousedown",t=>this.begin.apply(this,[t.clientX,t.clientY])),t.addEventListener("mousemove",t=>this.move.apply(this,[t.clientX,t.clientY])),t.addEventListener("mouseup",t=>this.end.apply(this,[t.clientX,t.clientY]))}draw(t,e){let s=this.context;s.fillStyle=this.color,s.fillRect(t,e,this.size,this.size)}lineTo(t,e,s,i){let l,o,h,n,a=s-t,r=i-e,u=Math.abs(a),c=Math.abs(r),d=2*c-u,f=2*u-c,p=Math.sign(a)===Math.sign(r);if(c<u){let n=a>=0;for(l=n?t:s,o=n?e:i,h=n?s:t,this.draw(l,o);l<h;l++)d<0?d+=2*c:(o+=p?1:-1,d+=2*(c-u)),this.draw(l,o)}else{let h=r>0;for(l=h?t:s,o=h?e:i,n=h?i:e,this.draw(l,o);o<n;o++)f<=0?f+=2*u:(l+=p?1:-1,f+=2*(u-c)),this.draw(l,o)}}begin(t,s){this.active||(this.queue.push(t,s),this.fillPolygons&&(this.polygon=new e.default({brush:this}),this.polygon.addPoint(t,s)),this.active=!0)}move(t,e){this.active&&(this.queue.push(t,e),this.fillPolygons&&this.polygon&&this.polygon.addPoint(t,e))}end(t,e){if(this.active){if(this.move(t,e),this.queue.reset(),this.fillPolygons&&this.polygon){this.polygon.fill()}this.active=!1,this.canvas.save()}}}exports.default=i;
},{"./brush-queue.js":"pAcO","./brush-polygon.js":"xCPA"}],"kWi2":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),Object.defineProperty(exports,"Canvas",{enumerable:!0,get:function(){return e.default}}),Object.defineProperty(exports,"Brush",{enumerable:!0,get:function(){return r.default}});var e=t(require("./canvas.js")),r=t(require("./brush.js"));function t(e){return e&&e.__esModule?e:{default:e}}
},{"./canvas.js":"c9bV","./brush.js":"gJnt"}],"rXzJ":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0});class e{constructor(e){this.type=e.type,this.message=e.message,this.filename=e.filename,this.timestamp=e.timestamp||Date.now()}toString(){let e=`%c${this.type}\n%cMessage: ${this.message}`;return this.filename&&(e+=`\nFile: ${this.filename}`),e}}exports.default=e;
},{}],"fM3N":[function(require,module,exports) {
"use strict";var e=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(exports,"__esModule",{value:!0});const t=e(require("../item"));exports.STORAGE_KEY="log";class r{write(e){localStorage.setItem(exports.STORAGE_KEY,e)}read(){try{let r=localStorage.getItem(exports.STORAGE_KEY)||"[]",o=JSON.parse(r,(e,r)=>"number"==typeof e?new t.default(r):r);return"Array"===o.constructor.name?o:[]}catch(e){return[]}}}exports.default=r;
},{"../item":"rXzJ"}],"9Lol":[function(require,module,exports) {
"use strict";var e,t=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(exports,"__esModule",{value:!0});const r=t(require("../item")),s=Symbol();class u{constructor(){this[e]="[]"}write(e){this[s]=e}read(){return JSON.parse(this[s],(e,t)=>"number"==typeof e?new r.default(t):t)}}e=s,exports.default=u;
},{"../item":"rXzJ"}],"KESB":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0});var e=require("./local-store");exports.LocalStore=e.default;var r=require("./string-store");exports.StringStore=r.default;
},{"./local-store":"fM3N","./string-store":"9Lol"}],"ED/T":[function(require,module,exports) {
"use strict";module.exports=function(r,n){return function(){for(var t=new Array(arguments.length),e=0;e<t.length;e++)t[e]=arguments[e];return r.apply(n,t)}};
},{}],"q/Zl":[function(require,module,exports) {
function t(t){return!!t.constructor&&"function"==typeof t.constructor.isBuffer&&t.constructor.isBuffer(t)}function n(n){return"function"==typeof n.readFloatLE&&"function"==typeof n.slice&&t(n.slice(0,0))}module.exports=function(o){return null!=o&&(t(o)||n(o)||!!o._isBuffer)};
},{}],"S1cf":[function(require,module,exports) {
"use strict";var e=require("./helpers/bind"),r=require("is-buffer"),n=Object.prototype.toString;function t(e){return"[object Array]"===n.call(e)}function i(e){return"[object ArrayBuffer]"===n.call(e)}function o(e){return"undefined"!=typeof FormData&&e instanceof FormData}function f(e){return"undefined"!=typeof ArrayBuffer&&ArrayBuffer.isView?ArrayBuffer.isView(e):e&&e.buffer&&e.buffer instanceof ArrayBuffer}function u(e){return"string"==typeof e}function c(e){return"number"==typeof e}function a(e){return void 0===e}function l(e){return null!==e&&"object"==typeof e}function s(e){return"[object Date]"===n.call(e)}function p(e){return"[object File]"===n.call(e)}function y(e){return"[object Blob]"===n.call(e)}function d(e){return"[object Function]"===n.call(e)}function b(e){return l(e)&&d(e.pipe)}function j(e){return"undefined"!=typeof URLSearchParams&&e instanceof URLSearchParams}function m(e){return e.replace(/^\s*/,"").replace(/\s*$/,"")}function B(){return("undefined"==typeof navigator||"ReactNative"!==navigator.product)&&("undefined"!=typeof window&&"undefined"!=typeof document)}function v(e,r){if(null!=e)if("object"!=typeof e&&(e=[e]),t(e))for(var n=0,i=e.length;n<i;n++)r.call(null,e[n],n,e);else for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&r.call(null,e[o],o,e)}function A(){var e={};function r(r,n){"object"==typeof e[n]&&"object"==typeof r?e[n]=A(e[n],r):e[n]=r}for(var n=0,t=arguments.length;n<t;n++)v(arguments[n],r);return e}function g(r,n,t){return v(n,function(n,i){r[i]=t&&"function"==typeof n?e(n,t):n}),r}module.exports={isArray:t,isArrayBuffer:i,isBuffer:r,isFormData:o,isArrayBufferView:f,isString:u,isNumber:c,isObject:l,isUndefined:a,isDate:s,isFile:p,isBlob:y,isFunction:d,isStream:b,isURLSearchParams:j,isStandardBrowserEnv:B,forEach:v,merge:A,extend:g,trim:m};
},{"./helpers/bind":"ED/T","is-buffer":"q/Zl"}],"M8l6":[function(require,module,exports) {
"use strict";var e=require("../utils");module.exports=function(t,r){e.forEach(t,function(e,o){o!==r&&o.toUpperCase()===r.toUpperCase()&&(t[r]=e,delete t[o])})};
},{"../utils":"S1cf"}],"YdsM":[function(require,module,exports) {
"use strict";module.exports=function(e,o,r,s,t){return e.config=o,r&&(e.code=r),e.request=s,e.response=t,e};
},{}],"3bIi":[function(require,module,exports) {
"use strict";var r=require("./enhanceError");module.exports=function(e,n,o,t,u){var a=new Error(e);return r(a,n,o,t,u)};
},{"./enhanceError":"YdsM"}],"aS8y":[function(require,module,exports) {
"use strict";var t=require("./createError");module.exports=function(e,s,u){var a=u.config.validateStatus;u.status&&a&&!a(u.status)?s(t("Request failed with status code "+u.status,u.config,null,u.request,u)):e(u)};
},{"./createError":"3bIi"}],"H6Qo":[function(require,module,exports) {
"use strict";var e=require("./../utils");function r(e){return encodeURIComponent(e).replace(/%40/gi,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+").replace(/%5B/gi,"[").replace(/%5D/gi,"]")}module.exports=function(i,n,t){if(!n)return i;var a;if(t)a=t(n);else if(e.isURLSearchParams(n))a=n.toString();else{var c=[];e.forEach(n,function(i,n){null!=i&&(e.isArray(i)?n+="[]":i=[i],e.forEach(i,function(i){e.isDate(i)?i=i.toISOString():e.isObject(i)&&(i=JSON.stringify(i)),c.push(r(n)+"="+r(i))}))}),a=c.join("&")}return a&&(i+=(-1===i.indexOf("?")?"?":"&")+a),i};
},{"./../utils":"S1cf"}],"ZeD7":[function(require,module,exports) {
"use strict";var e=require("./../utils"),t=["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"];module.exports=function(r){var i,o,n,s={};return r?(e.forEach(r.split("\n"),function(r){if(n=r.indexOf(":"),i=e.trim(r.substr(0,n)).toLowerCase(),o=e.trim(r.substr(n+1)),i){if(s[i]&&t.indexOf(i)>=0)return;s[i]="set-cookie"===i?(s[i]?s[i]:[]).concat([o]):s[i]?s[i]+", "+o:o}}),s):s};
},{"./../utils":"S1cf"}],"/w7L":[function(require,module,exports) {
"use strict";var t=require("./../utils");module.exports=t.isStandardBrowserEnv()?function(){var r,e=/(msie|trident)/i.test(navigator.userAgent),o=document.createElement("a");function a(t){var r=t;return e&&(o.setAttribute("href",r),r=o.href),o.setAttribute("href",r),{href:o.href,protocol:o.protocol?o.protocol.replace(/:$/,""):"",host:o.host,search:o.search?o.search.replace(/^\?/,""):"",hash:o.hash?o.hash.replace(/^#/,""):"",hostname:o.hostname,port:o.port,pathname:"/"===o.pathname.charAt(0)?o.pathname:"/"+o.pathname}}return r=a(window.location.href),function(e){var o=t.isString(e)?a(e):e;return o.protocol===r.protocol&&o.host===r.host}}():function(){return!0};
},{"./../utils":"S1cf"}],"mmkS":[function(require,module,exports) {
"use strict";var r="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=";function t(){this.message="String contains an invalid character"}function o(o){for(var e,a,n=String(o),c="",i=0,h=r;n.charAt(0|i)||(h="=",i%1);c+=h.charAt(63&e>>8-i%1*8)){if((a=n.charCodeAt(i+=.75))>255)throw new t;e=e<<8|a}return c}t.prototype=new Error,t.prototype.code=5,t.prototype.name="InvalidCharacterError",module.exports=o;
},{}],"dn2M":[function(require,module,exports) {
"use strict";var e=require("./../utils");module.exports=e.isStandardBrowserEnv()?{write:function(n,t,o,r,i,u){var s=[];s.push(n+"="+encodeURIComponent(t)),e.isNumber(o)&&s.push("expires="+new Date(o).toGMTString()),e.isString(r)&&s.push("path="+r),e.isString(i)&&s.push("domain="+i),!0===u&&s.push("secure"),document.cookie=s.join("; ")},read:function(e){var n=document.cookie.match(new RegExp("(^|;\\s*)("+e+")=([^;]*)"));return n?decodeURIComponent(n[3]):null},remove:function(e){this.write(e,"",Date.now()-864e5)}}:{write:function(){},read:function(){return null},remove:function(){}};
},{"./../utils":"S1cf"}],"KRuG":[function(require,module,exports) {
"use strict";var e=require("./../utils"),r=require("./../core/settle"),o=require("./../helpers/buildURL"),t=require("./../helpers/parseHeaders"),n=require("./../helpers/isURLSameOrigin"),s=require("../core/createError"),i="undefined"!=typeof window&&window.btoa&&window.btoa.bind(window)||require("./../helpers/btoa");module.exports=function(a){return new Promise(function(u,d){var l=a.data,p=a.headers;e.isFormData(l)&&delete p["Content-Type"];var f=new XMLHttpRequest,c="onreadystatechange",w=!1;if("undefined"==typeof window||!window.XDomainRequest||"withCredentials"in f||n(a.url)||(f=new window.XDomainRequest,c="onload",w=!0,f.onprogress=function(){},f.ontimeout=function(){}),a.auth){var h=a.auth.username||"",m=a.auth.password||"";p.Authorization="Basic "+i(h+":"+m)}if(f.open(a.method.toUpperCase(),o(a.url,a.params,a.paramsSerializer),!0),f.timeout=a.timeout,f[c]=function(){if(f&&(4===f.readyState||w)&&(0!==f.status||f.responseURL&&0===f.responseURL.indexOf("file:"))){var e="getAllResponseHeaders"in f?t(f.getAllResponseHeaders()):null,o={data:a.responseType&&"text"!==a.responseType?f.response:f.responseText,status:1223===f.status?204:f.status,statusText:1223===f.status?"No Content":f.statusText,headers:e,config:a,request:f};r(u,d,o),f=null}},f.onerror=function(){d(s("Network Error",a,null,f)),f=null},f.ontimeout=function(){d(s("timeout of "+a.timeout+"ms exceeded",a,"ECONNABORTED",f)),f=null},e.isStandardBrowserEnv()){var y=require("./../helpers/cookies"),q=(a.withCredentials||n(a.url))&&a.xsrfCookieName?y.read(a.xsrfCookieName):void 0;q&&(p[a.xsrfHeaderName]=q)}if("setRequestHeader"in f&&e.forEach(p,function(e,r){void 0===l&&"content-type"===r.toLowerCase()?delete p[r]:f.setRequestHeader(r,e)}),a.withCredentials&&(f.withCredentials=!0),a.responseType)try{f.responseType=a.responseType}catch(T){if("json"!==a.responseType)throw T}"function"==typeof a.onDownloadProgress&&f.addEventListener("progress",a.onDownloadProgress),"function"==typeof a.onUploadProgress&&f.upload&&f.upload.addEventListener("progress",a.onUploadProgress),a.cancelToken&&a.cancelToken.promise.then(function(e){f&&(f.abort(),d(e),f=null)}),void 0===l&&(l=null),f.send(l)})};
},{"./../utils":"S1cf","./../core/settle":"aS8y","./../helpers/buildURL":"H6Qo","./../helpers/parseHeaders":"ZeD7","./../helpers/isURLSameOrigin":"/w7L","../core/createError":"3bIi","./../helpers/btoa":"mmkS","./../helpers/cookies":"dn2M"}],"pBGv":[function(require,module,exports) {

var t,e,n=module.exports={};function r(){throw new Error("setTimeout has not been defined")}function o(){throw new Error("clearTimeout has not been defined")}function i(e){if(t===setTimeout)return setTimeout(e,0);if((t===r||!t)&&setTimeout)return t=setTimeout,setTimeout(e,0);try{return t(e,0)}catch(n){try{return t.call(null,e,0)}catch(n){return t.call(this,e,0)}}}function u(t){if(e===clearTimeout)return clearTimeout(t);if((e===o||!e)&&clearTimeout)return e=clearTimeout,clearTimeout(t);try{return e(t)}catch(n){try{return e.call(null,t)}catch(n){return e.call(this,t)}}}!function(){try{t="function"==typeof setTimeout?setTimeout:r}catch(n){t=r}try{e="function"==typeof clearTimeout?clearTimeout:o}catch(n){e=o}}();var c,s=[],l=!1,a=-1;function f(){l&&c&&(l=!1,c.length?s=c.concat(s):a=-1,s.length&&h())}function h(){if(!l){var t=i(f);l=!0;for(var e=s.length;e;){for(c=s,s=[];++a<e;)c&&c[a].run();a=-1,e=s.length}c=null,l=!1,u(t)}}function m(t,e){this.fun=t,this.array=e}function p(){}n.nextTick=function(t){var e=new Array(arguments.length-1);if(arguments.length>1)for(var n=1;n<arguments.length;n++)e[n-1]=arguments[n];s.push(new m(t,e)),1!==s.length||l||i(h)},m.prototype.run=function(){this.fun.apply(null,this.array)},n.title="browser",n.env={},n.argv=[],n.version="",n.versions={},n.on=p,n.addListener=p,n.once=p,n.off=p,n.removeListener=p,n.removeAllListeners=p,n.emit=p,n.prependListener=p,n.prependOnceListener=p,n.listeners=function(t){return[]},n.binding=function(t){throw new Error("process.binding is not supported")},n.cwd=function(){return"/"},n.chdir=function(t){throw new Error("process.chdir is not supported")},n.umask=function(){return 0};
},{}],"BXyq":[function(require,module,exports) {
var process = require("process");
var e=require("process"),t=require("./utils"),r=require("./helpers/normalizeHeaderName"),n={"Content-Type":"application/x-www-form-urlencoded"};function a(e,r){!t.isUndefined(e)&&t.isUndefined(e["Content-Type"])&&(e["Content-Type"]=r)}function i(){var t;return"undefined"!=typeof XMLHttpRequest?t=require("./adapters/xhr"):void 0!==e&&(t=require("./adapters/http")),t}var o={adapter:i(),transformRequest:[function(e,n){return r(n,"Content-Type"),t.isFormData(e)||t.isArrayBuffer(e)||t.isBuffer(e)||t.isStream(e)||t.isFile(e)||t.isBlob(e)?e:t.isArrayBufferView(e)?e.buffer:t.isURLSearchParams(e)?(a(n,"application/x-www-form-urlencoded;charset=utf-8"),e.toString()):t.isObject(e)?(a(n,"application/json;charset=utf-8"),JSON.stringify(e)):e}],transformResponse:[function(e){if("string"==typeof e)try{e=JSON.parse(e)}catch(t){}return e}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,validateStatus:function(e){return e>=200&&e<300},headers:{common:{Accept:"application/json, text/plain, */*"}}};t.forEach(["delete","get","head"],function(e){o.headers[e]={}}),t.forEach(["post","put","patch"],function(e){o.headers[e]=t.merge(n)}),module.exports=o;
},{"./utils":"S1cf","./helpers/normalizeHeaderName":"M8l6","./adapters/xhr":"KRuG","./adapters/http":"KRuG","process":"pBGv"}],"rj2i":[function(require,module,exports) {
"use strict";var t=require("./../utils");function e(){this.handlers=[]}e.prototype.use=function(t,e){return this.handlers.push({fulfilled:t,rejected:e}),this.handlers.length-1},e.prototype.eject=function(t){this.handlers[t]&&(this.handlers[t]=null)},e.prototype.forEach=function(e){t.forEach(this.handlers,function(t){null!==t&&e(t)})},module.exports=e;
},{"./../utils":"S1cf"}],"woEt":[function(require,module,exports) {
"use strict";var r=require("./../utils");module.exports=function(t,u,e){return r.forEach(e,function(r){t=r(t,u)}),t};
},{"./../utils":"S1cf"}],"V3+0":[function(require,module,exports) {
"use strict";module.exports=function(t){return!(!t||!t.__CANCEL__)};
},{}],"7/2Y":[function(require,module,exports) {
"use strict";module.exports=function(t){return/^([a-z][a-z\d\+\-\.]*:)?\/\//i.test(t)};
},{}],"a2Uu":[function(require,module,exports) {
"use strict";module.exports=function(e,r){return r?e.replace(/\/+$/,"")+"/"+r.replace(/^\/+/,""):e};
},{}],"uz6X":[function(require,module,exports) {
"use strict";var e=require("./../utils"),r=require("./transformData"),a=require("../cancel/isCancel"),s=require("../defaults"),t=require("./../helpers/isAbsoluteURL"),n=require("./../helpers/combineURLs");function o(e){e.cancelToken&&e.cancelToken.throwIfRequested()}module.exports=function(d){return o(d),d.baseURL&&!t(d.url)&&(d.url=n(d.baseURL,d.url)),d.headers=d.headers||{},d.data=r(d.data,d.headers,d.transformRequest),d.headers=e.merge(d.headers.common||{},d.headers[d.method]||{},d.headers||{}),e.forEach(["delete","get","head","post","put","patch","common"],function(e){delete d.headers[e]}),(d.adapter||s.adapter)(d).then(function(e){return o(d),e.data=r(e.data,e.headers,d.transformResponse),e},function(e){return a(e)||(o(d),e&&e.response&&(e.response.data=r(e.response.data,e.response.headers,d.transformResponse))),Promise.reject(e)})};
},{"./../utils":"S1cf","./transformData":"woEt","../cancel/isCancel":"V3+0","../defaults":"BXyq","./../helpers/isAbsoluteURL":"7/2Y","./../helpers/combineURLs":"a2Uu"}],"OvAf":[function(require,module,exports) {
"use strict";var e=require("./../defaults"),t=require("./../utils"),r=require("./InterceptorManager"),o=require("./dispatchRequest");function s(e){this.defaults=e,this.interceptors={request:new r,response:new r}}s.prototype.request=function(r){"string"==typeof r&&(r=t.merge({url:arguments[0]},arguments[1])),(r=t.merge(e,{method:"get"},this.defaults,r)).method=r.method.toLowerCase();var s=[o,void 0],u=Promise.resolve(r);for(this.interceptors.request.forEach(function(e){s.unshift(e.fulfilled,e.rejected)}),this.interceptors.response.forEach(function(e){s.push(e.fulfilled,e.rejected)});s.length;)u=u.then(s.shift(),s.shift());return u},t.forEach(["delete","get","head","options"],function(e){s.prototype[e]=function(r,o){return this.request(t.merge(o||{},{method:e,url:r}))}}),t.forEach(["post","put","patch"],function(e){s.prototype[e]=function(r,o,s){return this.request(t.merge(s||{},{method:e,url:r,data:o}))}}),module.exports=s;
},{"./../defaults":"BXyq","./../utils":"S1cf","./InterceptorManager":"rj2i","./dispatchRequest":"uz6X"}],"mI+K":[function(require,module,exports) {
"use strict";function t(t){this.message=t}t.prototype.toString=function(){return"Cancel"+(this.message?": "+this.message:"")},t.prototype.__CANCEL__=!0,module.exports=t;
},{}],"tsWd":[function(require,module,exports) {
"use strict";var e=require("./Cancel");function n(n){if("function"!=typeof n)throw new TypeError("executor must be a function.");var o;this.promise=new Promise(function(e){o=e});var r=this;n(function(n){r.reason||(r.reason=new e(n),o(r.reason))})}n.prototype.throwIfRequested=function(){if(this.reason)throw this.reason},n.source=function(){var e;return{token:new n(function(n){e=n}),cancel:e}},module.exports=n;
},{"./Cancel":"mI+K"}],"X8jb":[function(require,module,exports) {
"use strict";module.exports=function(n){return function(t){return n.apply(null,t)}};
},{}],"nUiQ":[function(require,module,exports) {
"use strict";var e=require("./utils"),r=require("./helpers/bind"),n=require("./core/Axios"),t=require("./defaults");function u(t){var u=new n(t),l=r(n.prototype.request,u);return e.extend(l,n.prototype,u),e.extend(l,u),l}var l=u(t);l.Axios=n,l.create=function(r){return u(e.merge(t,r))},l.Cancel=require("./cancel/Cancel"),l.CancelToken=require("./cancel/CancelToken"),l.isCancel=require("./cancel/isCancel"),l.all=function(e){return Promise.all(e)},l.spread=require("./helpers/spread"),module.exports=l,module.exports.default=l;
},{"./utils":"S1cf","./helpers/bind":"ED/T","./core/Axios":"OvAf","./defaults":"BXyq","./cancel/Cancel":"mI+K","./cancel/CancelToken":"tsWd","./cancel/isCancel":"V3+0","./helpers/spread":"X8jb"}],"dZBD":[function(require,module,exports) {
module.exports=require("./lib/axios");
},{"./lib/axios":"nUiQ"}],"yhXr":[function(require,module,exports) {
"use strict";var t=this&&this.__awaiter||function(t,e,r,i){return new(r||(r=Promise))(function(n,o){function s(t){try{a(i.next(t))}catch(e){o(e)}}function u(t){try{a(i.throw(t))}catch(e){o(e)}}function a(t){t.done?n(t.value):new r(function(e){e(t.value)}).then(s,u)}a((i=i.apply(t,e||[])).next())})},e=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(exports,"__esModule",{value:!0});const r=e(require("axios")),i="https://krash.vila.cythral.com/report";class n{constructor(t){this.version=t.version}report(e){return t(this,void 0,void 0,function*(){let t=(yield r.default.post(i,{repo:"fix3p",log:e,version:this.version},{validateStatus:t=>200===t})).data;if(!("id"in t&&"htmlUrl"in t))throw new Error("Received invalid response from Krash.");return{id:t.id,url:t.htmlUrl}})}}exports.default=n;
},{"axios":"dZBD"}],"SzUX":[function(require,module,exports) {
"use strict";var t=this&&this.__awaiter||function(t,e,n,r){return new(n||(n=Promise))(function(o,i){function s(t){try{c(r.next(t))}catch(e){i(e)}}function u(t){try{c(r.throw(t))}catch(e){i(e)}}function c(t){t.done?o(t.value):new n(function(e){e(t.value)}).then(s,u)}c((r=r.apply(t,e||[])).next())})};Object.defineProperty(exports,"__esModule",{value:!0});class e{constructor(){this.response={id:-1,url:"http://localhost/"}}report(e){return t(this,void 0,void 0,function*(){return this.response})}}exports.default=e;
},{}],"6jHp":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0});var e=require("./krash-reporter");exports.KrashReporter=e.default;var r=require("./dummy-reporter");exports.DummyReporter=r.default;
},{"./krash-reporter":"yhXr","./dummy-reporter":"SzUX"}],"FtMO":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0});const t="tabs";class e{static get count(){return Number(localStorage.getItem(t)||0)}static set count(e){localStorage.setItem(t,e.toString())}static increment(){e.count=e.count+1}static decrement(){e.count=e.count-1}}exports.default=e;
},{}],"Ke36":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0});class e{constructor(e,t=[],s=""){this.createElement(e,t,s)}update(e){this.el.innerHTML=`<div class="popup-content">${e}</div>`}display(e=0,t=!1){this.el.classList.add("active"),e>0&&setTimeout(()=>this.hide(t),1e3*e)}hide(e=!1){this.el.classList.remove("active"),e&&setTimeout(()=>this.destroy(),1e3)}destroy(){this.el.remove()}createElement(e,t=[],s=""){this.el=document.createEasy("div",{id:s,props:{innerHTML:`<div class="popup-content">${e}</div>`},classes:["popup"].concat(t)}),document.querySelector("body").appendChild(this.el)}}exports.default=e;
},{}],"hs/f":[function(require,module,exports) {
"use strict";var e=this&&this.__awaiter||function(e,t,r,n){return new(r||(r=Promise))(function(o,a){function u(e){try{i(n.next(e))}catch(t){a(t)}}function l(e){try{i(n.throw(e))}catch(t){a(t)}}function i(e){e.done?o(e.value):new r(function(t){t(e.value)}).then(u,l)}i((n=n.apply(e,t||[])).next())})},t=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(exports,"__esModule",{value:!0});const r=t(require(".")),n=t(require("./store/local-store")),o=t(require("./reporter/krash-reporter")),a=t(require("./tabs")),u=t(require("../popup")),l="heartbeat",i=1e4;function c(t){const c=setInterval(()=>localStorage.setItem(l,Date.now().toString()),1e3),f=Number(localStorage.getItem(l)||0),d=Date.now()-f;a.default.increment(),r.default.prefix=`[tab ${a.default.count}]`,r.default.store=new n.default,r.default.reporter=new o.default({version:t.version}),window.onerror=(e=>r.default.error(`unhandled error: ${e}`,t.session.filename)),window.onunload=(()=>{a.default.decrement(),clearInterval(c),0==a.default.count?r.default.clear():r.default.info("closed tab")}),r.default.count>0&&(1==a.default.count||d>i)&&(a.default.count>1&&(a.default.count=1,r.default.prefix=`[tab ${a.default.count}]`),r.default.info("crash recovery started"),function(){e(this,void 0,void 0,function*(){if(!t.reporting)return;r.default.info("uploading crash report");let e=yield r.default.report();if(e){let t=new u.default(`\n                <h3>Crash Recovery</h3>\n                <p>FiX3P just recovered from a crash.</p>\n                <div class="popup-btns">\n                    <a class="popup-btn" href="${e.url}" target="_blank">Details</a>\n                    <a class="popup-close popup-btn">Close</a>\n                </div>\n            `);t.el.querySelector(".popup-close").onclick=(()=>t.hide(!0)),t.display()}})}())}exports.default=c;
},{".":"RUKh","./store/local-store":"fM3N","./reporter/krash-reporter":"yhXr","./tabs":"FtMO","../popup":"Ke36"}],"RUKh":[function(require,module,exports) {
"use strict";var t=this&&this.__awaiter||function(t,e,r,o){return new(r||(r=Promise))(function(n,i){function s(t){try{c(o.next(t))}catch(e){i(e)}}function a(t){try{c(o.throw(t))}catch(e){i(e)}}function c(t){t.done?n(t.value):new r(function(e){e(t.value)}).then(s,a)}c((o=o.apply(t,e||[])).next())})};function e(t){for(var e in t)exports.hasOwnProperty(e)||(exports[e]=t[e])}var r,o=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(exports,"__esModule",{value:!0});const n=o(require("./item"));exports.TYPE_MAP={info:console.info,action:console.log,error:console.error,warning:console.warn},exports.COLOR_MAP={info:"#000000",action:"#0000FF",error:"#8B0000",warning:"#FF0000"};const i=Symbol(),s=Symbol(),a=Symbol();class c{static set store(t){c[s]=t,c.load()}static get store(){return c[s]}static set reporter(t){c[a]=t}static get reporter(){return c[a]}static save(){c[s]&&c[s].write(c.toString())}static clear(){c[i]=[],c.save()}static log(t,e,r){c.load();let o=new n.default({type:t,filename:r,message:c.addPrefixtoMessage(e)});c[i].push(o),c.save(),c.output(o)}static load(){c[i]=c[s].read()}static get(t=c[i].length){return t=Math.min(t,c[i].length),c[i].slice(-t)}static get count(){return c[i].length}static warn(t,e){c.log("warning",t,e)}static error(t,e){c.log("error",t,e)}static action(t,e){c.log("action",t,e)}static info(t,e){c.log("info",t,e)}static report(){return t(this,void 0,void 0,function*(){return c.reporter?c.reporter.report(c[i]):null})}static toString(){return JSON.stringify(c[i])}static output(t){if(!c.writeToConsole)return;let e=t.toString();(exports.TYPE_MAP[t.type]||console.log)(e,`color: ${exports.COLOR_MAP[t.type]||"black"}; font-weight: bold; font-size: 1.1em;`,"")}static addPrefixtoMessage(t){return""!==c.prefix?`${c.prefix} ${t}`:t}}r=i,c.writeToConsole=!0,c.prefix="",c[r]=[],exports.default=c,e(require("./store")),e(require("./reporter"));var l=require("./setup");exports.setup=l.default;
},{"./item":"rXzJ","./store":"KESB","./reporter":"6jHp","./setup":"hs/f"}],"eeV9":[function(require,module,exports) {
"use strict";var t=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(exports,"__esModule",{value:!0});const e=require("events"),a=require("typedarray-pool"),s=require("@talenfisher/canvas"),r=t(require("./logger"));class i extends e.EventEmitter{constructor(){super(),this.data={},this.setMaxListeners(50)}start(t,e){this.started||(this.data.filename=e,this.data.x3p=t,this.emit("start",this.data.x3p),r.default.action("session started",this.data.filename))}end(){this.started&&(this.data.renderer&&this.data.renderer.dispose(),this.emit("end"),r.default.action("session ended",this.data.filename),this.data={},a.clearCache())}get x3p(){return this.data.x3p}get filename(){return this.data.filename}get renderer(){return this.data.renderer}set renderer(t){this.data.renderer=t,this.data.texture=this.data.x3p.mask.getTexture(),this.data.brush=new s.Brush({canvas:this.data.x3p.mask.canvas,nolisteners:!0}),this.emit("render",this.data)}get texture(){return this.data.texture}get backgroundColor(){return this.data.x3p.mask.color}get brush(){return this.data.brush}get paintColor(){if(this.data.brush)return this.data.paintColor}set paintColor(t){this.data.brush&&(this.data.paintColor=t,"Eraser"!==this.paintMode&&(this.data.brush.color=t),this.emit("paint:color-switch",t))}get paintMode(){return this.data.paintMode}set paintMode(t){this.data.paintMode=t,this.emit("paint:mode-switch",t)}get started(){return void 0!==this.data.x3p}}exports.Session=i;const d=new i;exports.default=d;
},{"events":"T2os","typedarray-pool":"vfn/","@talenfisher/canvas":"kWi2","./logger":"RUKh"}],"R0ZP":[function(require,module,exports) {
Node.prototype.querySelectorImmediate=function(t){for(var e of this.children)if(e.matches(t))return e},Node.prototype.index=function(){let t=this.parentElement,e=0;for(let o of t.children){if(o===this)return e;e++}},Node.prototype.getPath=function(){let t=[this.tagName],e=this.parentElement;for(;e!==this.ownerDocument.documentElement;)t.push(e.tagName),e=e.parentElement;return t.reverse()},Node.prototype.on=function(t,e){this.addEventListener(t,e)},NodeList.prototype.on=function(t,e){for(let o of this)o.addEventListener(t,e)},NodeList.prototype.addClass=function(t){for(let e of this)e.classList.add(t)},NodeList.prototype.addClasses=function(t){for(let e of t)this.addClass(e)},NodeList.prototype.removeClass=function(t){for(let e of this)e.classList.remove(t)},NodeList.prototype.removeClasses=function(t){for(let e of t)this.removeClass(e)};
},{}],"B6JH":[function(require,module,exports) {
Document.prototype.createEasy=function(t,e={}){let o=this.createElement(t);if(void 0!==e.props)for(let r in e.props)o[r]=e.props[r];if(void 0!==e.attrs)for(let r in e.attrs)o.setAttribute(r,e.attrs[r]);if(void 0!==e.classes)for(let r of e.classes)o.classList.add(r);return o},Document.prototype.get=function(t){let e=this.querySelector(t);return null!==e?e.innerHTML:""},Document.prototype.getInt=function(t){return parseInt(this.get(t))},Document.prototype.getFloat=function(t){return parseFloat(this.get(t))};
},{}],"VQrb":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),require("./node"),require("./document");
},{"./node":"R0ZP","./document":"B6JH"}],"B3YG":[function(require,module,exports) {
"use strict";var e=this&&this.__awaiter||function(e,t,n,r){return new(n||(n=Promise))(function(i,o){function s(e){try{a(r.next(e))}catch(t){o(t)}}function u(e){try{a(r.throw(e))}catch(t){o(t)}}function a(e){e.done?i(e.value):new n(function(t){t(e.value)}).then(s,u)}a((r=r.apply(e,t||[])).next())})},t=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(exports,"__esModule",{value:!0});const n=t(require("./popup")),r=t(require("./logger"));function i(t){return function(n,i,o){const s=o.value;return o.value=function(...n){return e(this,void 0,void 0,function*(){let e=require("./session"),o=e?e.filename:null,u=setTimeout(()=>r.default.warn(`Calling ${this.constructor.name}.${i} is taking a while (max = ${t.max}ms)`,o),t.max),a=performance.now(),l=yield s.apply(this,n);clearTimeout(u);let c=performance.now()-a;return c>t.max&&r.default.warn(`${this.constructor.name}.${i} took ${c}ms`,o),(()=>{t.reset&&this.reset&&this.reset()})(),l})},o}}function o(t){return function(i,o,s){const u=s.value;return s.value=function(...i){return e(this,void 0,void 0,function*(){try{return yield u.apply(this,i)}catch(e){new n.default(`<i class="fas fa-exclamation-triangle"></i> ${t.message}`,t.classes).display(2,!0);let i=require("./session"),o=i?i.filename:null;r.default.error(e,o)}finally{t.reset&&this.reset&&this.reset()}})},s}}function s(e){return console.log(e),function(t){return customElements.define(`fix3p-${e}`,t),t}}exports.time=i,exports.throws=o,exports.CustomElement=s;
},{"./popup":"Ke36","./logger":"RUKh","./session":"eeV9"}],"tzYZ":[function(require,module,exports) {
"use strict";var e=this&&this.__decorate||function(e,t,r,o){var i,s=arguments.length,n=s<3?t:null===o?o=Object.getOwnPropertyDescriptor(t,r):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)n=Reflect.decorate(e,t,r,o);else for(var l=e.length-1;l>=0;l--)(i=e[l])&&(n=(s<3?i(n):s>3?i(t,r,n):i(t,r))||n);return s>3&&n&&Object.defineProperty(t,r,n),n},t=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(exports,"__esModule",{value:!0});const r=t(require("./session")),o=require("./decorators");let i=class extends HTMLElement{connectedCallback(){r.default.on("editor:ready",()=>this.view="editor"),r.default.on("end",()=>this.view="uploader")}set view(e){this.setAttribute("view",e)}};i=e([o.CustomElement("panorama")],i),exports.default=i;
},{"./session":"eeV9","./decorators":"B3YG"}],"6+Bn":[function(require,module,exports) {
var define;
var e;parcelRequire=function(t,r,n,i){var a,s="function"==typeof parcelRequire&&parcelRequire,o="function"==typeof require&&require;function u(e,n){if(!r[e]){if(!t[e]){var i="function"==typeof parcelRequire&&parcelRequire;if(!n&&i)return i(e,!0);if(s)return s(e,!0);if(o&&"string"==typeof e)return o(e);var a=new Error("Cannot find module '"+e+"'");throw a.code="MODULE_NOT_FOUND",a}h.resolve=function(r){return t[e][1][r]||r},h.cache={};var l=r[e]=new u.Module(e);t[e][0].call(l.exports,h,l,l.exports,this)}return r[e].exports;function h(e){return u(h.resolve(e))}}u.isParcelRequire=!0,u.Module=function(e){this.id=e,this.bundle=u,this.exports={}},u.modules=t,u.cache=r,u.parent=s,u.register=function(e,r){t[e]=[function(e,t){t.exports=r},{}]};for(var l=0;l<n.length;l++)try{u(n[l])}catch(t){a||(a=t)}if(n.length){var h=u(n[n.length-1]);"object"==typeof exports&&"undefined"!=typeof module?module.exports=h:"function"==typeof e&&e.amd?e(function(){return h}):this.X3P=h}if(parcelRequire=u,a)throw a;return u}({tBW9:[function(e,t,r){t.exports='<?xml version="1.0" encoding="UTF-8"?>\n<ISO5436>\n    <Record1>\n        <Revision disabled=""></Revision>\n        <FeatureType disabled=""></FeatureType>\n        <Axes>\n            <CX>\n                <AxisType disabled=""></AxisType>\n                <DataType disabled=""></DataType>\n                <Increment disabled=""></Increment>\n                <Offset disabled=""></Offset>\n            </CX>\n            <CY>\n                <AxisType disabled=""></AxisType>\n                <DataType disabled=""></DataType>\n                <Increment disabled=""></Increment>\n                <Offset disabled=""></Offset>\n            </CY>\n            <CZ>\n                <AxisType disabled=""></AxisType>\n                <DataType disabled=""></DataType>\n                <Increment disabled=""></Increment>\n                <Offset disabled=""></Offset>\n            </CZ>\n            <Origin>NW</Origin>\n        </Axes>\n    </Record1>\n    <Record2>\n        <Date type="date"></Date>\n        <Creator></Creator>\n        <CalibrationDate type="date"></CalibrationDate>\n        <Comment></Comment>\n        <Instrument>\n            <Manufacturer></Manufacturer>\n            <Model></Model>\n            <Serial></Serial>\n            <Version></Version>\n        </Instrument>\n        <ProbingSystem>\n            <Type></Type>\n            <Identification></Identification>\n        </ProbingSystem>\n    </Record2>\n    <Record3>\n        <MatrixDimension>\n            <SizeX disabled=""></SizeX>\n            <SizeY disabled=""></SizeY>\n            <SizeZ disabled=""></SizeZ>\n        </MatrixDimension>\n        <DataLink>\n            <PointDataLink disabled=""></PointDataLink>\n            <MD5ChecksumPointData disabled=""></MD5ChecksumPointData>\n        </DataLink>\n        <Mask/>\n    </Record3>\n    <Record4>\n        <ChecksumFile disabled=""></ChecksumFile>\n    </Record4>\n</ISO5436>'},{}],qa37:[function(e,t,r){t.exports='<Mask>\n    <Background>#cd7f32</Background>\n    <Annotations type="section"></Annotations>\n</Mask>'},{}],Pqnw:[function(e,t,r){!function(e){"use strict";function r(e,t){var r=(65535&e)+(65535&t);return(e>>16)+(t>>16)+(r>>16)<<16|65535&r}function n(e,t,n,i,a,s){return r((o=r(r(t,e),r(i,s)))<<(u=a)|o>>>32-u,n);var o,u}function i(e,t,r,i,a,s,o){return n(t&r|~t&i,e,t,a,s,o)}function a(e,t,r,i,a,s,o){return n(t&i|r&~i,e,t,a,s,o)}function s(e,t,r,i,a,s,o){return n(t^r^i,e,t,a,s,o)}function o(e,t,r,i,a,s,o){return n(r^(t|~i),e,t,a,s,o)}function u(e,t){var n,u,l,h,c;e[t>>5]|=128<<t%32,e[14+(t+64>>>9<<4)]=t;var f=1732584193,d=-271733879,p=-1732584194,m=271733878;for(n=0;n<e.length;n+=16)u=f,l=d,h=p,c=m,f=i(f,d,p,m,e[n],7,-680876936),m=i(m,f,d,p,e[n+1],12,-389564586),p=i(p,m,f,d,e[n+2],17,606105819),d=i(d,p,m,f,e[n+3],22,-1044525330),f=i(f,d,p,m,e[n+4],7,-176418897),m=i(m,f,d,p,e[n+5],12,1200080426),p=i(p,m,f,d,e[n+6],17,-1473231341),d=i(d,p,m,f,e[n+7],22,-45705983),f=i(f,d,p,m,e[n+8],7,1770035416),m=i(m,f,d,p,e[n+9],12,-1958414417),p=i(p,m,f,d,e[n+10],17,-42063),d=i(d,p,m,f,e[n+11],22,-1990404162),f=i(f,d,p,m,e[n+12],7,1804603682),m=i(m,f,d,p,e[n+13],12,-40341101),p=i(p,m,f,d,e[n+14],17,-1502002290),f=a(f,d=i(d,p,m,f,e[n+15],22,1236535329),p,m,e[n+1],5,-165796510),m=a(m,f,d,p,e[n+6],9,-1069501632),p=a(p,m,f,d,e[n+11],14,643717713),d=a(d,p,m,f,e[n],20,-373897302),f=a(f,d,p,m,e[n+5],5,-701558691),m=a(m,f,d,p,e[n+10],9,38016083),p=a(p,m,f,d,e[n+15],14,-660478335),d=a(d,p,m,f,e[n+4],20,-405537848),f=a(f,d,p,m,e[n+9],5,568446438),m=a(m,f,d,p,e[n+14],9,-1019803690),p=a(p,m,f,d,e[n+3],14,-187363961),d=a(d,p,m,f,e[n+8],20,1163531501),f=a(f,d,p,m,e[n+13],5,-1444681467),m=a(m,f,d,p,e[n+2],9,-51403784),p=a(p,m,f,d,e[n+7],14,1735328473),f=s(f,d=a(d,p,m,f,e[n+12],20,-1926607734),p,m,e[n+5],4,-378558),m=s(m,f,d,p,e[n+8],11,-2022574463),p=s(p,m,f,d,e[n+11],16,1839030562),d=s(d,p,m,f,e[n+14],23,-35309556),f=s(f,d,p,m,e[n+1],4,-1530992060),m=s(m,f,d,p,e[n+4],11,1272893353),p=s(p,m,f,d,e[n+7],16,-155497632),d=s(d,p,m,f,e[n+10],23,-1094730640),f=s(f,d,p,m,e[n+13],4,681279174),m=s(m,f,d,p,e[n],11,-358537222),p=s(p,m,f,d,e[n+3],16,-722521979),d=s(d,p,m,f,e[n+6],23,76029189),f=s(f,d,p,m,e[n+9],4,-640364487),m=s(m,f,d,p,e[n+12],11,-421815835),p=s(p,m,f,d,e[n+15],16,530742520),f=o(f,d=s(d,p,m,f,e[n+2],23,-995338651),p,m,e[n],6,-198630844),m=o(m,f,d,p,e[n+7],10,1126891415),p=o(p,m,f,d,e[n+14],15,-1416354905),d=o(d,p,m,f,e[n+5],21,-57434055),f=o(f,d,p,m,e[n+12],6,1700485571),m=o(m,f,d,p,e[n+3],10,-1894986606),p=o(p,m,f,d,e[n+10],15,-1051523),d=o(d,p,m,f,e[n+1],21,-2054922799),f=o(f,d,p,m,e[n+8],6,1873313359),m=o(m,f,d,p,e[n+15],10,-30611744),p=o(p,m,f,d,e[n+6],15,-1560198380),d=o(d,p,m,f,e[n+13],21,1309151649),f=o(f,d,p,m,e[n+4],6,-145523070),m=o(m,f,d,p,e[n+11],10,-1120210379),p=o(p,m,f,d,e[n+2],15,718787259),d=o(d,p,m,f,e[n+9],21,-343485551),f=r(f,u),d=r(d,l),p=r(p,h),m=r(m,c);return[f,d,p,m]}function l(e){var t,r="",n=32*e.length;for(t=0;t<n;t+=8)r+=String.fromCharCode(e[t>>5]>>>t%32&255);return r}function h(e){var t,r=[];for(r[(e.length>>2)-1]=void 0,t=0;t<r.length;t+=1)r[t]=0;var n=8*e.length;for(t=0;t<n;t+=8)r[t>>5]|=(255&e.charCodeAt(t/8))<<t%32;return r}function c(e){var t,r,n="";for(r=0;r<e.length;r+=1)t=e.charCodeAt(r),n+="0123456789abcdef".charAt(t>>>4&15)+"0123456789abcdef".charAt(15&t);return n}function f(e){return unescape(encodeURIComponent(e))}function d(e){return function(e){return l(u(h(e),8*e.length))}(f(e))}function p(e,t){return function(e,t){var r,n,i=h(e),a=[],s=[];for(a[15]=s[15]=void 0,i.length>16&&(i=u(i,8*e.length)),r=0;r<16;r+=1)a[r]=909522486^i[r],s[r]=1549556828^i[r];return n=u(a.concat(h(t)),512+8*t.length),l(u(s.concat(n),640))}(f(e),f(t))}function m(e,t,r){return t?r?p(t,e):c(p(t,e)):r?d(e):c(d(e))}"object"==typeof t&&t.exports?t.exports=m:e.md5=m}(this)},{}],Dpmo:[function(e,t,r){"use strict";var n=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(r,"__esModule",{value:!0});const i=n(e("./tree.xml")),a=n(e("./mask.xml")),s=n(e("blueimp-md5")),o=["disabled","type"],u=new window.DOMParser,l=new window.XMLSerializer,h=e=>{for(let r of e.querySelectorAll("*"))for(let e of o)r.removeAttribute(e);let t=l.serializeToString(e);return t.match(/<\?xml/g)?t:'<?xml version="1.0" encoding="UTF-8"?>\n'+t},c=Symbol(),f=Symbol(),d=Symbol();class p{constructor(e){this.openNodes=[],this.nodeCounts={},this.tree=this.prepareTree(),this.data=u.parseFromString(e,"text/xml"),this.removeErrors(),this.merge(),this.data=null}static get defaultMask(){return this[d]}static set defaultMask(e){this[d]=""===e.trim()?a.default:e}get(e){let t=this.tree.querySelector(e);if(!t)return;let r=t.innerHTML;return!Number.isNaN(parseFloat(r))&&isFinite(r)?Number(r):r}set(e,t){let r=this.tree.querySelector(e);if(!r){let t=e.split(" ");for(let e=0;e<t.length;e++){let n=t.slice(0,e+1).join(" "),i=this.tree.querySelector(n);if(!i){let r=0===e?this.tree.documentElement:this.tree.querySelector(t.slice(0,e).join(" "));i=this.tree.createElement(t[e]),r.appendChild(i)}r=i}}r&&(r.innerHTML=t),this[c]=void 0,this[f]=void 0}has(e){return null!==this.tree.querySelector(e)}remove(e){if(!this.has(e))return;let t=this.getNode(e);if(!t)return;let r=t.parentNode;r&&(r.removeChild(t),this[c]=void 0,this[f]=void 0)}getNode(e){return this.tree.querySelector(e)}getTree(){return this.tree}toString(){return this[c]?this[c]:this[c]=h(this.tree)}prepareTree(){let e=i.default.replace("<Mask/>",p.defaultMask);return u.parseFromString(e,"text/xml")}merge(e=this.data.documentElement){if(e!==this.data.documentElement&&(this.openNodes.push(e.nodeName),!this.activeNode||this.currentNodeCount>0)){let t=1===this.openNodes.length?this.tree.documentElement:null;if(!t){let e=this.openNodes.slice(0,this.openNodes.length-1).join(" ");t=this.tree.querySelector(e)}let r=this.tree.createElement(e.nodeName);this.mergeAttributes(r,e),t&&t.appendChild(r)}if(e.children.length>0)for(let t of Array.from(e.children))this.merge(t);else this.activeNode&&(this.mergeAttributes(this.activeNode,e),e.innerHTML&&(this.activeNode.innerHTML=e.innerHTML),this.currentNodeCount=this.currentNodeCount+1);this.openNodes.pop()}mergeAttributes(e,t){for(let r of t.getAttributeNames())e.setAttribute(r,t.getAttribute(r))}removeErrors(){let e=this.data.querySelector("parsererror");if(e){let t=e.parentElement;t&&(t.removeChild(e),this.error=e)}}get pathName(){return this.openNodes.join(" ")}get currentNodeCount(){return this.pathName in this.nodeCounts?this.nodeCounts[this.pathName]:0}set currentNodeCount(e){this.nodeCounts[this.pathName]=e}get activeNode(){return this.pathName?this.tree.querySelector(this.pathName+`:nth-of-type(${this.currentNodeCount+1})`):void 0}get checksum(){return this[f]?this[f]:this[f]=s.default(this.toString())}}p[d]=a.default,r.default=p},{"./tree.xml":"tBW9","./mask.xml":"qa37","blueimp-md5":"Pqnw"}],biOE:[function(e,t,r){"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.default={get:(e,t)=>{let r=e.querySelector(`Annotations Annotation[color="${t}"]`);return r?r.innerHTML:void 0},set:(e,t,r)=>{let n=e.ownerDocument,i=e.querySelector("Annotations");i||(i=n.createElement("Annotations"),e.appendChild(i));let a=i.querySelector(`Annotation[color="${t}"]`);return a||((a=n.createElement("Annotation")).setAttribute("color",t),i.appendChild(a)),a.innerHTML=r,!0}}},{}],T2os:[function(e,t,r){"use strict";var n,i="object"==typeof Reflect?Reflect:null,a=i&&"function"==typeof i.apply?i.apply:function(e,t,r){return Function.prototype.apply.call(e,t,r)};n=i&&"function"==typeof i.ownKeys?i.ownKeys:Object.getOwnPropertySymbols?function(e){return Object.getOwnPropertyNames(e).concat(Object.getOwnPropertySymbols(e))}:function(e){return Object.getOwnPropertyNames(e)};var s=Number.isNaN||function(e){return e!=e};function o(){o.init.call(this)}t.exports=o,o.EventEmitter=o,o.prototype._events=void 0,o.prototype._eventsCount=0,o.prototype._maxListeners=void 0;var u=10;function l(e){return void 0===e._maxListeners?o.defaultMaxListeners:e._maxListeners}function h(e,t,r,n){var i,a,s;if("function"!=typeof r)throw new TypeError('The "listener" argument must be of type Function. Received type '+typeof r);if(void 0===(a=e._events)?(a=e._events=Object.create(null),e._eventsCount=0):(void 0!==a.newListener&&(e.emit("newListener",t,r.listener?r.listener:r),a=e._events),s=a[t]),void 0===s)s=a[t]=r,++e._eventsCount;else if("function"==typeof s?s=a[t]=n?[r,s]:[s,r]:n?s.unshift(r):s.push(r),(i=l(e))>0&&s.length>i&&!s.warned){s.warned=!0;var o=new Error("Possible EventEmitter memory leak detected. "+s.length+" "+String(t)+" listeners added. Use emitter.setMaxListeners() to increase limit");o.name="MaxListenersExceededWarning",o.emitter=e,o.type=t,o.count=s.length,function(e){console&&console.warn&&console.warn(e)}(o)}return e}function c(){for(var e=[],t=0;t<arguments.length;t++)e.push(arguments[t]);this.fired||(this.target.removeListener(this.type,this.wrapFn),this.fired=!0,a(this.listener,this.target,e))}function f(e,t,r){var n={fired:!1,wrapFn:void 0,target:e,type:t,listener:r},i=c.bind(n);return i.listener=r,n.wrapFn=i,i}function d(e,t,r){var n=e._events;if(void 0===n)return[];var i=n[t];return void 0===i?[]:"function"==typeof i?r?[i.listener||i]:[i]:r?function(e){for(var t=new Array(e.length),r=0;r<t.length;++r)t[r]=e[r].listener||e[r];return t}(i):m(i,i.length)}function p(e){var t=this._events;if(void 0!==t){var r=t[e];if("function"==typeof r)return 1;if(void 0!==r)return r.length}return 0}function m(e,t){for(var r=new Array(t),n=0;n<t;++n)r[n]=e[n];return r}Object.defineProperty(o,"defaultMaxListeners",{enumerable:!0,get:function(){return u},set:function(e){if("number"!=typeof e||e<0||s(e))throw new RangeError('The value of "defaultMaxListeners" is out of range. It must be a non-negative number. Received '+e+".");u=e}}),o.init=function(){void 0!==this._events&&this._events!==Object.getPrototypeOf(this)._events||(this._events=Object.create(null),this._eventsCount=0),this._maxListeners=this._maxListeners||void 0},o.prototype.setMaxListeners=function(e){if("number"!=typeof e||e<0||s(e))throw new RangeError('The value of "n" is out of range. It must be a non-negative number. Received '+e+".");return this._maxListeners=e,this},o.prototype.getMaxListeners=function(){return l(this)},o.prototype.emit=function(e){for(var t=[],r=1;r<arguments.length;r++)t.push(arguments[r]);var n="error"===e,i=this._events;if(void 0!==i)n=n&&void 0===i.error;else if(!n)return!1;if(n){var s;if(t.length>0&&(s=t[0]),s instanceof Error)throw s;var o=new Error("Unhandled error."+(s?" ("+s.message+")":""));throw o.context=s,o}var u=i[e];if(void 0===u)return!1;if("function"==typeof u)a(u,this,t);else{var l=u.length,h=m(u,l);for(r=0;r<l;++r)a(h[r],this,t)}return!0},o.prototype.addListener=function(e,t){return h(this,e,t,!1)},o.prototype.on=o.prototype.addListener,o.prototype.prependListener=function(e,t){return h(this,e,t,!0)},o.prototype.once=function(e,t){if("function"!=typeof t)throw new TypeError('The "listener" argument must be of type Function. Received type '+typeof t);return this.on(e,f(this,e,t)),this},o.prototype.prependOnceListener=function(e,t){if("function"!=typeof t)throw new TypeError('The "listener" argument must be of type Function. Received type '+typeof t);return this.prependListener(e,f(this,e,t)),this},o.prototype.removeListener=function(e,t){var r,n,i,a,s;if("function"!=typeof t)throw new TypeError('The "listener" argument must be of type Function. Received type '+typeof t);if(void 0===(n=this._events))return this;if(void 0===(r=n[e]))return this;if(r===t||r.listener===t)0==--this._eventsCount?this._events=Object.create(null):(delete n[e],n.removeListener&&this.emit("removeListener",e,r.listener||t));else if("function"!=typeof r){for(i=-1,a=r.length-1;a>=0;a--)if(r[a]===t||r[a].listener===t){s=r[a].listener,i=a;break}if(i<0)return this;0===i?r.shift():function(e,t){for(;t+1<e.length;t++)e[t]=e[t+1];e.pop()}(r,i),1===r.length&&(n[e]=r[0]),void 0!==n.removeListener&&this.emit("removeListener",e,s||t)}return this},o.prototype.off=o.prototype.removeListener,o.prototype.removeAllListeners=function(e){var t,r,n;if(void 0===(r=this._events))return this;if(void 0===r.removeListener)return 0===arguments.length?(this._events=Object.create(null),this._eventsCount=0):void 0!==r[e]&&(0==--this._eventsCount?this._events=Object.create(null):delete r[e]),this;if(0===arguments.length){var i,a=Object.keys(r);for(n=0;n<a.length;++n)"removeListener"!==(i=a[n])&&this.removeAllListeners(i);return this.removeAllListeners("removeListener"),this._events=Object.create(null),this._eventsCount=0,this}if("function"==typeof(t=r[e]))this.removeListener(e,t);else if(void 0!==t)for(n=t.length-1;n>=0;n--)this.removeListener(e,t[n]);return this},o.prototype.listeners=function(e){return d(this,e,!0)},o.prototype.rawListeners=function(e){return d(this,e,!1)},o.listenerCount=function(e,t){return"function"==typeof e.listenerCount?e.listenerCount(t):p.call(e,t)},o.prototype.listenerCount=p,o.prototype.eventNames=function(){return this._eventsCount>0?n(this._events):[]}},{}],nl8e:[function(e,t,r){"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.default=void 0;var n=function(e,t,r,n){return new(r||(r=Promise))(function(i,a){function s(e){try{u(n.next(e))}catch(t){a(t)}}function o(e){try{u(n.throw(e))}catch(t){a(t)}}function u(e){e.done?i(e.value):new r(function(t){t(e.value)}).then(s,o)}u((n=n.apply(e,t||[])).next())})};r.default=class{constructor(e){this.enabled=!0,this.maxSize=8,this.pointer=-1,this.stack=[],this.canvas=e.canvas,e.size&&(this.maxSize=e.size),e.enabled&&(this.enabled=e.enabled),this.reset()}capture(){return n(this,void 0,void 0,function*(){if(!this.enabled)return;let e=this.canvas.getImageData();this.stack[++this.pointer]=e;for(let t=this.pointer+1;t<this.stack.length;t++)delete this.stack[t];for(;this.stack.length>this.maxSize;)this.stack.shift()})}restore(e){if(!this.enabled)return;if(e<0||this.stack.length<e||!this.stack[e])throw`History at index ${e} does not exist`;let t=this.stack[e];this.canvas.putImageData(t)}undo(){!this.enabled||this.pointer<=0||this.restore(--this.pointer)}redo(){!this.enabled||this.pointer>=this.stack.length||this.restore(++this.pointer)}reset(){this.stack=[],this.pointer=-1}}},{}],c9bV:[function(e,t,r){"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.default=void 0;var n=function(e){return e&&e.__esModule?e:{default:e}}(e("./history.js"));const i={size:8,enabled:!0};class a{constructor(e){this.el=document.createElement("canvas"),this.el.height=e.height,this.el.width=e.width;let t=this.el.getContext("2d",{alpha:!1});if(null===t)throw"Failed to get the CanvasRenderingContext2D";this.context=t,this.context.imageSmoothingEnabled=!1;let r=Object.assign(i,e.history);this.history=new n.default({canvas:this,size:r.size,enabled:r.enabled})}clear(e="white"){this.drawRect({x:0,y:0,width:this.el.width,height:this.el.height,color:e}),this.history.capture()}drawRect({x:e,y:t,width:r,height:n,color:i}){let a=this.context;a.fillStyle=i,a.fillRect(e,t,r,n),this.save()}drawImage(e,t=[0,0]){this.context.drawImage(e,t[0],t[1]),this.save()}getImageData(e={x:0,y:0,width:this.el.width,height:this.el.height}){return this.context.getImageData(e.x,e.y,e.width,e.height)}putImageData(e,t=0,r=0){this.context.putImageData(e,t,r)}toBlob(e="image/png",t=1){return new Promise((r,n)=>{this.el.toBlob(e=>r(e),e,t)})}get historyEnabled(){return this.history.enabled}set historyEnabled(e){this.history.enabled=e,this.save()}get historySize(){return this.history.maxSize}set historySize(e){this.history.maxSize=e}getColors(){let e=[],t=this.getImageData(),r=t.height*t.width*4-4,n=t.data;for(let i=0;i<r;i+=4){let t=n[i],r=n[i+1],a=n[i+2],s=n[i+3],o=this.rgba2Hex(t,r,a,s);e.includes(o)||e.push(o)}return e}getColorAt(e,t){let r=this.getImageData(),n=r.data,i=4*(e+t*r.width),a=n[i],s=n[i+1],o=n[i+2],u=n[i+3];return this.rgba2Hex(a,s,o,u)}rgba2Hex(e,t,r,n){return"#"+("000000"+(e<<16|t<<8|r).toString(16)).slice(-6)+n.toString(16)}padHex(e){return 1===e.length?"0"+e:e}undo(){this.history.undo()}redo(){this.history.redo()}save(){this.history.capture()}clampX(e){return e=Math.max(0,e),Math.min(e,this.el.width)}clampY(e){return e=Math.max(0,e),Math.min(e,this.el.height)}static fromImage(e){let t=new a({height:e.naturalWidth,width:e.naturalHeight});return t.drawImage(e),t}}r.default=a},{"./history.js":"nl8e"}],pAcO:[function(e,t,r){"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.default=void 0;r.default=class{constructor(e){this.queue=[],this.dequeuing=!1,this.brush=e.brush}push(e,t){this.queue.push([e,t]),this.dequeuing||this.dequeue()}dequeue(){if(0===this.queue.length)return void(this.dequeuing=!1);this.dequeuing=!0;let e=this.previous,t=this.queue.shift();e?this.brush.lineTo(e[0],e[1],t[0],t[1]):this.brush.draw(t[0],t[1]),this.previous=t,this.dequeue()}reset(){this.previous=void 0}}},{}],xCPA:[function(e,t,r){"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.default=r.Point=void 0;class n{constructor(e){this.x=e.x,this.y=e.y}}r.Point=n;class i{constructor(e){this.points=[],this.minY=1/0,this.minX=1/0,this.maxX=0,this.maxY=0,this.brush=e.brush}addPoint(e,t){this.points.push(new n({x:e,y:t})),this.minX=Math.min(this.minX,e),this.minY=Math.min(this.minY,t),this.maxX=Math.max(this.maxX,e),this.maxY=Math.max(this.maxY,t)}contains(e){let t=this.points.length;if(t<3)return!1;let r=0;for(let n=0;n<t;n++){let a=this.points[n],s=this.points[(n+1)%t];a.y<=e.y?s.y>e.y&&i.orientation(a,s,e)>0&&r++:s.y<=e.y&&i.orientation(a,s,e)<0&&r--}return 0!=r}fill(){for(let e=this.minX;e<this.maxX;e++)for(let t=this.minY;t<this.maxY;t++)this.contains(new n({x:e,y:t}))&&this.brush.draw(e,t)}static orientation(e,t,r){let n=(t.y-e.y)*(r.x-t.x)-(t.x-e.x)*(r.y-t.y);return Math.sign(n)}}r.default=i},{}],gJnt:[function(e,t,r){"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.default=void 0;var n=a(e("./brush-queue.js")),i=a(e("./brush-polygon.js"));function a(e){return e&&e.__esModule?e:{default:e}}r.default=class{constructor(e){this.queue=new n.default({brush:this}),this.active=!1,this.canvas=e.canvas,this.context=e.canvas.context,this.color=e.color||"#ffffff",this.size=e.size||6,this.capStyle=e.capStyle||"square",this.fillPolygons=e.fillPolygons||!0,e.nolisteners||this.setupListeners()}setupListeners(){let e=this.canvas.el;e.addEventListener("mousedown",e=>this.begin.apply(this,[e.clientX,e.clientY])),e.addEventListener("mousemove",e=>this.move.apply(this,[e.clientX,e.clientY])),e.addEventListener("mouseup",e=>this.end.apply(this,[e.clientX,e.clientY]))}draw(e,t){let r=this.context;r.fillStyle=this.color,r.fillRect(e,t,this.size,this.size)}lineTo(e,t,r,n){let i,a,s,o,u=r-e,l=n-t,h=Math.abs(u),c=Math.abs(l),f=2*c-h,d=2*h-c,p=Math.sign(u)===Math.sign(l);if(c<h){let o=u>=0;for(i=o?e:r,a=o?t:n,s=o?r:e,this.draw(i,a);i<s;i++)f<0?f+=2*c:(a+=p?1:-1,f+=2*(c-h)),this.draw(i,a)}else{let s=l>0;for(i=s?e:r,a=s?t:n,o=s?n:t,this.draw(i,a);a<o;a++)d<=0?d+=2*h:(i+=p?1:-1,d+=2*(h-c)),this.draw(i,a)}}begin(e,t){this.active||(this.queue.push(e,t),this.fillPolygons&&(this.polygon=new i.default({brush:this}),this.polygon.addPoint(e,t)),this.active=!0)}move(e,t){this.active&&(this.queue.push(e,t),this.fillPolygons&&this.polygon&&this.polygon.addPoint(e,t))}end(e,t){this.active&&(this.move(e,t),this.queue.reset(),this.fillPolygons&&this.polygon&&this.polygon.fill(),this.active=!1,this.canvas.save())}}},{"./brush-queue.js":"pAcO","./brush-polygon.js":"xCPA"}],kWi2:[function(e,t,r){"use strict";Object.defineProperty(r,"__esModule",{value:!0}),Object.defineProperty(r,"Canvas",{enumerable:!0,get:function(){return n.default}}),Object.defineProperty(r,"Brush",{enumerable:!0,get:function(){return i.default}});var n=a(e("./canvas.js")),i=a(e("./brush.js"));function a(e){return e&&e.__esModule?e:{default:e}}},{"./canvas.js":"c9bV","./brush.js":"gJnt"}],qob1:[function(e,t,r){"use strict";function n(e){return"number"==typeof e&&e>=r.CLAMP_LOWER&&e<=r.CLAMP_UPPER}Object.defineProperty(r,"__esModule",{value:!0}),r.CLAMP_ERROR="Not a valid component value",r.CLAMP_UPPER=255,r.CLAMP_LOWER=0,function(e){e.RED="r",e.GREEN="g",e.BLUE="b",e.ALPHA="a"}(r.KEYS||(r.KEYS={})),function(e){e[e.RED=24]="RED",e[e.GREEN=16]="GREEN",e[e.BLUE=8]="BLUE",e[e.ALPHA=0]="ALPHA"}(r.BIT_OFFSETS||(r.BIT_OFFSETS={})),function(e){e[e.RED=4278190080]="RED",e[e.GREEN=16711680]="GREEN",e[e.BLUE=65280]="BLUE",e[e.ALPHA=255]="ALPHA"}(r.BIT_MASKS||(r.BIT_MASKS={})),r.isValidComponentValue=n,r.validateComponent=function(e){if(!n(e))throw new Error(r.CLAMP_ERROR)}},{}],I86Q:[function(e,t,r){"use strict";var n=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(r,"__esModule",{value:!0});const i=e("./component"),a=n(e("./index")),s="Not a valid rgb value";var o;!function(e){e.OPENING_BRACE="(",e.OPENING_VALUES="rgba",e.NUMBERS="0123456789.",e.CLOSERS=",)",e.SPACE=" ",e.INVALID=""}(o||(o={}));r.default=class{constructor(e){this.componentIndex=0,this.componentCount=3,this.sourceComponents=["","","",""],this.parsedComponents=[],this.source=e.source.toLowerCase(),this.target=e.target||new a.default,this.parse()}getOp(e){for(let t in o)if(o[t].includes(e))return o[t];return o.INVALID}parse(){for(let t=0;t<this.source.length;t++){let e=this.source[t];switch(this.getOp(e)){case o.OPENING_VALUES:this.parseOpeningValues(t,e);break;case o.OPENING_BRACE:this.parseOpeningBrace(t,e);break;case o.NUMBERS:this.parseNumbers(t,e);break;case o.SPACE:break;case o.CLOSERS:this.parseClosers(t,e);break;default:case o.INVALID:throw new Error(s)}}if(this.parsedComponents.length<this.componentCount)throw new Error(s);let e=this.parsedComponents.length;for(let t=0;t<e;++t)this.target.value|=this.parsedComponents[t]<<24-8*t;e<4&&(this.target.value|=255)}parseOpeningValues(e,t){if(o.OPENING_VALUES.indexOf(t)!==e)throw new Error(s);t===o.OPENING_VALUES[3]&&++this.componentCount}parseOpeningBrace(e,t){if(e!==this.componentCount)throw new Error(s)}parseNumbers(e,t){if("."===t&&this.componentIndex<3)throw new Error(s);this.sourceComponents[this.componentIndex]+=t}parseClosers(e,t){let r;if(3===this.componentIndex?(r=parseFloat(this.sourceComponents[this.componentIndex]),r=Math.floor(r*i.CLAMP_UPPER)):r=parseInt(this.sourceComponents[this.componentIndex]),++this.componentIndex>this.componentCount||!i.isValidComponentValue(r))throw new Error(s);this.parsedComponents[this.componentIndex-1]=r}}},{"./component":"qob1","./index":"f6As"}],f6As:[function(e,t,r){"use strict";var n,i=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(r,"__esModule",{value:!0});const a=e("./component"),s=i(e("./functional-parser")),o="Not a valid hexadecimal",u=[3,4,6,8];!function(e){e[e.Color32=0]="Color32",e[e.Color24=2]="Color24",e[e.Color16=4]="Color16",e[e.Color8=6]="Color8"}(r.Precision||(r.Precision={}));const l=Symbol("The color's 32 bit value");class h{constructor(e){if(this[n]=0,void 0!==e)switch(e[0]){case"r":h.parseFunctional(e,this);break;case"#":h.parseHex(e,this)}}get value(){return this[l]}set value(e){this[l]=e}get l(){return Math.ceil(.2126*this.r+.7152*this.g+.0722*this.b)}get hex8(){return"#"+("00000000"+this.value.toString(16)).slice(-8)}get hex6(){return this.hex8.substring(0,7)}get rgba(){return`rgba(${this.r}, ${this.g}, ${this.b}, ${this.a/255})`}get rgb(){return`rgb(${this.r}, ${this.g}, ${this.b})`}get hex(){return this.a<255?this.hex8:this.hex6}get isDark(){return this.l<128}get isLight(){return this.l>128}dropPrecisionTo(e){this.r=(this.r>>>e)/(255>>>e)*255,this.g=(this.g>>>e)/(255>>>e)*255,this.b=(this.b>>>e)/(255>>>e)*255,this.a=(this.a>>>e)/(255>>>e)*255}distanceTo(e){return h.distanceBetween(this,e)}static distanceBetween(e,t){let r=(e.r+t.r)/2,n=Math.abs(e.r-t.r),i=Math.abs(e.g-t.g),a=Math.abs(e.b-t.b);return Math.sqrt(((512+r)*n*4>>8)+4*i*i+((767-r)*a*a>>8))}static parseHex(e,t=new h){let r=e[0],n=e.substring(1),i=n.length;if("#"!==r||!u.includes(i))throw new Error(o);if(3===i||4===i){let e="";for(let t=0;t<i;++t)e+=n[t]+n[t];n=e,i*=2}return 6===i&&(n+="ff"),t.value=parseInt(n,16),t}static parseFunctional(e,t=new h){new s.default({source:e,target:t})}}n=l;for(let c in a.KEYS){let e=a.KEYS[c],t=a.BIT_OFFSETS[c],r=a.BIT_MASKS[c],n=~r>>>0;Object.defineProperty(h.prototype,e,{get:function(){return this.value>>>t&a.CLAMP_UPPER},set:function(e){a.validateComponent(e);let i=e<<t>>>0,s=(n&this.value)>>>0,o=(i&r)>>>0;this.value=(s|o)>>>0}})}r.default=h},{"./component":"qob1","./functional-parser":"I86Q"}],YG3F:[function(e,t,r){"use strict";t.exports=function(e){for(var t=new Array(e),r=0;r<e;++r)t[r]=r;return t}},{}],"q/Zl":[function(e,t,r){function n(e){return!!e.constructor&&"function"==typeof e.constructor.isBuffer&&e.constructor.isBuffer(e)}t.exports=function(e){return null!=e&&(n(e)||function(e){return"function"==typeof e.readFloatLE&&"function"==typeof e.slice&&n(e.slice(0,0))}(e)||!!e._isBuffer)}},{}],cMKA:[function(e,t,r){var n=e("iota-array"),i=e("is-buffer"),a="undefined"!=typeof Float64Array;function s(e,t){return e[0]-t[0]}function o(){var e,t=this.stride,r=new Array(t.length);for(e=0;e<r.length;++e)r[e]=[Math.abs(t[e]),e];r.sort(s);var n=new Array(r.length);for(e=0;e<n.length;++e)n[e]=r[e][1];return n}function u(e,t){var r=["View",t,"d",e].join("");t<0&&(r="View_Nil"+e);var i="generic"===e;if(-1===t){var a="function "+r+"(a){this.data=a;};var proto="+r+".prototype;proto.dtype='"+e+"';proto.index=function(){return -1};proto.size=0;proto.dimension=-1;proto.shape=proto.stride=proto.order=[];proto.lo=proto.hi=proto.transpose=proto.step=function(){return new "+r+"(this.data);};proto.get=proto.set=function(){};proto.pick=function(){return null};return function construct_"+r+"(a){return new "+r+"(a);}";return new Function(a)()}if(0===t)return a="function "+r+"(a,d) {this.data = a;this.offset = d};var proto="+r+".prototype;proto.dtype='"+e+"';proto.index=function(){return this.offset};proto.dimension=0;proto.size=1;proto.shape=proto.stride=proto.order=[];proto.lo=proto.hi=proto.transpose=proto.step=function "+r+"_copy() {return new "+r+"(this.data,this.offset)};proto.pick=function "+r+"_pick(){return TrivialArray(this.data);};proto.valueOf=proto.get=function "+r+"_get(){return "+(i?"this.data.get(this.offset)":"this.data[this.offset]")+"};proto.set=function "+r+"_set(v){return "+(i?"this.data.set(this.offset,v)":"this.data[this.offset]=v")+"};return function construct_"+r+"(a,b,c,d){return new "+r+"(a,d)}",new Function("TrivialArray",a)(h[e][0]);a=["'use strict'"];var s=n(t),u=s.map(function(e){return"i"+e}),l="this.offset+"+s.map(function(e){return"this.stride["+e+"]*i"+e}).join("+"),c=s.map(function(e){return"b"+e}).join(","),f=s.map(function(e){return"c"+e}).join(",");a.push("function "+r+"(a,"+c+","+f+",d){this.data=a","this.shape=["+c+"]","this.stride=["+f+"]","this.offset=d|0}","var proto="+r+".prototype","proto.dtype='"+e+"'","proto.dimension="+t),a.push("Object.defineProperty(proto,'size',{get:function "+r+"_size(){return "+s.map(function(e){return"this.shape["+e+"]"}).join("*"),"}})"),1===t?a.push("proto.order=[0]"):(a.push("Object.defineProperty(proto,'order',{get:"),t<4?(a.push("function "+r+"_order(){"),2===t?a.push("return (Math.abs(this.stride[0])>Math.abs(this.stride[1]))?[1,0]:[0,1]}})"):3===t&&a.push("var s0=Math.abs(this.stride[0]),s1=Math.abs(this.stride[1]),s2=Math.abs(this.stride[2]);if(s0>s1){if(s1>s2){return [2,1,0];}else if(s0>s2){return [1,2,0];}else{return [1,0,2];}}else if(s0>s2){return [2,0,1];}else if(s2>s1){return [0,1,2];}else{return [0,2,1];}}})")):a.push("ORDER})")),a.push("proto.set=function "+r+"_set("+u.join(",")+",v){"),i?a.push("return this.data.set("+l+",v)}"):a.push("return this.data["+l+"]=v}"),a.push("proto.get=function "+r+"_get("+u.join(",")+"){"),i?a.push("return this.data.get("+l+")}"):a.push("return this.data["+l+"]}"),a.push("proto.index=function "+r+"_index(",u.join(),"){return "+l+"}"),a.push("proto.hi=function "+r+"_hi("+u.join(",")+"){return new "+r+"(this.data,"+s.map(function(e){return["(typeof i",e,"!=='number'||i",e,"<0)?this.shape[",e,"]:i",e,"|0"].join("")}).join(",")+","+s.map(function(e){return"this.stride["+e+"]"}).join(",")+",this.offset)}");var d=s.map(function(e){return"a"+e+"=this.shape["+e+"]"}),p=s.map(function(e){return"c"+e+"=this.stride["+e+"]"});a.push("proto.lo=function "+r+"_lo("+u.join(",")+"){var b=this.offset,d=0,"+d.join(",")+","+p.join(","));for(var m=0;m<t;++m)a.push("if(typeof i"+m+"==='number'&&i"+m+">=0){d=i"+m+"|0;b+=c"+m+"*d;a"+m+"-=d}");for(a.push("return new "+r+"(this.data,"+s.map(function(e){return"a"+e}).join(",")+","+s.map(function(e){return"c"+e}).join(",")+",b)}"),a.push("proto.step=function "+r+"_step("+u.join(",")+"){var "+s.map(function(e){return"a"+e+"=this.shape["+e+"]"}).join(",")+","+s.map(function(e){return"b"+e+"=this.stride["+e+"]"}).join(",")+",c=this.offset,d=0,ceil=Math.ceil"),m=0;m<t;++m)a.push("if(typeof i"+m+"==='number'){d=i"+m+"|0;if(d<0){c+=b"+m+"*(a"+m+"-1);a"+m+"=ceil(-a"+m+"/d)}else{a"+m+"=ceil(a"+m+"/d)}b"+m+"*=d}");a.push("return new "+r+"(this.data,"+s.map(function(e){return"a"+e}).join(",")+","+s.map(function(e){return"b"+e}).join(",")+",c)}");var g=new Array(t),v=new Array(t);for(m=0;m<t;++m)g[m]="a[i"+m+"]",v[m]="b[i"+m+"]";for(a.push("proto.transpose=function "+r+"_transpose("+u+"){"+u.map(function(e,t){return e+"=("+e+"===undefined?"+t+":"+e+"|0)"}).join(";"),"var a=this.shape,b=this.stride;return new "+r+"(this.data,"+g.join(",")+","+v.join(",")+",this.offset)}"),a.push("proto.pick=function "+r+"_pick("+u+"){var a=[],b=[],c=this.offset"),m=0;m<t;++m)a.push("if(typeof i"+m+"==='number'&&i"+m+">=0){c=(c+this.stride["+m+"]*i"+m+")|0}else{a.push(this.shape["+m+"]);b.push(this.stride["+m+"])}");return a.push("var ctor=CTOR_LIST[a.length+1];return ctor(this.data,a,b,c)}"),a.push("return function construct_"+r+"(data,shape,stride,offset){return new "+r+"(data,"+s.map(function(e){return"shape["+e+"]"}).join(",")+","+s.map(function(e){return"stride["+e+"]"}).join(",")+",offset)}"),new Function("CTOR_LIST","ORDER",a.join("\n"))(h[e],o)}function l(e){if(i(e))return"buffer";if(a)switch(Object.prototype.toString.call(e)){case"[object Float64Array]":return"float64";case"[object Float32Array]":return"float32";case"[object Int8Array]":return"int8";case"[object Int16Array]":return"int16";case"[object Int32Array]":return"int32";case"[object Uint8Array]":return"uint8";case"[object Uint16Array]":return"uint16";case"[object Uint32Array]":return"uint32";case"[object Uint8ClampedArray]":return"uint8_clamped"}return Array.isArray(e)?"array":"generic"}var h={float32:[],float64:[],int8:[],int16:[],int32:[],uint8:[],uint16:[],uint32:[],array:[],uint8_clamped:[],buffer:[],generic:[]};t.exports=function(e,t,r,n){if(void 0===e)return(0,h.array[0])([]);"number"==typeof e&&(e=[e]),void 0===t&&(t=[e.length]);var i=t.length;if(void 0===r){r=new Array(i);for(var a=i-1,s=1;a>=0;--a)r[a]=s,s*=t[a]}if(void 0===n)for(n=0,a=0;a<i;++a)r[a]<0&&(n-=(t[a]-1)*r[a]);for(var o=l(e),c=h[o];c.length<=i+1;)c.push(u(o,c.length-1));return(0,c[i+1])(e,t,r,n)}},{"iota-array":"YG3F","is-buffer":"q/Zl"}],"a/V3":[function(e,t,r){"use strict";t.exports=function(e,t,r){return 0===e.length?e:t?(r||e.sort(t),function(e,t){for(var r=1,n=e.length,i=e[0],a=e[0],s=1;s<n;++s)if(a=i,t(i=e[s],a)){if(s===r){r++;continue}e[r++]=i}return e.length=r,e}(e,t)):(r||e.sort(),function(e){for(var t=1,r=e.length,n=e[0],i=e[0],a=1;a<r;++a,i=n)if(i=n,(n=e[a])!==i){if(a===t){t++;continue}e[t++]=n}return e.length=t,e}(e))}},{}],XMcq:[function(e,t,r){"use strict";var n=e("uniq");function i(e,t,r){var n,i,a=e.length,s=t.arrayArgs.length,o=t.indexArgs.length>0,u=[],l=[],h=0,c=0;for(n=0;n<a;++n)l.push(["i",n,"=0"].join(""));for(i=0;i<s;++i)for(n=0;n<a;++n)c=h,h=e[n],0===n?l.push(["d",i,"s",n,"=t",i,"p",h].join("")):l.push(["d",i,"s",n,"=(t",i,"p",h,"-s",c,"*t",i,"p",c,")"].join(""));for(l.length>0&&u.push("var "+l.join(",")),n=a-1;n>=0;--n)h=e[n],u.push(["for(i",n,"=0;i",n,"<s",h,";++i",n,"){"].join(""));for(u.push(r),n=0;n<a;++n){for(c=h,h=e[n],i=0;i<s;++i)u.push(["p",i,"+=d",i,"s",n].join(""));o&&(n>0&&u.push(["index[",c,"]-=s",c].join("")),u.push(["++index[",h,"]"].join(""))),u.push("}")}return u.join("\n")}function a(e,t,r){for(var n=e.body,i=[],a=[],s=0;s<e.args.length;++s){var o=e.args[s];if(!(o.count<=0)){var u=new RegExp(o.name,"g"),l="",h=t.arrayArgs.indexOf(s);switch(t.argTypes[s]){case"offset":var c=t.offsetArgIndex.indexOf(s);h=t.offsetArgs[c].array,l="+q"+c;case"array":l="p"+h+l;var f="l"+s,d="a"+h;if(0===t.arrayBlockIndices[h])1===o.count?"generic"===r[h]?o.lvalue?(i.push(["var ",f,"=",d,".get(",l,")"].join("")),n=n.replace(u,f),a.push([d,".set(",l,",",f,")"].join(""))):n=n.replace(u,[d,".get(",l,")"].join("")):n=n.replace(u,[d,"[",l,"]"].join("")):"generic"===r[h]?(i.push(["var ",f,"=",d,".get(",l,")"].join("")),n=n.replace(u,f),o.lvalue&&a.push([d,".set(",l,",",f,")"].join(""))):(i.push(["var ",f,"=",d,"[",l,"]"].join("")),n=n.replace(u,f),o.lvalue&&a.push([d,"[",l,"]=",f].join("")));else{for(var p=[o.name],m=[l],g=0;g<Math.abs(t.arrayBlockIndices[h]);g++)p.push("\\s*\\[([^\\]]+)\\]"),m.push("$"+(g+1)+"*t"+h+"b"+g);if(u=new RegExp(p.join(""),"g"),l=m.join("+"),"generic"===r[h])throw new Error("cwise: Generic arrays not supported in combination with blocks!");n=n.replace(u,[d,"[",l,"]"].join(""))}break;case"scalar":n=n.replace(u,"Y"+t.scalarArgs.indexOf(s));break;case"index":n=n.replace(u,"index");break;case"shape":n=n.replace(u,"shape")}}}return[i.join("\n"),n,a.join("\n")].join("\n").trim()}function s(e){for(var t=new Array(e.length),r=!0,n=0;n<e.length;++n){var i=e[n],a=i.match(/\d+/);a=a?a[0]:"",0===i.charAt(0)?t[n]="u"+i.charAt(1)+a:t[n]=i.charAt(0)+a,n>0&&(r=r&&t[n]===t[n-1])}return r?t[0]:t.join("")}t.exports=function(e,t){for(var r=t[1].length-Math.abs(e.arrayBlockIndices[0])|0,o=new Array(e.arrayArgs.length),u=new Array(e.arrayArgs.length),l=0;l<e.arrayArgs.length;++l)u[l]=t[2*l],o[l]=t[2*l+1];var h=[],c=[],f=[],d=[],p=[];for(l=0;l<e.arrayArgs.length;++l){e.arrayBlockIndices[l]<0?(f.push(0),d.push(r),h.push(r),c.push(r+e.arrayBlockIndices[l])):(f.push(e.arrayBlockIndices[l]),d.push(e.arrayBlockIndices[l]+r),h.push(0),c.push(e.arrayBlockIndices[l]));for(var m=[],g=0;g<o[l].length;g++)f[l]<=o[l][g]&&o[l][g]<d[l]&&m.push(o[l][g]-f[l]);p.push(m)}var v=["SS"],_=["'use strict'"],b=[];for(g=0;g<r;++g)b.push(["s",g,"=SS[",g,"]"].join(""));for(l=0;l<e.arrayArgs.length;++l){for(v.push("a"+l),v.push("t"+l),v.push("p"+l),g=0;g<r;++g)b.push(["t",l,"p",g,"=t",l,"[",f[l]+g,"]"].join(""));for(g=0;g<Math.abs(e.arrayBlockIndices[l]);++g)b.push(["t",l,"b",g,"=t",l,"[",h[l]+g,"]"].join(""))}for(l=0;l<e.scalarArgs.length;++l)v.push("Y"+l);if(e.shapeArgs.length>0&&b.push("shape=SS.slice(0)"),e.indexArgs.length>0){var y=new Array(r);for(l=0;l<r;++l)y[l]="0";b.push(["index=[",y.join(","),"]"].join(""))}for(l=0;l<e.offsetArgs.length;++l){var w=e.offsetArgs[l],E=[];for(g=0;g<w.offset.length;++g)0!==w.offset[g]&&(1===w.offset[g]?E.push(["t",w.array,"p",g].join("")):E.push([w.offset[g],"*t",w.array,"p",g].join("")));0===E.length?b.push("q"+l+"=0"):b.push(["q",l,"=",E.join("+")].join(""))}var x=n([].concat(e.pre.thisVars).concat(e.body.thisVars).concat(e.post.thisVars));for((b=b.concat(x)).length>0&&_.push("var "+b.join(",")),l=0;l<e.arrayArgs.length;++l)_.push("p"+l+"|=0");e.pre.body.length>3&&_.push(a(e.pre,e,u));var A=a(e.body,e,u),T=function(e){for(var t=0,r=e[0].length;t<r;){for(var n=1;n<e.length;++n)if(e[n][t]!==e[0][t])return t;++t}return t}(p);T<r?_.push(function(e,t,r,n){for(var a=t.length,s=r.arrayArgs.length,o=r.blockSize,u=r.indexArgs.length>0,l=[],h=0;h<s;++h)l.push(["var offset",h,"=p",h].join(""));for(h=e;h<a;++h)l.push(["for(var j"+h+"=SS[",t[h],"]|0;j",h,">0;){"].join("")),l.push(["if(j",h,"<",o,"){"].join("")),l.push(["s",t[h],"=j",h].join("")),l.push(["j",h,"=0"].join("")),l.push(["}else{s",t[h],"=",o].join("")),l.push(["j",h,"-=",o,"}"].join("")),u&&l.push(["index[",t[h],"]=j",h].join(""));for(h=0;h<s;++h){for(var c=["offset"+h],f=e;f<a;++f)c.push(["j",f,"*t",h,"p",t[f]].join(""));l.push(["p",h,"=(",c.join("+"),")"].join(""))}for(l.push(i(t,r,n)),h=e;h<a;++h)l.push("}");return l.join("\n")}(T,p[0],e,A)):_.push(i(p[0],e,A)),e.post.body.length>3&&_.push(a(e.post,e,u)),e.debug&&console.log("-----Generated cwise routine for ",t,":\n"+_.join("\n")+"\n----------");var S=[e.funcName||"unnamed","_cwise_loop_",o[0].join("s"),"m",T,s(u)].join("");return new Function(["function ",S,"(",v.join(","),"){",_.join("\n"),"} return ",S].join(""))()}},{uniq:"a/V3"}],PgdI:[function(e,t,r){"use strict";var n=e("./compile.js");t.exports=function(e){var t=["'use strict'","var CACHED={}"],r=[],i=e.funcName+"_cwise_thunk";t.push(["return function ",i,"(",e.shimArgs.join(","),"){"].join(""));for(var a=[],s=[],o=[["array",e.arrayArgs[0],".shape.slice(",Math.max(0,e.arrayBlockIndices[0]),e.arrayBlockIndices[0]<0?","+e.arrayBlockIndices[0]+")":")"].join("")],u=[],l=[],h=0;h<e.arrayArgs.length;++h){var c=e.arrayArgs[h];r.push(["t",c,"=array",c,".dtype,","r",c,"=array",c,".order"].join("")),a.push("t"+c),a.push("r"+c),s.push("t"+c),s.push("r"+c+".join()"),o.push("array"+c+".data"),o.push("array"+c+".stride"),o.push("array"+c+".offset|0"),h>0&&(u.push("array"+e.arrayArgs[0]+".shape.length===array"+c+".shape.length+"+(Math.abs(e.arrayBlockIndices[0])-Math.abs(e.arrayBlockIndices[h]))),l.push("array"+e.arrayArgs[0]+".shape[shapeIndex+"+Math.max(0,e.arrayBlockIndices[0])+"]===array"+c+".shape[shapeIndex+"+Math.max(0,e.arrayBlockIndices[h])+"]"))}for(e.arrayArgs.length>1&&(t.push("if (!("+u.join(" && ")+")) throw new Error('cwise: Arrays do not all have the same dimensionality!')"),t.push("for(var shapeIndex=array"+e.arrayArgs[0]+".shape.length-"+Math.abs(e.arrayBlockIndices[0])+"; shapeIndex--\x3e0;) {"),t.push("if (!("+l.join(" && ")+")) throw new Error('cwise: Arrays do not all have the same shape!')"),t.push("}")),h=0;h<e.scalarArgs.length;++h)o.push("scalar"+e.scalarArgs[h]);return r.push(["type=[",s.join(","),"].join()"].join("")),r.push("proc=CACHED[type]"),t.push("var "+r.join(",")),t.push(["if(!proc){","CACHED[type]=proc=compile([",a.join(","),"])}","return proc(",o.join(","),")}"].join("")),e.debug&&console.log("-----Generated thunk:\n"+t.join("\n")+"\n----------"),new Function("compile",t.join("\n"))(n.bind(void 0,e))}},{"./compile.js":"XMcq"}],"Kt/t":[function(e,t,r){"use strict";var n=e("./lib/thunk.js");function i(){this.argTypes=[],this.shimArgs=[],this.arrayArgs=[],this.arrayBlockIndices=[],this.scalarArgs=[],this.offsetArgs=[],this.offsetArgIndex=[],this.indexArgs=[],this.shapeArgs=[],this.funcName="",this.pre=null,this.body=null,this.post=null,this.debug=!1}t.exports=function(e){var t=new i;t.pre=e.pre,t.body=e.body,t.post=e.post;var r=e.args.slice(0);t.argTypes=r;for(var a=0;a<r.length;++a){var s=r[a];if("array"===s||"object"==typeof s&&s.blockIndices){if(t.argTypes[a]="array",t.arrayArgs.push(a),t.arrayBlockIndices.push(s.blockIndices?s.blockIndices:0),t.shimArgs.push("array"+a),a<t.pre.args.length&&t.pre.args[a].count>0)throw new Error("cwise: pre() block may not reference array args");if(a<t.post.args.length&&t.post.args[a].count>0)throw new Error("cwise: post() block may not reference array args")}else if("scalar"===s)t.scalarArgs.push(a),t.shimArgs.push("scalar"+a);else if("index"===s){if(t.indexArgs.push(a),a<t.pre.args.length&&t.pre.args[a].count>0)throw new Error("cwise: pre() block may not reference array index");if(a<t.body.args.length&&t.body.args[a].lvalue)throw new Error("cwise: body() block may not write to array index");if(a<t.post.args.length&&t.post.args[a].count>0)throw new Error("cwise: post() block may not reference array index")}else if("shape"===s){if(t.shapeArgs.push(a),a<t.pre.args.length&&t.pre.args[a].lvalue)throw new Error("cwise: pre() block may not write to array shape");if(a<t.body.args.length&&t.body.args[a].lvalue)throw new Error("cwise: body() block may not write to array shape");if(a<t.post.args.length&&t.post.args[a].lvalue)throw new Error("cwise: post() block may not write to array shape")}else{if("object"!=typeof s||!s.offset)throw new Error("cwise: Unknown argument type "+r[a]);t.argTypes[a]="offset",t.offsetArgs.push({array:s.array,offset:s.offset}),t.offsetArgIndex.push(a)}}if(t.arrayArgs.length<=0)throw new Error("cwise: No array arguments specified");if(t.pre.args.length>r.length)throw new Error("cwise: Too many arguments in pre() block");if(t.body.args.length>r.length)throw new Error("cwise: Too many arguments in body() block");if(t.post.args.length>r.length)throw new Error("cwise: Too many arguments in post() block");return t.debug=!!e.printCode||!!e.debug,t.funcName=e.funcName||"cwise",t.blockSize=e.blockSize||64,n(t)}},{"./lib/thunk.js":"PgdI"}],o12b:[function(e,t,r){"use strict";var n=e("cwise-compiler"),i={body:"",args:[],thisVars:[],localVars:[]};function a(e){if(!e)return i;for(var t=0;t<e.args.length;++t){var r=e.args[t];e.args[t]=0===t?{name:r,lvalue:!0,rvalue:!!e.rvalue,count:e.count||1}:{name:r,lvalue:!1,rvalue:!0,count:1}}return e.thisVars||(e.thisVars=[]),e.localVars||(e.localVars=[]),e}function s(e){return n({args:e.args,pre:a(e.pre),body:a(e.body),post:a(e.proc),funcName:e.funcName})}function o(e){for(var t=[],r=0;r<e.args.length;++r)t.push("a"+r);return new Function("P",["return function ",e.funcName,"_ndarrayops(",t.join(","),") {P(",t.join(","),");return a0}"].join(""))(s(e))}var u={add:"+",sub:"-",mul:"*",div:"/",mod:"%",band:"&",bor:"|",bxor:"^",lshift:"<<",rshift:">>",rrshift:">>>"};!function(){for(var e in u){var t=u[e];r[e]=o({args:["array","array","array"],body:{args:["a","b","c"],body:"a=b"+t+"c"},funcName:e}),r[e+"eq"]=o({args:["array","array"],body:{args:["a","b"],body:"a"+t+"=b"},rvalue:!0,funcName:e+"eq"}),r[e+"s"]=o({args:["array","array","scalar"],body:{args:["a","b","s"],body:"a=b"+t+"s"},funcName:e+"s"}),r[e+"seq"]=o({args:["array","scalar"],body:{args:["a","s"],body:"a"+t+"=s"},rvalue:!0,funcName:e+"seq"})}}();var l={not:"!",bnot:"~",neg:"-",recip:"1.0/"};!function(){for(var e in l){var t=l[e];r[e]=o({args:["array","array"],body:{args:["a","b"],body:"a="+t+"b"},funcName:e}),r[e+"eq"]=o({args:["array"],body:{args:["a"],body:"a="+t+"a"},rvalue:!0,count:2,funcName:e+"eq"})}}();var h={and:"&&",or:"||",eq:"===",neq:"!==",lt:"<",gt:">",leq:"<=",geq:">="};!function(){for(var e in h){var t=h[e];r[e]=o({args:["array","array","array"],body:{args:["a","b","c"],body:"a=b"+t+"c"},funcName:e}),r[e+"s"]=o({args:["array","array","scalar"],body:{args:["a","b","s"],body:"a=b"+t+"s"},funcName:e+"s"}),r[e+"eq"]=o({args:["array","array"],body:{args:["a","b"],body:"a=a"+t+"b"},rvalue:!0,count:2,funcName:e+"eq"}),r[e+"seq"]=o({args:["array","scalar"],body:{args:["a","s"],body:"a=a"+t+"s"},rvalue:!0,count:2,funcName:e+"seq"})}}();var c=["abs","acos","asin","atan","ceil","cos","exp","floor","log","round","sin","sqrt","tan"];!function(){for(var e=0;e<c.length;++e){var t=c[e];r[t]=o({args:["array","array"],pre:{args:[],body:"this_f=Math."+t,thisVars:["this_f"]},body:{args:["a","b"],body:"a=this_f(b)",thisVars:["this_f"]},funcName:t}),r[t+"eq"]=o({args:["array"],pre:{args:[],body:"this_f=Math."+t,thisVars:["this_f"]},body:{args:["a"],body:"a=this_f(a)",thisVars:["this_f"]},rvalue:!0,count:2,funcName:t+"eq"})}}();var f=["max","min","atan2","pow"];!function(){for(var e=0;e<f.length;++e){var t=f[e];r[t]=o({args:["array","array","array"],pre:{args:[],body:"this_f=Math."+t,thisVars:["this_f"]},body:{args:["a","b","c"],body:"a=this_f(b,c)",thisVars:["this_f"]},funcName:t}),r[t+"s"]=o({args:["array","array","scalar"],pre:{args:[],body:"this_f=Math."+t,thisVars:["this_f"]},body:{args:["a","b","c"],body:"a=this_f(b,c)",thisVars:["this_f"]},funcName:t+"s"}),r[t+"eq"]=o({args:["array","array"],pre:{args:[],body:"this_f=Math."+t,thisVars:["this_f"]},body:{args:["a","b"],body:"a=this_f(a,b)",thisVars:["this_f"]},rvalue:!0,count:2,funcName:t+"eq"}),r[t+"seq"]=o({args:["array","scalar"],pre:{args:[],body:"this_f=Math."+t,thisVars:["this_f"]},body:{args:["a","b"],body:"a=this_f(a,b)",thisVars:["this_f"]},rvalue:!0,count:2,funcName:t+"seq"})}}();var d=["atan2","pow"];!function(){for(var e=0;e<d.length;++e){var t=d[e];r[t+"op"]=o({args:["array","array","array"],pre:{args:[],body:"this_f=Math."+t,thisVars:["this_f"]},body:{args:["a","b","c"],body:"a=this_f(c,b)",thisVars:["this_f"]},funcName:t+"op"}),r[t+"ops"]=o({args:["array","array","scalar"],pre:{args:[],body:"this_f=Math."+t,thisVars:["this_f"]},body:{args:["a","b","c"],body:"a=this_f(c,b)",thisVars:["this_f"]},funcName:t+"ops"}),r[t+"opeq"]=o({args:["array","array"],pre:{args:[],body:"this_f=Math."+t,thisVars:["this_f"]},body:{args:["a","b"],body:"a=this_f(b,a)",thisVars:["this_f"]},rvalue:!0,count:2,funcName:t+"opeq"}),r[t+"opseq"]=o({args:["array","scalar"],pre:{args:[],body:"this_f=Math."+t,thisVars:["this_f"]},body:{args:["a","b"],body:"a=this_f(b,a)",thisVars:["this_f"]},rvalue:!0,count:2,funcName:t+"opseq"})}}(),r.any=n({args:["array"],pre:i,body:{args:[{name:"a",lvalue:!1,rvalue:!0,count:1}],body:"if(a){return true}",localVars:[],thisVars:[]},post:{args:[],localVars:[],thisVars:[],body:"return false"},funcName:"any"}),r.all=n({args:["array"],pre:i,body:{args:[{name:"x",lvalue:!1,rvalue:!0,count:1}],body:"if(!x){return false}",localVars:[],thisVars:[]},post:{args:[],localVars:[],thisVars:[],body:"return true"},funcName:"all"}),r.sum=n({args:["array"],pre:{args:[],localVars:[],thisVars:["this_s"],body:"this_s=0"},body:{args:[{name:"a",lvalue:!1,rvalue:!0,count:1}],body:"this_s+=a",localVars:[],thisVars:["this_s"]},post:{args:[],localVars:[],thisVars:["this_s"],body:"return this_s"},funcName:"sum"}),r.prod=n({args:["array"],pre:{args:[],localVars:[],thisVars:["this_s"],body:"this_s=1"},body:{args:[{name:"a",lvalue:!1,rvalue:!0,count:1}],body:"this_s*=a",localVars:[],thisVars:["this_s"]},post:{args:[],localVars:[],thisVars:["this_s"],body:"return this_s"},funcName:"prod"}),r.norm2squared=n({args:["array"],pre:{args:[],localVars:[],thisVars:["this_s"],body:"this_s=0"},body:{args:[{name:"a",lvalue:!1,rvalue:!0,count:2}],body:"this_s+=a*a",localVars:[],thisVars:["this_s"]},post:{args:[],localVars:[],thisVars:["this_s"],body:"return this_s"},funcName:"norm2squared"}),r.norm2=n({args:["array"],pre:{args:[],localVars:[],thisVars:["this_s"],body:"this_s=0"},body:{args:[{name:"a",lvalue:!1,rvalue:!0,count:2}],body:"this_s+=a*a",localVars:[],thisVars:["this_s"]},post:{args:[],localVars:[],thisVars:["this_s"],body:"return Math.sqrt(this_s)"},funcName:"norm2"}),r.norminf=n({args:["array"],pre:{args:[],localVars:[],thisVars:["this_s"],body:"this_s=0"},body:{args:[{name:"a",lvalue:!1,rvalue:!0,count:4}],body:"if(-a>this_s){this_s=-a}else if(a>this_s){this_s=a}",localVars:[],thisVars:["this_s"]},post:{args:[],localVars:[],thisVars:["this_s"],body:"return this_s"},funcName:"norminf"}),r.norm1=n({args:["array"],pre:{args:[],localVars:[],thisVars:["this_s"],body:"this_s=0"},body:{args:[{name:"a",lvalue:!1,rvalue:!0,count:3}],body:"this_s+=a<0?-a:a",localVars:[],thisVars:["this_s"]},post:{args:[],localVars:[],thisVars:["this_s"],body:"return this_s"},funcName:"norm1"}),r.sup=n({args:["array"],pre:{body:"this_h=-Infinity",args:[],thisVars:["this_h"],localVars:[]},body:{body:"if(_inline_1_arg0_>this_h)this_h=_inline_1_arg0_",args:[{name:"_inline_1_arg0_",lvalue:!1,rvalue:!0,count:2}],thisVars:["this_h"],localVars:[]},post:{body:"return this_h",args:[],thisVars:["this_h"],localVars:[]}}),r.inf=n({args:["array"],pre:{body:"this_h=Infinity",args:[],thisVars:["this_h"],localVars:[]},body:{body:"if(_inline_1_arg0_<this_h)this_h=_inline_1_arg0_",args:[{name:"_inline_1_arg0_",lvalue:!1,rvalue:!0,count:2}],thisVars:["this_h"],localVars:[]},post:{body:"return this_h",args:[],thisVars:["this_h"],localVars:[]}}),r.argmin=n({args:["index","array","shape"],pre:{body:"{this_v=Infinity;this_i=_inline_0_arg2_.slice(0)}",args:[{name:"_inline_0_arg0_",lvalue:!1,rvalue:!1,count:0},{name:"_inline_0_arg1_",lvalue:!1,rvalue:!1,count:0},{name:"_inline_0_arg2_",lvalue:!1,rvalue:!0,count:1}],thisVars:["this_i","this_v"],localVars:[]},body:{body:"{if(_inline_1_arg1_<this_v){this_v=_inline_1_arg1_;for(var _inline_1_k=0;_inline_1_k<_inline_1_arg0_.length;++_inline_1_k){this_i[_inline_1_k]=_inline_1_arg0_[_inline_1_k]}}}",args:[{name:"_inline_1_arg0_",lvalue:!1,rvalue:!0,count:2},{name:"_inline_1_arg1_",lvalue:!1,rvalue:!0,count:2}],thisVars:["this_i","this_v"],localVars:["_inline_1_k"]},post:{body:"{return this_i}",args:[],thisVars:["this_i"],localVars:[]}}),r.argmax=n({args:["index","array","shape"],pre:{body:"{this_v=-Infinity;this_i=_inline_0_arg2_.slice(0)}",args:[{name:"_inline_0_arg0_",lvalue:!1,rvalue:!1,count:0},{name:"_inline_0_arg1_",lvalue:!1,rvalue:!1,count:0},{name:"_inline_0_arg2_",lvalue:!1,rvalue:!0,count:1}],thisVars:["this_i","this_v"],localVars:[]},body:{body:"{if(_inline_1_arg1_>this_v){this_v=_inline_1_arg1_;for(var _inline_1_k=0;_inline_1_k<_inline_1_arg0_.length;++_inline_1_k){this_i[_inline_1_k]=_inline_1_arg0_[_inline_1_k]}}}",args:[{name:"_inline_1_arg0_",lvalue:!1,rvalue:!0,count:2},{name:"_inline_1_arg1_",lvalue:!1,rvalue:!0,count:2}],thisVars:["this_i","this_v"],localVars:["_inline_1_k"]},post:{body:"{return this_i}",args:[],thisVars:["this_i"],localVars:[]}}),r.random=o({args:["array"],pre:{args:[],body:"this_f=Math.random",thisVars:["this_f"]},body:{args:["a"],body:"a=this_f()",thisVars:["this_f"]},funcName:"random"}),r.assign=o({args:["array","array"],body:{args:["a","b"],body:"a=b"},funcName:"assign"}),r.assigns=o({args:["array","scalar"],body:{args:["a","b"],body:"a=b"},funcName:"assigns"}),r.equals=n({args:["array","array"],pre:i,body:{args:[{name:"x",lvalue:!1,rvalue:!0,count:1},{name:"y",lvalue:!1,rvalue:!0,count:1}],body:"if(x!==y){return false}",localVars:[],thisVars:[]},post:{args:[],localVars:[],thisVars:[],body:"return true"},funcName:"equals"})},{"cwise-compiler":"Kt/t"}],gXRl:[function(e,t,r){"use strict";function n(e){var t=32;return(e&=-e)&&t--,65535&e&&(t-=16),16711935&e&&(t-=8),252645135&e&&(t-=4),858993459&e&&(t-=2),1431655765&e&&(t-=1),t}r.INT_BITS=32,r.INT_MAX=2147483647,r.INT_MIN=-1<<31,r.sign=function(e){return(e>0)-(e<0)},r.abs=function(e){var t=e>>31;return(e^t)-t},r.min=function(e,t){return t^(e^t)&-(e<t)},r.max=function(e,t){return e^(e^t)&-(e<t)},r.isPow2=function(e){return!(e&e-1||!e)},r.log2=function(e){var t,r;return t=(e>65535)<<4,t|=r=((e>>>=t)>255)<<3,t|=r=((e>>>=r)>15)<<2,(t|=r=((e>>>=r)>3)<<1)|(e>>>=r)>>1},r.log10=function(e){return e>=1e9?9:e>=1e8?8:e>=1e7?7:e>=1e6?6:e>=1e5?5:e>=1e4?4:e>=1e3?3:e>=100?2:e>=10?1:0},r.popCount=function(e){return 16843009*((e=(858993459&(e-=e>>>1&1431655765))+(e>>>2&858993459))+(e>>>4)&252645135)>>>24},r.countTrailingZeros=n,r.nextPow2=function(e){return e+=0===e,--e,e|=e>>>1,e|=e>>>2,e|=e>>>4,e|=e>>>8,1+(e|=e>>>16)},r.prevPow2=function(e){return e|=e>>>1,e|=e>>>2,e|=e>>>4,e|=e>>>8,(e|=e>>>16)-(e>>>1)},r.parity=function(e){return e^=e>>>16,e^=e>>>8,e^=e>>>4,27030>>>(e&=15)&1};var i=new Array(256);!function(e){for(var t=0;t<256;++t){var r=t,n=t,i=7;for(r>>>=1;r;r>>>=1)n<<=1,n|=1&r,--i;e[t]=n<<i&255}}(i),r.reverse=function(e){return i[255&e]<<24|i[e>>>8&255]<<16|i[e>>>16&255]<<8|i[e>>>24&255]},r.interleave2=function(e,t){return(e=1431655765&((e=858993459&((e=252645135&((e=16711935&((e&=65535)|e<<8))|e<<4))|e<<2))|e<<1))|(t=1431655765&((t=858993459&((t=252645135&((t=16711935&((t&=65535)|t<<8))|t<<4))|t<<2))|t<<1))<<1},r.deinterleave2=function(e,t){return(e=65535&((e=16711935&((e=252645135&((e=858993459&((e=e>>>t&1431655765)|e>>>1))|e>>>2))|e>>>4))|e>>>16))<<16>>16},r.interleave3=function(e,t,r){return e=1227133513&((e=3272356035&((e=251719695&((e=4278190335&((e&=1023)|e<<16))|e<<8))|e<<4))|e<<2),(e|=(t=1227133513&((t=3272356035&((t=251719695&((t=4278190335&((t&=1023)|t<<16))|t<<8))|t<<4))|t<<2))<<1)|(r=1227133513&((r=3272356035&((r=251719695&((r=4278190335&((r&=1023)|r<<16))|r<<8))|r<<4))|r<<2))<<2},r.deinterleave3=function(e,t){return(e=1023&((e=4278190335&((e=251719695&((e=3272356035&((e=e>>>t&1227133513)|e>>>2))|e>>>4))|e>>>8))|e>>>16))<<22>>22},r.nextCombination=function(e){var t=e|e-1;return t+1|(~t&-~t)-1>>>n(e)+1}},{}],fDKz:[function(e,t,r){"use strict";t.exports=function(e,t){switch(void 0===t&&(t=0),typeof e){case"number":if(e>0)return function(e,t){var r,n;for(r=new Array(e),n=0;n<e;++n)r[n]=t;return r}(0|e,t);break;case"object":if("number"==typeof e.length)return function e(t,r,n){var i=0|t[n];if(i<=0)return[];var a,s=new Array(i);if(n===t.length-1)for(a=0;a<i;++a)s[a]=r;else for(a=0;a<i;++a)s[a]=e(t,r,n+1);return s}(e,t,0)}return[]}},{}],yh9p:[function(e,t,r){"use strict";r.byteLength=function(e){var t=l(e),r=t[0],n=t[1];return 3*(r+n)/4-n},r.toByteArray=function(e){for(var t,r=l(e),n=r[0],s=r[1],o=new a(function(e,t,r){return 3*(t+r)/4-r}(0,n,s)),u=0,h=s>0?n-4:n,c=0;c<h;c+=4)t=i[e.charCodeAt(c)]<<18|i[e.charCodeAt(c+1)]<<12|i[e.charCodeAt(c+2)]<<6|i[e.charCodeAt(c+3)],o[u++]=t>>16&255,o[u++]=t>>8&255,o[u++]=255&t;return 2===s&&(t=i[e.charCodeAt(c)]<<2|i[e.charCodeAt(c+1)]>>4,o[u++]=255&t),1===s&&(t=i[e.charCodeAt(c)]<<10|i[e.charCodeAt(c+1)]<<4|i[e.charCodeAt(c+2)]>>2,o[u++]=t>>8&255,o[u++]=255&t),o},r.fromByteArray=function(e){for(var t,r=e.length,i=r%3,a=[],s=0,o=r-i;s<o;s+=16383)a.push(c(e,s,s+16383>o?o:s+16383));return 1===i?(t=e[r-1],a.push(n[t>>2]+n[t<<4&63]+"==")):2===i&&(t=(e[r-2]<<8)+e[r-1],a.push(n[t>>10]+n[t>>4&63]+n[t<<2&63]+"=")),a.join("")};for(var n=[],i=[],a="undefined"!=typeof Uint8Array?Uint8Array:Array,s="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",o=0,u=s.length;o<u;++o)n[o]=s[o],i[s.charCodeAt(o)]=o;function l(e){var t=e.length;if(t%4>0)throw new Error("Invalid string. Length must be a multiple of 4");var r=e.indexOf("=");return-1===r&&(r=t),[r,r===t?0:4-r%4]}function h(e){return n[e>>18&63]+n[e>>12&63]+n[e>>6&63]+n[63&e]}function c(e,t,r){for(var n,i=[],a=t;a<r;a+=3)n=(e[a]<<16&16711680)+(e[a+1]<<8&65280)+(255&e[a+2]),i.push(h(n));return i.join("")}i["-".charCodeAt(0)]=62,i["_".charCodeAt(0)]=63},{}],JgNJ:[function(e,t,r){r.read=function(e,t,r,n,i){var a,s,o=8*i-n-1,u=(1<<o)-1,l=u>>1,h=-7,c=r?i-1:0,f=r?-1:1,d=e[t+c];for(c+=f,a=d&(1<<-h)-1,d>>=-h,h+=o;h>0;a=256*a+e[t+c],c+=f,h-=8);for(s=a&(1<<-h)-1,a>>=-h,h+=n;h>0;s=256*s+e[t+c],c+=f,h-=8);if(0===a)a=1-l;else{if(a===u)return s?NaN:1/0*(d?-1:1);s+=Math.pow(2,n),a-=l}return(d?-1:1)*s*Math.pow(2,a-n)},r.write=function(e,t,r,n,i,a){var s,o,u,l=8*a-i-1,h=(1<<l)-1,c=h>>1,f=23===i?Math.pow(2,-24)-Math.pow(2,-77):0,d=n?0:a-1,p=n?1:-1,m=t<0||0===t&&1/t<0?1:0;for(t=Math.abs(t),isNaN(t)||t===1/0?(o=isNaN(t)?1:0,s=h):(s=Math.floor(Math.log(t)/Math.LN2),t*(u=Math.pow(2,-s))<1&&(s--,u*=2),(t+=s+c>=1?f/u:f*Math.pow(2,1-c))*u>=2&&(s++,u/=2),s+c>=h?(o=0,s=h):s+c>=1?(o=(t*u-1)*Math.pow(2,i),s+=c):(o=t*Math.pow(2,c-1)*Math.pow(2,i),s=0));i>=8;e[r+d]=255&o,d+=p,o/=256,i-=8);for(s=s<<i|o,l+=i;l>0;e[r+d]=255&s,d+=p,s/=256,l-=8);e[r+d-p]|=128*m}},{}],seLU:[function(e,t,r){var n={}.toString;t.exports=Array.isArray||function(e){return"[object Array]"==n.call(e)}},{}],dskh:[function(e,t,r){arguments[3];var n=arguments[3],i=e("base64-js"),a=e("ieee754"),s=e("isarray");function o(){return l.TYPED_ARRAY_SUPPORT?2147483647:1073741823}function u(e,t){if(o()<t)throw new RangeError("Invalid typed array length");return l.TYPED_ARRAY_SUPPORT?(e=new Uint8Array(t)).__proto__=l.prototype:(null===e&&(e=new l(t)),e.length=t),e}function l(e,t,r){if(!(l.TYPED_ARRAY_SUPPORT||this instanceof l))return new l(e,t,r);if("number"==typeof e){if("string"==typeof t)throw new Error("If encoding is specified then the first argument must be a string");return f(this,e)}return h(this,e,t,r)}function h(e,t,r,n){if("number"==typeof t)throw new TypeError('"value" argument must not be a number');return"undefined"!=typeof ArrayBuffer&&t instanceof ArrayBuffer?function(e,t,r,n){if(t.byteLength,r<0||t.byteLength<r)throw new RangeError("'offset' is out of bounds");if(t.byteLength<r+(n||0))throw new RangeError("'length' is out of bounds");return t=void 0===r&&void 0===n?new Uint8Array(t):void 0===n?new Uint8Array(t,r):new Uint8Array(t,r,n),l.TYPED_ARRAY_SUPPORT?(e=t).__proto__=l.prototype:e=d(e,t),e}(e,t,r,n):"string"==typeof t?function(e,t,r){if("string"==typeof r&&""!==r||(r="utf8"),!l.isEncoding(r))throw new TypeError('"encoding" must be a valid string encoding');var n=0|g(t,r),i=(e=u(e,n)).write(t,r);return i!==n&&(e=e.slice(0,i)),e}(e,t,r):p(e,t)}function c(e){if("number"!=typeof e)throw new TypeError('"size" argument must be a number');if(e<0)throw new RangeError('"size" argument must not be negative')}function f(e,t){if(c(t),e=u(e,t<0?0:0|m(t)),!l.TYPED_ARRAY_SUPPORT)for(var r=0;r<t;++r)e[r]=0;return e}function d(e,t){var r=t.length<0?0:0|m(t.length);e=u(e,r);for(var n=0;n<r;n+=1)e[n]=255&t[n];return e}function p(e,t){if(l.isBuffer(t)){var r=0|m(t.length);return 0===(e=u(e,r)).length?e:(t.copy(e,0,0,r),e)}if(t){if("undefined"!=typeof ArrayBuffer&&t.buffer instanceof ArrayBuffer||"length"in t)return"number"!=typeof t.length||function(e){return e!=e}(t.length)?u(e,0):d(e,t);if("Buffer"===t.type&&s(t.data))return d(e,t.data)}throw new TypeError("First argument must be a string, Buffer, ArrayBuffer, Array, or array-like object.")}function m(e){if(e>=o())throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x"+o().toString(16)+" bytes");return 0|e}function g(e,t){if(l.isBuffer(e))return e.length;if("undefined"!=typeof ArrayBuffer&&"function"==typeof ArrayBuffer.isView&&(ArrayBuffer.isView(e)||e instanceof ArrayBuffer))return e.byteLength;"string"!=typeof e&&(e=""+e);var r=e.length;if(0===r)return 0;for(var n=!1;;)switch(t){case"ascii":case"latin1":case"binary":return r;case"utf8":case"utf-8":case void 0:return V(e).length;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return 2*r;case"hex":return r>>>1;case"base64":return X(e).length;default:if(n)return V(e).length;t=(""+t).toLowerCase(),n=!0}}function v(e,t,r){var n=e[t];e[t]=e[r],e[r]=n}function _(e,t,r,n,i){if(0===e.length)return-1;if("string"==typeof r?(n=r,r=0):r>2147483647?r=2147483647:r<-2147483648&&(r=-2147483648),r=+r,isNaN(r)&&(r=i?0:e.length-1),r<0&&(r=e.length+r),r>=e.length){if(i)return-1;r=e.length-1}else if(r<0){if(!i)return-1;r=0}if("string"==typeof t&&(t=l.from(t,n)),l.isBuffer(t))return 0===t.length?-1:b(e,t,r,n,i);if("number"==typeof t)return t&=255,l.TYPED_ARRAY_SUPPORT&&"function"==typeof Uint8Array.prototype.indexOf?i?Uint8Array.prototype.indexOf.call(e,t,r):Uint8Array.prototype.lastIndexOf.call(e,t,r):b(e,[t],r,n,i);throw new TypeError("val must be string, number or Buffer")}function b(e,t,r,n,i){var a,s=1,o=e.length,u=t.length;if(void 0!==n&&("ucs2"===(n=String(n).toLowerCase())||"ucs-2"===n||"utf16le"===n||"utf-16le"===n)){if(e.length<2||t.length<2)return-1;s=2,o/=2,u/=2,r/=2}function l(e,t){return 1===s?e[t]:e.readUInt16BE(t*s)}if(i){var h=-1;for(a=r;a<o;a++)if(l(e,a)===l(t,-1===h?0:a-h)){if(-1===h&&(h=a),a-h+1===u)return h*s}else-1!==h&&(a-=a-h),h=-1}else for(r+u>o&&(r=o-u),a=r;a>=0;a--){for(var c=!0,f=0;f<u;f++)if(l(e,a+f)!==l(t,f)){c=!1;break}if(c)return a}return-1}function y(e,t,r,n){r=Number(r)||0;var i=e.length-r;n?(n=Number(n))>i&&(n=i):n=i;var a=t.length;if(a%2!=0)throw new TypeError("Invalid hex string");n>a/2&&(n=a/2);for(var s=0;s<n;++s){var o=parseInt(t.substr(2*s,2),16);if(isNaN(o))return s;e[r+s]=o}return s}function w(e,t,r,n){return H(V(t,e.length-r),e,r,n)}function E(e,t,r,n){return H(function(e){for(var t=[],r=0;r<e.length;++r)t.push(255&e.charCodeAt(r));return t}(t),e,r,n)}function x(e,t,r,n){return E(e,t,r,n)}function A(e,t,r,n){return H(X(t),e,r,n)}function T(e,t,r,n){return H(function(e,t){for(var r,n,i,a=[],s=0;s<e.length&&!((t-=2)<0);++s)n=(r=e.charCodeAt(s))>>8,i=r%256,a.push(i),a.push(n);return a}(t,e.length-r),e,r,n)}function S(e,t,r){return 0===t&&r===e.length?i.fromByteArray(e):i.fromByteArray(e.slice(t,r))}function R(e,t,r){r=Math.min(e.length,r);for(var n=[],i=t;i<r;){var a,s,o,u,l=e[i],h=null,c=l>239?4:l>223?3:l>191?2:1;if(i+c<=r)switch(c){case 1:l<128&&(h=l);break;case 2:128==(192&(a=e[i+1]))&&(u=(31&l)<<6|63&a)>127&&(h=u);break;case 3:a=e[i+1],s=e[i+2],128==(192&a)&&128==(192&s)&&(u=(15&l)<<12|(63&a)<<6|63&s)>2047&&(u<55296||u>57343)&&(h=u);break;case 4:a=e[i+1],s=e[i+2],o=e[i+3],128==(192&a)&&128==(192&s)&&128==(192&o)&&(u=(15&l)<<18|(63&a)<<12|(63&s)<<6|63&o)>65535&&u<1114112&&(h=u)}null===h?(h=65533,c=1):h>65535&&(h-=65536,n.push(h>>>10&1023|55296),h=56320|1023&h),n.push(h),i+=c}return function(e){var t=e.length;if(t<=k)return String.fromCharCode.apply(String,e);for(var r="",n=0;n<t;)r+=String.fromCharCode.apply(String,e.slice(n,n+=k));return r}(n)}r.Buffer=l,r.SlowBuffer=function(e){return+e!=e&&(e=0),l.alloc(+e)},r.INSPECT_MAX_BYTES=50,l.TYPED_ARRAY_SUPPORT=void 0!==n.TYPED_ARRAY_SUPPORT?n.TYPED_ARRAY_SUPPORT:function(){try{var e=new Uint8Array(1);return e.__proto__={__proto__:Uint8Array.prototype,foo:function(){return 42}},42===e.foo()&&"function"==typeof e.subarray&&0===e.subarray(1,1).byteLength}catch(i){return!1}}(),r.kMaxLength=o(),l.poolSize=8192,l._augment=function(e){return e.__proto__=l.prototype,e},l.from=function(e,t,r){return h(null,e,t,r)},l.TYPED_ARRAY_SUPPORT&&(l.prototype.__proto__=Uint8Array.prototype,l.__proto__=Uint8Array,"undefined"!=typeof Symbol&&Symbol.species&&l[Symbol.species]===l&&Object.defineProperty(l,Symbol.species,{value:null,configurable:!0})),l.alloc=function(e,t,r){return function(e,t,r,n){return c(t),t<=0?u(e,t):void 0!==r?"string"==typeof n?u(e,t).fill(r,n):u(e,t).fill(r):u(e,t)}(null,e,t,r)},l.allocUnsafe=function(e){return f(null,e)},l.allocUnsafeSlow=function(e){return f(null,e)},l.isBuffer=function(e){return!(null==e||!e._isBuffer)},l.compare=function(e,t){if(!l.isBuffer(e)||!l.isBuffer(t))throw new TypeError("Arguments must be Buffers");if(e===t)return 0;for(var r=e.length,n=t.length,i=0,a=Math.min(r,n);i<a;++i)if(e[i]!==t[i]){r=e[i],n=t[i];break}return r<n?-1:n<r?1:0},l.isEncoding=function(e){switch(String(e).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"latin1":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}},l.concat=function(e,t){if(!s(e))throw new TypeError('"list" argument must be an Array of Buffers');if(0===e.length)return l.alloc(0);var r;if(void 0===t)for(t=0,r=0;r<e.length;++r)t+=e[r].length;var n=l.allocUnsafe(t),i=0;for(r=0;r<e.length;++r){var a=e[r];if(!l.isBuffer(a))throw new TypeError('"list" argument must be an Array of Buffers');a.copy(n,i),i+=a.length}return n},l.byteLength=g,l.prototype._isBuffer=!0,l.prototype.swap16=function(){var e=this.length;if(e%2!=0)throw new RangeError("Buffer size must be a multiple of 16-bits");for(var t=0;t<e;t+=2)v(this,t,t+1);return this},l.prototype.swap32=function(){var e=this.length;if(e%4!=0)throw new RangeError("Buffer size must be a multiple of 32-bits");for(var t=0;t<e;t+=4)v(this,t,t+3),v(this,t+1,t+2);return this},l.prototype.swap64=function(){var e=this.length;if(e%8!=0)throw new RangeError("Buffer size must be a multiple of 64-bits");for(var t=0;t<e;t+=8)v(this,t,t+7),v(this,t+1,t+6),v(this,t+2,t+5),v(this,t+3,t+4);return this},l.prototype.toString=function(){var e=0|this.length;return 0===e?"":0===arguments.length?R(this,0,e):function(e,t,r){var n=!1;if((void 0===t||t<0)&&(t=0),t>this.length)return"";if((void 0===r||r>this.length)&&(r=this.length),r<=0)return"";if((r>>>=0)<=(t>>>=0))return"";for(e||(e="utf8");;)switch(e){case"hex":return I(this,t,r);case"utf8":case"utf-8":return R(this,t,r);case"ascii":return C(this,t,r);case"latin1":case"binary":return M(this,t,r);case"base64":return S(this,t,r);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return L(this,t,r);default:if(n)throw new TypeError("Unknown encoding: "+e);e=(e+"").toLowerCase(),n=!0}}.apply(this,arguments)},l.prototype.equals=function(e){if(!l.isBuffer(e))throw new TypeError("Argument must be a Buffer");return this===e||0===l.compare(this,e)},l.prototype.inspect=function(){var e="",t=r.INSPECT_MAX_BYTES;return this.length>0&&(e=this.toString("hex",0,t).match(/.{2}/g).join(" "),this.length>t&&(e+=" ... ")),"<Buffer "+e+">"},l.prototype.compare=function(e,t,r,n,i){if(!l.isBuffer(e))throw new TypeError("Argument must be a Buffer");if(void 0===t&&(t=0),void 0===r&&(r=e?e.length:0),void 0===n&&(n=0),void 0===i&&(i=this.length),t<0||r>e.length||n<0||i>this.length)throw new RangeError("out of range index");if(n>=i&&t>=r)return 0;if(n>=i)return-1;if(t>=r)return 1;if(this===e)return 0;for(var a=(i>>>=0)-(n>>>=0),s=(r>>>=0)-(t>>>=0),o=Math.min(a,s),u=this.slice(n,i),h=e.slice(t,r),c=0;c<o;++c)if(u[c]!==h[c]){a=u[c],s=h[c];break}return a<s?-1:s<a?1:0},l.prototype.includes=function(e,t,r){return-1!==this.indexOf(e,t,r)},l.prototype.indexOf=function(e,t,r){return _(this,e,t,r,!0)},l.prototype.lastIndexOf=function(e,t,r){return _(this,e,t,r,!1)},l.prototype.write=function(e,t,r,n){if(void 0===t)n="utf8",r=this.length,t=0;else if(void 0===r&&"string"==typeof t)n=t,r=this.length,t=0;else{if(!isFinite(t))throw new Error("Buffer.write(string, encoding, offset[, length]) is no longer supported");t|=0,isFinite(r)?(r|=0,void 0===n&&(n="utf8")):(n=r,r=void 0)}var i=this.length-t;if((void 0===r||r>i)&&(r=i),e.length>0&&(r<0||t<0)||t>this.length)throw new RangeError("Attempt to write outside buffer bounds");n||(n="utf8");for(var a=!1;;)switch(n){case"hex":return y(this,e,t,r);case"utf8":case"utf-8":return w(this,e,t,r);case"ascii":return E(this,e,t,r);case"latin1":case"binary":return x(this,e,t,r);case"base64":return A(this,e,t,r);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return T(this,e,t,r);default:if(a)throw new TypeError("Unknown encoding: "+n);n=(""+n).toLowerCase(),a=!0}},l.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}};var k=4096;function C(e,t,r){var n="";r=Math.min(e.length,r);for(var i=t;i<r;++i)n+=String.fromCharCode(127&e[i]);return n}function M(e,t,r){var n="";r=Math.min(e.length,r);for(var i=t;i<r;++i)n+=String.fromCharCode(e[i]);return n}function I(e,t,r){var n=e.length;(!t||t<0)&&(t=0),(!r||r<0||r>n)&&(r=n);for(var i="",a=t;a<r;++a)i+=z(e[a]);return i}function L(e,t,r){for(var n=e.slice(t,r),i="",a=0;a<n.length;a+=2)i+=String.fromCharCode(n[a]+256*n[a+1]);return i}function N(e,t,r){if(e%1!=0||e<0)throw new RangeError("offset is not uint");if(e+t>r)throw new RangeError("Trying to access beyond buffer length")}function O(e,t,r,n,i,a){if(!l.isBuffer(e))throw new TypeError('"buffer" argument must be a Buffer instance');if(t>i||t<a)throw new RangeError('"value" argument is out of bounds');if(r+n>e.length)throw new RangeError("Index out of range")}function P(e,t,r,n){t<0&&(t=65535+t+1);for(var i=0,a=Math.min(e.length-r,2);i<a;++i)e[r+i]=(t&255<<8*(n?i:1-i))>>>8*(n?i:1-i)}function D(e,t,r,n){t<0&&(t=4294967295+t+1);for(var i=0,a=Math.min(e.length-r,4);i<a;++i)e[r+i]=t>>>8*(n?i:3-i)&255}function U(e,t,r,n,i,a){if(r+n>e.length)throw new RangeError("Index out of range");if(r<0)throw new RangeError("Index out of range")}function B(e,t,r,n,i){return i||U(e,0,r,4),a.write(e,t,r,n,23,4),r+4}function F(e,t,r,n,i){return i||U(e,0,r,8),a.write(e,t,r,n,52,8),r+8}l.prototype.slice=function(e,t){var r,n=this.length;if((e=~~e)<0?(e+=n)<0&&(e=0):e>n&&(e=n),(t=void 0===t?n:~~t)<0?(t+=n)<0&&(t=0):t>n&&(t=n),t<e&&(t=e),l.TYPED_ARRAY_SUPPORT)(r=this.subarray(e,t)).__proto__=l.prototype;else{var i=t-e;r=new l(i,void 0);for(var a=0;a<i;++a)r[a]=this[a+e]}return r},l.prototype.readUIntLE=function(e,t,r){e|=0,t|=0,r||N(e,t,this.length);for(var n=this[e],i=1,a=0;++a<t&&(i*=256);)n+=this[e+a]*i;return n},l.prototype.readUIntBE=function(e,t,r){e|=0,t|=0,r||N(e,t,this.length);for(var n=this[e+--t],i=1;t>0&&(i*=256);)n+=this[e+--t]*i;return n},l.prototype.readUInt8=function(e,t){return t||N(e,1,this.length),this[e]},l.prototype.readUInt16LE=function(e,t){return t||N(e,2,this.length),this[e]|this[e+1]<<8},l.prototype.readUInt16BE=function(e,t){return t||N(e,2,this.length),this[e]<<8|this[e+1]},l.prototype.readUInt32LE=function(e,t){return t||N(e,4,this.length),(this[e]|this[e+1]<<8|this[e+2]<<16)+16777216*this[e+3]},l.prototype.readUInt32BE=function(e,t){return t||N(e,4,this.length),16777216*this[e]+(this[e+1]<<16|this[e+2]<<8|this[e+3])},l.prototype.readIntLE=function(e,t,r){e|=0,t|=0,r||N(e,t,this.length);for(var n=this[e],i=1,a=0;++a<t&&(i*=256);)n+=this[e+a]*i;return n>=(i*=128)&&(n-=Math.pow(2,8*t)),n},l.prototype.readIntBE=function(e,t,r){e|=0,t|=0,r||N(e,t,this.length);for(var n=t,i=1,a=this[e+--n];n>0&&(i*=256);)a+=this[e+--n]*i;return a>=(i*=128)&&(a-=Math.pow(2,8*t)),a},l.prototype.readInt8=function(e,t){return t||N(e,1,this.length),128&this[e]?-1*(255-this[e]+1):this[e]},l.prototype.readInt16LE=function(e,t){t||N(e,2,this.length);var r=this[e]|this[e+1]<<8;return 32768&r?4294901760|r:r},l.prototype.readInt16BE=function(e,t){t||N(e,2,this.length);var r=this[e+1]|this[e]<<8;return 32768&r?4294901760|r:r},l.prototype.readInt32LE=function(e,t){return t||N(e,4,this.length),this[e]|this[e+1]<<8|this[e+2]<<16|this[e+3]<<24},l.prototype.readInt32BE=function(e,t){return t||N(e,4,this.length),this[e]<<24|this[e+1]<<16|this[e+2]<<8|this[e+3]},l.prototype.readFloatLE=function(e,t){return t||N(e,4,this.length),a.read(this,e,!0,23,4)},l.prototype.readFloatBE=function(e,t){return t||N(e,4,this.length),a.read(this,e,!1,23,4)},l.prototype.readDoubleLE=function(e,t){return t||N(e,8,this.length),a.read(this,e,!0,52,8)},l.prototype.readDoubleBE=function(e,t){return t||N(e,8,this.length),a.read(this,e,!1,52,8)},l.prototype.writeUIntLE=function(e,t,r,n){e=+e,t|=0,r|=0,n||O(this,e,t,r,Math.pow(2,8*r)-1,0);var i=1,a=0;for(this[t]=255&e;++a<r&&(i*=256);)this[t+a]=e/i&255;return t+r},l.prototype.writeUIntBE=function(e,t,r,n){e=+e,t|=0,r|=0,n||O(this,e,t,r,Math.pow(2,8*r)-1,0);var i=r-1,a=1;for(this[t+i]=255&e;--i>=0&&(a*=256);)this[t+i]=e/a&255;return t+r},l.prototype.writeUInt8=function(e,t,r){return e=+e,t|=0,r||O(this,e,t,1,255,0),l.TYPED_ARRAY_SUPPORT||(e=Math.floor(e)),this[t]=255&e,t+1},l.prototype.writeUInt16LE=function(e,t,r){return e=+e,t|=0,r||O(this,e,t,2,65535,0),l.TYPED_ARRAY_SUPPORT?(this[t]=255&e,this[t+1]=e>>>8):P(this,e,t,!0),t+2},l.prototype.writeUInt16BE=function(e,t,r){return e=+e,t|=0,r||O(this,e,t,2,65535,0),l.TYPED_ARRAY_SUPPORT?(this[t]=e>>>8,this[t+1]=255&e):P(this,e,t,!1),t+2},l.prototype.writeUInt32LE=function(e,t,r){return e=+e,t|=0,r||O(this,e,t,4,4294967295,0),l.TYPED_ARRAY_SUPPORT?(this[t+3]=e>>>24,this[t+2]=e>>>16,this[t+1]=e>>>8,this[t]=255&e):D(this,e,t,!0),t+4},l.prototype.writeUInt32BE=function(e,t,r){return e=+e,t|=0,r||O(this,e,t,4,4294967295,0),l.TYPED_ARRAY_SUPPORT?(this[t]=e>>>24,this[t+1]=e>>>16,this[t+2]=e>>>8,this[t+3]=255&e):D(this,e,t,!1),t+4},l.prototype.writeIntLE=function(e,t,r,n){if(e=+e,t|=0,!n){var i=Math.pow(2,8*r-1);O(this,e,t,r,i-1,-i)}var a=0,s=1,o=0;for(this[t]=255&e;++a<r&&(s*=256);)e<0&&0===o&&0!==this[t+a-1]&&(o=1),this[t+a]=(e/s>>0)-o&255;return t+r},l.prototype.writeIntBE=function(e,t,r,n){if(e=+e,t|=0,!n){var i=Math.pow(2,8*r-1);O(this,e,t,r,i-1,-i)}var a=r-1,s=1,o=0;for(this[t+a]=255&e;--a>=0&&(s*=256);)e<0&&0===o&&0!==this[t+a+1]&&(o=1),this[t+a]=(e/s>>0)-o&255;return t+r},l.prototype.writeInt8=function(e,t,r){return e=+e,t|=0,r||O(this,e,t,1,127,-128),l.TYPED_ARRAY_SUPPORT||(e=Math.floor(e)),e<0&&(e=255+e+1),this[t]=255&e,t+1},l.prototype.writeInt16LE=function(e,t,r){return e=+e,t|=0,r||O(this,e,t,2,32767,-32768),l.TYPED_ARRAY_SUPPORT?(this[t]=255&e,this[t+1]=e>>>8):P(this,e,t,!0),t+2},l.prototype.writeInt16BE=function(e,t,r){return e=+e,t|=0,r||O(this,e,t,2,32767,-32768),l.TYPED_ARRAY_SUPPORT?(this[t]=e>>>8,this[t+1]=255&e):P(this,e,t,!1),t+2},l.prototype.writeInt32LE=function(e,t,r){return e=+e,t|=0,r||O(this,e,t,4,2147483647,-2147483648),l.TYPED_ARRAY_SUPPORT?(this[t]=255&e,this[t+1]=e>>>8,this[t+2]=e>>>16,this[t+3]=e>>>24):D(this,e,t,!0),t+4},l.prototype.writeInt32BE=function(e,t,r){return e=+e,t|=0,r||O(this,e,t,4,2147483647,-2147483648),e<0&&(e=4294967295+e+1),l.TYPED_ARRAY_SUPPORT?(this[t]=e>>>24,this[t+1]=e>>>16,this[t+2]=e>>>8,this[t+3]=255&e):D(this,e,t,!1),t+4},l.prototype.writeFloatLE=function(e,t,r){return B(this,e,t,!0,r)},l.prototype.writeFloatBE=function(e,t,r){return B(this,e,t,!1,r)},l.prototype.writeDoubleLE=function(e,t,r){return F(this,e,t,!0,r)},l.prototype.writeDoubleBE=function(e,t,r){return F(this,e,t,!1,r)},l.prototype.copy=function(e,t,r,n){if(r||(r=0),n||0===n||(n=this.length),t>=e.length&&(t=e.length),t||(t=0),n>0&&n<r&&(n=r),n===r)return 0;if(0===e.length||0===this.length)return 0;if(t<0)throw new RangeError("targetStart out of bounds");if(r<0||r>=this.length)throw new RangeError("sourceStart out of bounds");if(n<0)throw new RangeError("sourceEnd out of bounds");n>this.length&&(n=this.length),e.length-t<n-r&&(n=e.length-t+r);var i,a=n-r;if(this===e&&r<t&&t<n)for(i=a-1;i>=0;--i)e[i+t]=this[i+r];else if(a<1e3||!l.TYPED_ARRAY_SUPPORT)for(i=0;i<a;++i)e[i+t]=this[i+r];else Uint8Array.prototype.set.call(e,this.subarray(r,r+a),t);return a},l.prototype.fill=function(e,t,r,n){if("string"==typeof e){if("string"==typeof t?(n=t,t=0,r=this.length):"string"==typeof r&&(n=r,r=this.length),1===e.length){var i=e.charCodeAt(0);i<256&&(e=i)}if(void 0!==n&&"string"!=typeof n)throw new TypeError("encoding must be a string");if("string"==typeof n&&!l.isEncoding(n))throw new TypeError("Unknown encoding: "+n)}else"number"==typeof e&&(e&=255);if(t<0||this.length<t||this.length<r)throw new RangeError("Out of range index");if(r<=t)return this;var a;if(t>>>=0,r=void 0===r?this.length:r>>>0,e||(e=0),"number"==typeof e)for(a=t;a<r;++a)this[a]=e;else{var s=l.isBuffer(e)?e:V(new l(e,n).toString()),o=s.length;for(a=0;a<r-t;++a)this[a+t]=s[a%o]}return this};var j=/[^+\/0-9A-Za-z-_]/g;function z(e){return e<16?"0"+e.toString(16):e.toString(16)}function V(e,t){var r;t=t||1/0;for(var n=e.length,i=null,a=[],s=0;s<n;++s){if((r=e.charCodeAt(s))>55295&&r<57344){if(!i){if(r>56319){(t-=3)>-1&&a.push(239,191,189);continue}if(s+1===n){(t-=3)>-1&&a.push(239,191,189);continue}i=r;continue}if(r<56320){(t-=3)>-1&&a.push(239,191,189),i=r;continue}r=65536+(i-55296<<10|r-56320)}else i&&(t-=3)>-1&&a.push(239,191,189);if(i=null,r<128){if((t-=1)<0)break;a.push(r)}else if(r<2048){if((t-=2)<0)break;a.push(r>>6|192,63&r|128)}else if(r<65536){if((t-=3)<0)break;a.push(r>>12|224,r>>6&63|128,63&r|128)}else{if(!(r<1114112))throw new Error("Invalid code point");if((t-=4)<0)break;a.push(r>>18|240,r>>12&63|128,r>>6&63|128,63&r|128)}}return a}function X(e){return i.toByteArray(function(e){if((e=function(e){return e.trim?e.trim():e.replace(/^\s+|\s+$/g,"")}(e).replace(j,"")).length<2)return"";for(;e.length%4!=0;)e+="=";return e}(e))}function H(e,t,r,n){for(var i=0;i<n&&!(i+r>=t.length||i>=e.length);++i)t[i+r]=e[i];return i}},{"base64-js":"yh9p",ieee754:"JgNJ",isarray:"seLU",buffer:"dskh"}],"vfn/":[function(e,t,r){arguments[3],e("buffer").Buffer;var n=arguments[3],i=e("buffer").Buffer,a=e("bit-twiddle"),s=e("dup");n.__TYPEDARRAY_POOL||(n.__TYPEDARRAY_POOL={UINT8:s([32,0]),UINT16:s([32,0]),UINT32:s([32,0]),INT8:s([32,0]),INT16:s([32,0]),INT32:s([32,0]),FLOAT:s([32,0]),DOUBLE:s([32,0]),DATA:s([32,0]),UINT8C:s([32,0]),BUFFER:s([32,0])});var o="undefined"!=typeof Uint8ClampedArray,u=n.__TYPEDARRAY_POOL;u.UINT8C||(u.UINT8C=s([32,0])),u.BUFFER||(u.BUFFER=s([32,0]));var l=u.DATA,h=u.BUFFER;function c(e){if(e){var t=e.length||e.byteLength,r=a.log2(t);l[r].push(e)}}function f(e){e=a.nextPow2(e);var t=a.log2(e),r=l[t];return r.length>0?r.pop():new ArrayBuffer(e)}function d(e){return new Uint8Array(f(e),0,e)}function p(e){return new Uint16Array(f(2*e),0,e)}function m(e){return new Uint32Array(f(4*e),0,e)}function g(e){return new Int8Array(f(e),0,e)}function v(e){return new Int16Array(f(2*e),0,e)}function _(e){return new Int32Array(f(4*e),0,e)}function b(e){return new Float32Array(f(4*e),0,e)}function y(e){return new Float64Array(f(8*e),0,e)}function w(e){return o?new Uint8ClampedArray(f(e),0,e):d(e)}function E(e){return new DataView(f(e),0,e)}function x(e){e=a.nextPow2(e);var t=a.log2(e),r=h[t];return r.length>0?r.pop():new i(e)}r.free=function(e){if(i.isBuffer(e))h[a.log2(e.length)].push(e);else{if("[object ArrayBuffer]"!==Object.prototype.toString.call(e)&&(e=e.buffer),!e)return;var t=e.length||e.byteLength,r=0|a.log2(t);l[r].push(e)}},r.freeUint8=r.freeUint16=r.freeUint32=r.freeInt8=r.freeInt16=r.freeInt32=r.freeFloat32=r.freeFloat=r.freeFloat64=r.freeDouble=r.freeUint8Clamped=r.freeDataView=function(e){c(e.buffer)},r.freeArrayBuffer=c,r.freeBuffer=function(e){h[a.log2(e.length)].push(e)},r.malloc=function(e,t){if(void 0===t||"arraybuffer"===t)return f(e);switch(t){case"uint8":return d(e);case"uint16":return p(e);case"uint32":return m(e);case"int8":return g(e);case"int16":return v(e);case"int32":return _(e);case"float":case"float32":return b(e);case"double":case"float64":return y(e);case"uint8_clamped":return w(e);case"buffer":return x(e);case"data":case"dataview":return E(e);default:return null}return null},r.mallocArrayBuffer=f,r.mallocUint8=d,r.mallocUint16=p,r.mallocUint32=m,r.mallocInt8=g,r.mallocInt16=v,r.mallocInt32=_,r.mallocFloat32=r.mallocFloat=b,r.mallocFloat64=r.mallocDouble=y,r.mallocUint8Clamped=w,r.mallocDataView=E,r.mallocBuffer=x,r.clearCache=function(){for(var e=0;e<32;++e)u.UINT8[e].length=0,u.UINT16[e].length=0,u.UINT32[e].length=0,u.INT8[e].length=0,u.INT16[e].length=0,u.INT32[e].length=0,u.FLOAT[e].length=0,u.DOUBLE[e].length=0,u.UINT8C[e].length=0,l[e].length=0,h[e].length=0}},{"bit-twiddle":"gXRl",dup:"fDKz",buffer:"dskh"}],"6Wo/":[function(e,t,r){"use strict";var n=e("ndarray"),i=e("ndarray-ops"),a=e("typedarray-pool");t.exports=function(e){if(arguments.length<=1)throw new Error("gl-texture2d: Missing arguments for texture2d constructor");if(s||function(e){s=[e.LINEAR,e.NEAREST_MIPMAP_LINEAR,e.LINEAR_MIPMAP_NEAREST,e.LINEAR_MIPMAP_NEAREST],o=[e.NEAREST,e.LINEAR,e.NEAREST_MIPMAP_NEAREST,e.NEAREST_MIPMAP_LINEAR,e.LINEAR_MIPMAP_NEAREST,e.LINEAR_MIPMAP_LINEAR],u=[e.REPEAT,e.CLAMP_TO_EDGE,e.MIRRORED_REPEAT]}(e),"number"==typeof arguments[1])return v(e,arguments[1],arguments[2],arguments[3]||e.RGBA,arguments[4]||e.UNSIGNED_BYTE);if(Array.isArray(arguments[1]))return v(e,0|arguments[1][0],0|arguments[1][1],arguments[2]||e.RGBA,arguments[3]||e.UNSIGNED_BYTE);if("object"==typeof arguments[1]){var t=arguments[1],r=l(t)?t:t.raw;if(r)return function(e,t,r,n,i,a){var s=g(e);return e.texImage2D(e.TEXTURE_2D,0,i,i,a,t),new f(e,s,r,n,i,a)}(e,r,0|t.width,0|t.height,arguments[2]||e.RGBA,arguments[3]||e.UNSIGNED_BYTE);if(t.shape&&t.data&&t.stride)return _(e,t)}throw new Error("gl-texture2d: Invalid arguments for texture2d constructor")};var s=null,o=null,u=null;function l(e){return"undefined"!=typeof HTMLCanvasElement&&e instanceof HTMLCanvasElement||"undefined"!=typeof HTMLImageElement&&e instanceof HTMLImageElement||"undefined"!=typeof HTMLVideoElement&&e instanceof HTMLVideoElement||"undefined"!=typeof ImageData&&e instanceof ImageData}var h=function(e,t){i.muls(e,t,255)};function c(e,t,r){var n=e.gl,i=n.getParameter(n.MAX_TEXTURE_SIZE);if(t<0||t>i||r<0||r>i)throw new Error("gl-texture2d: Invalid texture size");return e._shape=[t,r],e.bind(),n.texImage2D(n.TEXTURE_2D,0,e.format,t,r,0,e.format,e.type,null),e._mipLevels=[0],e}function f(e,t,r,n,i,a){this.gl=e,this.handle=t,this.format=i,this.type=a,this._shape=[r,n],this._mipLevels=[0],this._magFilter=e.NEAREST,this._minFilter=e.NEAREST,this._wrapS=e.CLAMP_TO_EDGE,this._wrapT=e.CLAMP_TO_EDGE,this._anisoSamples=1;var s=this,o=[this._wrapS,this._wrapT];Object.defineProperties(o,[{get:function(){return s._wrapS},set:function(e){return s.wrapS=e}},{get:function(){return s._wrapT},set:function(e){return s.wrapT=e}}]),this._wrapVector=o;var u=[this._shape[0],this._shape[1]];Object.defineProperties(u,[{get:function(){return s._shape[0]},set:function(e){return s.width=e}},{get:function(){return s._shape[1]},set:function(e){return s.height=e}}]),this._shapeVector=u}var d=f.prototype;function p(e,t){return 3===e.length?1===t[2]&&t[1]===e[0]*e[2]&&t[0]===e[2]:1===t[0]&&t[1]===e[0]}function m(e,t,r,s,o,u,l,c){var f=c.dtype,d=c.shape.slice();if(d.length<2||d.length>3)throw new Error("gl-texture2d: Invalid ndarray, must be 2d or 3d");var m=0,g=0,v=p(d,c.stride.slice());if("float32"===f?m=e.FLOAT:"float64"===f?(m=e.FLOAT,v=!1,f="float32"):"uint8"===f?m=e.UNSIGNED_BYTE:(m=e.UNSIGNED_BYTE,v=!1,f="uint8"),2===d.length)g=e.LUMINANCE,d=[d[0],d[1],1],c=n(c.data,d,[c.stride[0],c.stride[1],1],c.offset);else{if(3!==d.length)throw new Error("gl-texture2d: Invalid shape for texture");if(1===d[2])g=e.ALPHA;else if(2===d[2])g=e.LUMINANCE_ALPHA;else if(3===d[2])g=e.RGB;else{if(4!==d[2])throw new Error("gl-texture2d: Invalid shape for pixel coords");g=e.RGBA}d[2]}if(g!==e.LUMINANCE&&g!==e.ALPHA||o!==e.LUMINANCE&&o!==e.ALPHA||(g=o),g!==o)throw new Error("gl-texture2d: Incompatible texture format for setPixels");var _=c.size,b=l.indexOf(s)<0;if(b&&l.push(s),m===u&&v)0===c.offset&&c.data.length===_?b?e.texImage2D(e.TEXTURE_2D,s,o,d[0],d[1],0,o,u,c.data):e.texSubImage2D(e.TEXTURE_2D,s,t,r,d[0],d[1],o,u,c.data):b?e.texImage2D(e.TEXTURE_2D,s,o,d[0],d[1],0,o,u,c.data.subarray(c.offset,c.offset+_)):e.texSubImage2D(e.TEXTURE_2D,s,t,r,d[0],d[1],o,u,c.data.subarray(c.offset,c.offset+_));else{var y;y=u===e.FLOAT?a.mallocFloat32(_):a.mallocUint8(_);var w=n(y,d,[d[2],d[2]*d[0],1]);m===e.FLOAT&&u===e.UNSIGNED_BYTE?h(w,c):i.assign(w,c),b?e.texImage2D(e.TEXTURE_2D,s,o,d[0],d[1],0,o,u,y.subarray(0,_)):e.texSubImage2D(e.TEXTURE_2D,s,t,r,d[0],d[1],o,u,y.subarray(0,_)),u===e.FLOAT?a.freeFloat32(y):a.freeUint8(y)}}function g(e){var t=e.createTexture();return e.bindTexture(e.TEXTURE_2D,t),e.texParameteri(e.TEXTURE_2D,e.TEXTURE_MIN_FILTER,e.NEAREST),e.texParameteri(e.TEXTURE_2D,e.TEXTURE_MAG_FILTER,e.NEAREST),e.texParameteri(e.TEXTURE_2D,e.TEXTURE_WRAP_S,e.CLAMP_TO_EDGE),e.texParameteri(e.TEXTURE_2D,e.TEXTURE_WRAP_T,e.CLAMP_TO_EDGE),t}function v(e,t,r,n,i){var a=e.getParameter(e.MAX_TEXTURE_SIZE);if(t<0||t>a||r<0||r>a)throw new Error("gl-texture2d: Invalid texture shape");if(i===e.FLOAT&&!e.getExtension("OES_texture_float"))throw new Error("gl-texture2d: Floating point textures not supported on this platform");var s=g(e);return e.texImage2D(e.TEXTURE_2D,0,n,t,r,0,n,i,null),new f(e,s,t,r,n,i)}function _(e,t){var r=t.dtype,s=t.shape.slice(),o=e.getParameter(e.MAX_TEXTURE_SIZE);if(s[0]<0||s[0]>o||s[1]<0||s[1]>o)throw new Error("gl-texture2d: Invalid texture size");var u=p(s,t.stride.slice()),l=0;"float32"===r?l=e.FLOAT:"float64"===r?(l=e.FLOAT,u=!1,r="float32"):"uint8"===r?l=e.UNSIGNED_BYTE:(l=e.UNSIGNED_BYTE,u=!1,r="uint8");var c,d,m=0;if(2===s.length)m=e.LUMINANCE,s=[s[0],s[1],1],t=n(t.data,s,[t.stride[0],t.stride[1],1],t.offset);else{if(3!==s.length)throw new Error("gl-texture2d: Invalid shape for texture");if(1===s[2])m=e.ALPHA;else if(2===s[2])m=e.LUMINANCE_ALPHA;else if(3===s[2])m=e.RGB;else{if(4!==s[2])throw new Error("gl-texture2d: Invalid shape for pixel coords");m=e.RGBA}}l!==e.FLOAT||e.getExtension("OES_texture_float")||(l=e.UNSIGNED_BYTE,u=!1);var v=t.size;if(u)c=0===t.offset&&t.data.length===v?t.data:t.data.subarray(t.offset,t.offset+v);else{var _=[s[2],s[2]*s[0],1];d=a.malloc(v,r);var b=n(d,s,_,0);"float32"!==r&&"float64"!==r||l!==e.UNSIGNED_BYTE?i.assign(b,t):h(b,t),c=d.subarray(0,v)}var y=g(e);return e.texImage2D(e.TEXTURE_2D,0,m,s[0],s[1],0,m,l,c),u||a.free(d),new f(e,y,s[0],s[1],m,l)}Object.defineProperties(d,{minFilter:{get:function(){return this._minFilter},set:function(e){this.bind();var t=this.gl;if(this.type===t.FLOAT&&s.indexOf(e)>=0&&(t.getExtension("OES_texture_float_linear")||(e=t.NEAREST)),o.indexOf(e)<0)throw new Error("gl-texture2d: Unknown filter mode "+e);return t.texParameteri(t.TEXTURE_2D,t.TEXTURE_MIN_FILTER,e),this._minFilter=e}},magFilter:{get:function(){return this._magFilter},set:function(e){this.bind();var t=this.gl;if(this.type===t.FLOAT&&s.indexOf(e)>=0&&(t.getExtension("OES_texture_float_linear")||(e=t.NEAREST)),o.indexOf(e)<0)throw new Error("gl-texture2d: Unknown filter mode "+e);return t.texParameteri(t.TEXTURE_2D,t.TEXTURE_MAG_FILTER,e),this._magFilter=e}},mipSamples:{get:function(){return this._anisoSamples},set:function(e){var t=this._anisoSamples;if(this._anisoSamples=0|Math.max(e,1),t!==this._anisoSamples){var r=this.gl.getExtension("EXT_texture_filter_anisotropic");r&&this.gl.texParameterf(this.gl.TEXTURE_2D,r.TEXTURE_MAX_ANISOTROPY_EXT,this._anisoSamples)}return this._anisoSamples}},wrapS:{get:function(){return this._wrapS},set:function(e){if(this.bind(),u.indexOf(e)<0)throw new Error("gl-texture2d: Unknown wrap mode "+e);return this.gl.texParameteri(this.gl.TEXTURE_2D,this.gl.TEXTURE_WRAP_S,e),this._wrapS=e}},wrapT:{get:function(){return this._wrapT},set:function(e){if(this.bind(),u.indexOf(e)<0)throw new Error("gl-texture2d: Unknown wrap mode "+e);return this.gl.texParameteri(this.gl.TEXTURE_2D,this.gl.TEXTURE_WRAP_T,e),this._wrapT=e}},wrap:{get:function(){return this._wrapVector},set:function(e){if(Array.isArray(e)||(e=[e,e]),2!==e.length)throw new Error("gl-texture2d: Must specify wrap mode for rows and columns");for(var t=0;t<2;++t)if(u.indexOf(e[t])<0)throw new Error("gl-texture2d: Unknown wrap mode "+e);this._wrapS=e[0],this._wrapT=e[1];var r=this.gl;return this.bind(),r.texParameteri(r.TEXTURE_2D,r.TEXTURE_WRAP_S,this._wrapS),r.texParameteri(r.TEXTURE_2D,r.TEXTURE_WRAP_T,this._wrapT),e}},shape:{get:function(){return this._shapeVector},set:function(e){if(Array.isArray(e)){if(2!==e.length)throw new Error("gl-texture2d: Invalid texture shape")}else e=[0|e,0|e];return c(this,0|e[0],0|e[1]),[0|e[0],0|e[1]]}},width:{get:function(){return this._shape[0]},set:function(e){return c(this,e|=0,this._shape[1]),e}},height:{get:function(){return this._shape[1]},set:function(e){return e|=0,c(this,this._shape[0],e),e}}}),d.bind=function(e){var t=this.gl;return void 0!==e&&t.activeTexture(t.TEXTURE0+(0|e)),t.bindTexture(t.TEXTURE_2D,this.handle),void 0!==e?0|e:t.getParameter(t.ACTIVE_TEXTURE)-t.TEXTURE0},d.dispose=function(){this.gl.deleteTexture(this.handle)},d.generateMipmap=function(){this.bind(),this.gl.generateMipmap(this.gl.TEXTURE_2D);for(var e=Math.min(this._shape[0],this._shape[1]),t=0;e>0;++t,e>>>=1)this._mipLevels.indexOf(t)<0&&this._mipLevels.push(t)},d.setPixels=function(e,t,r,n){var i=this.gl;this.bind(),Array.isArray(t)?(n=r,r=0|t[1],t=0|t[0]):(t=t||0,r=r||0),n=n||0;var a=l(e)?e:e.raw;if(a)this._mipLevels.indexOf(n)<0?(i.texImage2D(i.TEXTURE_2D,0,this.format,this.format,this.type,a),this._mipLevels.push(n)):i.texSubImage2D(i.TEXTURE_2D,n,t,r,this.format,this.type,a);else{if(!(e.shape&&e.stride&&e.data))throw new Error("gl-texture2d: Unsupported data type");if(e.shape.length<2||t+e.shape[1]>this._shape[1]>>>n||r+e.shape[0]>this._shape[0]>>>n||t<0||r<0)throw new Error("gl-texture2d: Texture dimensions are out of bounds");m(i,t,r,n,this.format,this.type,this._mipLevels,e)}}},{ndarray:"cMKA","ndarray-ops":"o12b","typedarray-pool":"vfn/"}],HIFI:[function(e,t,r){"use strict";var n=this&&this.__awaiter||function(e,t,r,n){return new(r||(r=Promise))(function(i,a){function s(e){try{u(n.next(e))}catch(t){a(t)}}function o(e){try{u(n.throw(e))}catch(t){a(t)}}function u(e){e.done?i(e.value):new r(function(t){t(e.value)}).then(s,o)}u((n=n.apply(e,t||[])).next())})},i=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(r,"__esModule",{value:!0});const a=i(e("./annotation-handler")),s=e("events"),o=e("@talenfisher/canvas"),u=i(e("@talenfisher/color")),l=i(e("gl-texture2d")),h=2,c=1;new u.default("#cd7f32");r.default=class extends s.EventEmitter{constructor(e){super(),this.colors=[];let t=e.manifest.getNode("Record3 Mask");if(!t)throw new Error("Record3 Mask is not defined in the manifest");let r=e.manifest.get("Record3 Mask Background");if(!r)throw new Error("Record3 Mask Background is not defined");this.manifest=e.manifest,this.dataBuffer=e.data,this.definition=t,this.color=r,this.annotations=new Proxy(this.definition,a.default),this.bootstrap()}getTexture(e){if(this.canvas)return this.texture?this.texture:this.texture=l.default(e,this.canvas.el)}getAnnotationColors(){let e=[];return this.definition.querySelectorAll("Annotation[color]").forEach(t=>{let r=t.getAttribute("color");null!=r&&e.push(r)}),e}bootstrap(){return n(this,void 0,void 0,function*(){yield this.setupCanvas(),yield this.getColors(),this.version=h,this.emit("loaded")})}setupCanvas(){return n(this,void 0,void 0,function*(){if(0!==this.width&&0!==this.height)if(this.canvas=new o.Canvas({height:this.height,width:this.width}),this.dataBuffer){let e=yield function(e){return new Promise((t,r)=>{let n=URL.createObjectURL(new Blob([e])),i=new Image;i.onload=(()=>t(i)),i.src=n})}(this.dataBuffer),t=this.canvas.el;this.canvas.drawImage(e),this.texture&&this.texture.setPixels(t)}else this.canvas.clear(this.color)})}getColors(){return new Promise((e,t)=>{let r=this.canvas.getImageData(),n=r.height,i=r.width,a=new Worker("worker.f18b01a6.b725bdfa.js");a.postMessage({imageData:r.data,annotations:this.getAnnotationColors(),background:this.color,version:this.version},[r.data.buffer]),a.onmessage=(t=>{this.canvas.putImageData(new ImageData(t.data.imageData,i,n)),this.colors=t.data.colors.map(e=>new u.default(e)),e()}),a.onerror=(e=>t())})}get height(){let e=this.manifest.get("Record3 MatrixDimension SizeY");return void 0!==e?Number(e):0}get width(){let e=this.manifest.get("Record3 MatrixDimension SizeX");return void 0!==e?Number(e):0}get version(){let e=this.manifest.get("Record3 Mask Version");return void 0!==e?Number(e):c}set version(e){this.manifest.set("Record3 Mask Version",e)}}},{"./annotation-handler":"biOE",events:"T2os","@talenfisher/canvas":"kWi2","@talenfisher/color":"f6As","gl-texture2d":"6Wo/","./worker/index.ts":[["worker.f18b01a6.js","1WM+"],"worker.f18b01a6.js.map","1WM+"]}],FXui:[function(e,t,r){"use strict";Object.defineProperty(r,"__esModule",{value:!0});r.default=class{get then(){return this.promise.then.bind(this.promise)}get catch(){return this.promise.catch.bind(this.promise)}}},{}],"8wly":[function(e,t,r){"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.bufferToTypedArray=function(e,t){let r;switch(t){default:case"Float64":r=new Float64Array(e);break;case"Float32":r=new Float32Array(e);break;case"Int32":r=new Int32Array(e);break;case"Int16":r=new Int16Array(e)}return r},r.default={D:{name:"Float64",bytes:8},F:{name:"Float32",bytes:4},L:{name:"Int32",bytes:4},I:{name:"Int16",bytes:2}}},{}],JHoi:[function(e,t,r){"use strict";var n=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(r,"__esModule",{value:!0});const i=n(e("./data-types")),a=Object.keys(i.default);r.default=class{constructor({name:e,manifest:t}){let r=t.getNode(`Record1 Axes C${e}`);if(!r)throw new Error(`Axis '${e}' is not defined in the manifest`);this.name=e,this.definition=r,this.manifest=t}get increment(){let e=this.definition.querySelector("Increment");return null!==e?Number(e.innerHTML):0}get dataType(){let e=this.definition.querySelector("DataType");if(null===e||!a.includes(e.innerHTML)){let t=e?e.innerHTML:"null";throw new Error(`'${t}' is not a valid data type`)}return i.default[e.innerHTML.toUpperCase()]}get size(){return this.manifest.get(`Record3 MatrixDimension Size${this.name}`)||0}get values(){return{increment:this.increment,dataType:this.dataType,size:this.size}}}},{"./data-types":"8wly"}],MzYK:[function(e,t,r){"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.default=[1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1]},{}],HfRb:[function(e,t,r){t.exports="precision highp float;\n#define GLSLIFY 1\n\nattribute vec3 worldCoordinate;\nattribute vec3 normal;\nattribute vec2 uv;\n\nuniform mat4 model, view, projection, inverseModel;\nuniform vec3 eyePosition;\nuniform bool highlight;\nuniform vec3 highlightColor;\nuniform sampler2D texture;\n\nvarying vec3 eyeDirection, surfaceNormal;\nvarying vec2 planeCoordinate;\nvarying vec4 vColor;\n\nbool approxEqual(vec3 first, vec3 second, float margin) {\n    vec3 diff = second - first;\n    return \n        abs(diff.x) <= margin &&\n        abs(diff.y) <= margin &&\n        abs(diff.z) <= margin;\n}\n\nvoid main() {\n    vec4 worldPosition = model * vec4(worldCoordinate, 1.0);\n    gl_Position = projection * view * worldPosition;\n    \n    planeCoordinate = uv;\n\n    vec3 rgb = texture2D(texture, uv).xyz;\n    float a = 1.0;\n\n    if(highlight && !approxEqual(highlightColor, rgb, 1.0e-02)) {\n        a = 0.7;\n    }\n\n    vColor = vec4(rgb, a);\n\n    vec4 cameraCoordinate = view * worldPosition;\n    cameraCoordinate.xyz /= cameraCoordinate.w;\n    eyeDirection = eyePosition - cameraCoordinate.xyz;\n    surfaceNormal = normalize((vec4(normal, 0) * inverseModel).xyz);\n}"},{}],u9LC:[function(e,t,r){t.exports="precision mediump float;\n#define GLSLIFY 1\n\nfloat beckmannDistribution(float x, float roughness) {\n  float NdotH = max(x, 0.0001);\n  float cos2Alpha = NdotH * NdotH;\n  float tan2Alpha = (cos2Alpha - 1.0) / cos2Alpha;\n  float roughness2 = roughness * roughness;\n  float denom = 3.141592653589793 * roughness2 * cos2Alpha * cos2Alpha;\n  return exp(tan2Alpha / roughness2) / denom;\n}\n\nfloat beckmannSpecular(\n  vec3 lightDirection,\n  vec3 viewDirection,\n  vec3 surfaceNormal,\n  float roughness) {\n  return beckmannDistribution(dot(surfaceNormal, normalize(lightDirection + viewDirection)), roughness);\n}\n\nuniform float roughness, fresnel, ambient, diffuse, specular;\n\nvarying vec3 eyeDirection, surfaceNormal;\nvarying vec4 vColor;\n\nvoid main() {\n    vec3 normal = normalize(surfaceNormal);\n    vec3 direction = normalize(eyeDirection);\n    \n    if(gl_FrontFacing) {\n        normal = -surfaceNormal;\n    }\n\n    float cSpecular = max(beckmannSpecular(direction, direction, normal, roughness), 0.0);\n    float cDiffuse = min(ambient + diffuse * max(dot(normal, direction), 0.0), 1.0);\n\n    gl_FragColor = vColor.a * vec4(cDiffuse * vColor.rgb + specular * cSpecular, 1.0);\n}"},{}],wYTo:[function(e,t,r){t.exports="precision mediump float;\n#define GLSLIFY 1\n\nvarying vec2 planeCoordinate;\n\nvec2 splitFloat(float v) {\n    float adjust = 255.0 * v;\n    float upper = floor(adjust);\n    float lower = fract(adjust);\n    \n    return vec2(upper / 255.0, floor(lower * 16.0) / 16.0);\n}\n\nvoid main() {\n    vec2 ux = splitFloat(planeCoordinate.x);\n    vec2 uy = splitFloat(planeCoordinate.y);\n\n    gl_FragColor = vec4(1.0 / 255.0, ux.x, uy.x, ux.y * (uy.y / 16.0));\n}"},{}],yFAN:[function(e,t,r){"use strict";t.exports=function(e,t){for(var r={},n=0;n<e.length;++n)for(var i=e[n].name.split("."),a=r,s=0;s<i.length;++s){var o=i[s].split("[");if(o.length>1){o[0]in a||(a[o[0]]=[]),a=a[o[0]];for(var u=1;u<o.length;++u){var l=parseInt(o[u]);u<o.length-1||s<i.length-1?(l in a||(u<o.length-1?a[l]=[]:a[l]={}),a=a[l]):a[l]=t?n:e[n].type}}else s<i.length-1?(o[0]in a||(a[o[0]]={}),a=a[o[0]]):a[o[0]]=t?n:e[n].type}return r}},{}],"f+nq":[function(e,t,r){function n(e,t,r){this.shortMessage=t||"",this.longMessage=r||"",this.rawError=e||"",this.message="gl-shader: "+(t||e||"")+(r?"\n"+r:""),this.stack=(new Error).stack}n.prototype=new Error,n.prototype.name="GLError",n.prototype.constructor=n,t.exports=n},{}],ATFE:[function(e,t,r){"use strict";var n=e("./reflect"),i=e("./GLError");function a(e){return new Function("y","return function(){return y}")(e)}function s(e,t){for(var r=new Array(e),n=0;n<e;++n)r[n]=t;return r}t.exports=function(e,t,r,o){function u(e,t,r){switch(r){case"bool":case"int":case"sampler2D":case"samplerCube":return"gl.uniform1i(locations["+t+"],obj"+e+")";case"float":return"gl.uniform1f(locations["+t+"],obj"+e+")";default:var n=r.indexOf("vec");if(!(0<=n&&n<=1&&r.length===4+n)){if(0===r.indexOf("mat")&&4===r.length){var a;if((a=r.charCodeAt(r.length-1)-48)<2||a>4)throw new i("","Invalid uniform dimension type for matrix "+name+": "+r);return"gl.uniformMatrix"+a+"fv(locations["+t+"],false,obj"+e+")"}throw new i("","Unknown uniform data type for "+name+": "+r)}if((a=r.charCodeAt(r.length-1)-48)<2||a>4)throw new i("","Invalid data type");switch(r.charAt(0)){case"b":case"i":return"gl.uniform"+a+"iv(locations["+t+"],obj"+e+")";case"v":return"gl.uniform"+a+"fv(locations["+t+"],obj"+e+")";default:throw new i("","Unrecognized data type for vector "+name+": "+r)}}}function l(t){for(var n=["return function updateProperty(obj){"],i=function e(t,r){if("object"!=typeof r)return[[t,r]];var n=[];for(var i in r){var a=r[i],s=t;parseInt(i)+""===i?s+="["+i+"]":s+="."+i,"object"==typeof a?n.push.apply(n,e(s,a)):n.push([s,a])}return n}("",t),a=0;a<i.length;++a){var s=i[a],l=s[0],h=s[1];o[h]&&n.push(u(l,h,r[h].type))}return n.push("return obj}"),new Function("gl","locations",n.join("\n"))(e,o)}function h(n,u,h){if("object"==typeof h){var f=c(h);Object.defineProperty(n,u,{get:a(f),set:l(h),enumerable:!0,configurable:!1})}else o[h]?Object.defineProperty(n,u,{get:(d=h,new Function("gl","wrapper","locations","return function(){return gl.getUniform(wrapper.program,locations["+d+"])}")(e,t,o)),set:l(h),enumerable:!0,configurable:!1}):n[u]=function(e){switch(e){case"bool":return!1;case"int":case"sampler2D":case"samplerCube":case"float":return 0;default:var t=e.indexOf("vec");if(0<=t&&t<=1&&e.length===4+t){if((r=e.charCodeAt(e.length-1)-48)<2||r>4)throw new i("","Invalid data type");return"b"===e.charAt(0)?s(r,!1):s(r,0)}if(0===e.indexOf("mat")&&4===e.length){var r;if((r=e.charCodeAt(e.length-1)-48)<2||r>4)throw new i("","Invalid uniform dimension type for matrix "+name+": "+e);return s(r*r,0)}throw new i("","Unknown uniform data type for "+name+": "+e)}}(r[h].type);var d}function c(e){var t;if(Array.isArray(e)){t=new Array(e.length);for(var r=0;r<e.length;++r)h(t,r,e[r])}else for(var n in t={},e)h(t,n,e[n]);return t}var f=n(r,!0);return{get:a(c(f)),set:l(f),enumerable:!0,configurable:!0}}},{"./reflect":"yFAN","./GLError":"f+nq"}],za74:[function(e,t,r){"use strict";t.exports=function(e,t,r,i){for(var a={},u=0,l=r.length;u<l;++u){var h=r[u],c=h.name,f=h.type,d=h.locations;switch(f){case"bool":case"int":case"float":s(e,t,d[0],i,1,a,c);break;default:if(f.indexOf("vec")>=0){if((p=f.charCodeAt(f.length-1)-48)<2||p>4)throw new n("","Invalid data type for attribute "+c+": "+f);s(e,t,d[0],i,p,a,c)}else{if(!(f.indexOf("mat")>=0))throw new n("","Unknown data type for attribute "+c+": "+f);var p;if((p=f.charCodeAt(f.length-1)-48)<2||p>4)throw new n("","Invalid data type for attribute "+c+": "+f);o(e,t,d,i,p,a,c)}}}return a};var n=e("./GLError");function i(e,t,r,n,i,a){this._gl=e,this._wrapper=t,this._index=r,this._locations=n,this._dimension=i,this._constFunc=a}var a=i.prototype;function s(e,t,r,n,a,s,o){for(var u=["gl","v"],l=[],h=0;h<a;++h)u.push("x"+h),l.push("x"+h);u.push("if(x0.length===void 0){return gl.vertexAttrib"+a+"f(v,"+l.join()+")}else{return gl.vertexAttrib"+a+"fv(v,x0)}");var c=Function.apply(null,u),f=new i(e,t,r,n,a,c);Object.defineProperty(s,o,{set:function(t){return e.disableVertexAttribArray(n[r]),c(e,n[r],t),t},get:function(){return f},enumerable:!0})}function o(e,t,r,n,i,a,o){for(var u=new Array(i),l=new Array(i),h=0;h<i;++h)s(e,t,r[h],n,i,u,h),l[h]=u[h];Object.defineProperty(u,"location",{set:function(e){if(Array.isArray(e))for(var t=0;t<i;++t)l[t].location=e[t];else for(t=0;t<i;++t)l[t].location=e+t;return e},get:function(){for(var e=new Array(i),t=0;t<i;++t)e[t]=n[r[t]];return e},enumerable:!0}),u.pointer=function(t,a,s,o){t=t||e.FLOAT,a=!!a,s=s||i*i,o=o||0;for(var u=0;u<i;++u){var l=n[r[u]];e.vertexAttribPointer(l,i,t,a,s,o+u*i),e.enableVertexAttribArray(l)}};var c=new Array(i),f=e["vertexAttrib"+i+"fv"];Object.defineProperty(a,o,{set:function(t){for(var a=0;a<i;++a){var s=n[r[a]];if(e.disableVertexAttribArray(s),Array.isArray(t[0]))f.call(e,s,t[a]);else{for(var o=0;o<i;++o)c[o]=t[i*a+o];f.call(e,s,c)}}return t},get:function(){return u},enumerable:!0})}a.pointer=function(e,t,r,n){var i=this._gl,a=this._locations[this._index];i.vertexAttribPointer(a,this._dimension,e||i.FLOAT,!!t,r||0,n||0),i.enableVertexAttribArray(a)},a.set=function(e,t,r,n){return this._constFunc(this._locations[this._index],e,t,r,n)},Object.defineProperty(a,"location",{get:function(){return this._locations[this._index]},set:function(e){return e!==this._locations[this._index]&&(this._locations[this._index]=0|e,this._wrapper.program=null),0|e}})},{"./GLError":"f+nq"}],wcjg:[function(e,t,r){!function(){"use strict";var e={not_string:/[^s]/,not_bool:/[^t]/,not_type:/[^T]/,not_primitive:/[^v]/,number:/[diefg]/,numeric_arg:/[bcdiefguxX]/,json:/[j]/,not_json:/[^j]/,text:/^[^\x25]+/,modulo:/^\x25{2}/,placeholder:/^\x25(?:([1-9]\d*)\$|\(([^)]+)\))?(\+)?(0|'[^$])?(-)?(\d+)?(?:\.(\d+))?([b-gijostTuvxX])/,key:/^([a-z_][a-z_\d]*)/i,key_access:/^\.([a-z_][a-z_\d]*)/i,index_access:/^\[(\d+)\]/,sign:/^[+-]/};function t(r){return function(r,n){var i,a,s,o,u,l,h,c,f,d=1,p=r.length,m="";for(a=0;a<p;a++)if("string"==typeof r[a])m+=r[a];else if("object"==typeof r[a]){if((o=r[a]).keys)for(i=n[d],s=0;s<o.keys.length;s++){if(null==i)throw new Error(t('[sprintf] Cannot access property "%s" of undefined value "%s"',o.keys[s],o.keys[s-1]));i=i[o.keys[s]]}else i=o.param_no?n[o.param_no]:n[d++];if(e.not_type.test(o.type)&&e.not_primitive.test(o.type)&&i instanceof Function&&(i=i()),e.numeric_arg.test(o.type)&&"number"!=typeof i&&isNaN(i))throw new TypeError(t("[sprintf] expecting number but found %T",i));switch(e.number.test(o.type)&&(c=i>=0),o.type){case"b":i=parseInt(i,10).toString(2);break;case"c":i=String.fromCharCode(parseInt(i,10));break;case"d":case"i":i=parseInt(i,10);break;case"j":i=JSON.stringify(i,null,o.width?parseInt(o.width):0);break;case"e":i=o.precision?parseFloat(i).toExponential(o.precision):parseFloat(i).toExponential();break;case"f":i=o.precision?parseFloat(i).toFixed(o.precision):parseFloat(i);break;case"g":i=o.precision?String(Number(i.toPrecision(o.precision))):parseFloat(i);break;case"o":i=(parseInt(i,10)>>>0).toString(8);break;case"s":i=String(i),i=o.precision?i.substring(0,o.precision):i;break;case"t":i=String(!!i),i=o.precision?i.substring(0,o.precision):i;break;case"T":i=Object.prototype.toString.call(i).slice(8,-1).toLowerCase(),i=o.precision?i.substring(0,o.precision):i;break;case"u":i=parseInt(i,10)>>>0;break;case"v":i=i.valueOf(),i=o.precision?i.substring(0,o.precision):i;break;case"x":i=(parseInt(i,10)>>>0).toString(16);break;case"X":i=(parseInt(i,10)>>>0).toString(16).toUpperCase()}e.json.test(o.type)?m+=i:(!e.number.test(o.type)||c&&!o.sign?f="":(f=c?"+":"-",i=i.toString().replace(e.sign,"")),l=o.pad_char?"0"===o.pad_char?"0":o.pad_char.charAt(1):" ",h=o.width-(f+i).length,u=o.width&&h>0?l.repeat(h):"",m+=o.align?f+i+u:"0"===l?f+u+i:u+f+i)}return m}(function(t){if(i[t])return i[t];for(var r,n=t,a=[],s=0;n;){if(null!==(r=e.text.exec(n)))a.push(r[0]);else if(null!==(r=e.modulo.exec(n)))a.push("%");else{if(null===(r=e.placeholder.exec(n)))throw new SyntaxError("[sprintf] unexpected placeholder");if(r[2]){s|=1;var o=[],u=r[2],l=[];if(null===(l=e.key.exec(u)))throw new SyntaxError("[sprintf] failed to parse named argument key");for(o.push(l[1]);""!==(u=u.substring(l[0].length));)if(null!==(l=e.key_access.exec(u)))o.push(l[1]);else{if(null===(l=e.index_access.exec(u)))throw new SyntaxError("[sprintf] failed to parse named argument key");o.push(l[1])}r[2]=o}else s|=2;if(3===s)throw new Error("[sprintf] mixing positional and named placeholders is not (yet) supported");a.push({placeholder:r[0],param_no:r[1],keys:r[2],sign:r[3],pad_char:r[4],align:r[5],width:r[6],precision:r[7],type:r[8]})}n=n.substring(r[0].length)}return i[t]=a}(r),arguments)}function n(e,r){return t.apply(null,[e].concat(r||[]))}var i=Object.create(null);void 0!==r&&(r.sprintf=t,r.vsprintf=n),"undefined"!=typeof window&&(window.sprintf=t,window.vsprintf=n)}()},{}],P29P:[function(e,t,r){t.exports={0:"NONE",1:"ONE",2:"LINE_LOOP",3:"LINE_STRIP",4:"TRIANGLES",5:"TRIANGLE_STRIP",6:"TRIANGLE_FAN",256:"DEPTH_BUFFER_BIT",512:"NEVER",513:"LESS",514:"EQUAL",515:"LEQUAL",516:"GREATER",517:"NOTEQUAL",518:"GEQUAL",519:"ALWAYS",768:"SRC_COLOR",769:"ONE_MINUS_SRC_COLOR",770:"SRC_ALPHA",771:"ONE_MINUS_SRC_ALPHA",772:"DST_ALPHA",773:"ONE_MINUS_DST_ALPHA",774:"DST_COLOR",775:"ONE_MINUS_DST_COLOR",776:"SRC_ALPHA_SATURATE",1024:"STENCIL_BUFFER_BIT",1028:"FRONT",1029:"BACK",1032:"FRONT_AND_BACK",1280:"INVALID_ENUM",1281:"INVALID_VALUE",1282:"INVALID_OPERATION",1285:"OUT_OF_MEMORY",1286:"INVALID_FRAMEBUFFER_OPERATION",2304:"CW",2305:"CCW",2849:"LINE_WIDTH",2884:"CULL_FACE",2885:"CULL_FACE_MODE",2886:"FRONT_FACE",2928:"DEPTH_RANGE",2929:"DEPTH_TEST",2930:"DEPTH_WRITEMASK",2931:"DEPTH_CLEAR_VALUE",2932:"DEPTH_FUNC",2960:"STENCIL_TEST",2961:"STENCIL_CLEAR_VALUE",2962:"STENCIL_FUNC",2963:"STENCIL_VALUE_MASK",2964:"STENCIL_FAIL",2965:"STENCIL_PASS_DEPTH_FAIL",2966:"STENCIL_PASS_DEPTH_PASS",2967:"STENCIL_REF",2968:"STENCIL_WRITEMASK",2978:"VIEWPORT",3024:"DITHER",3042:"BLEND",3088:"SCISSOR_BOX",3089:"SCISSOR_TEST",3106:"COLOR_CLEAR_VALUE",3107:"COLOR_WRITEMASK",3317:"UNPACK_ALIGNMENT",3333:"PACK_ALIGNMENT",3379:"MAX_TEXTURE_SIZE",3386:"MAX_VIEWPORT_DIMS",3408:"SUBPIXEL_BITS",3410:"RED_BITS",3411:"GREEN_BITS",3412:"BLUE_BITS",3413:"ALPHA_BITS",3414:"DEPTH_BITS",3415:"STENCIL_BITS",3553:"TEXTURE_2D",4352:"DONT_CARE",4353:"FASTEST",4354:"NICEST",5120:"BYTE",5121:"UNSIGNED_BYTE",5122:"SHORT",5123:"UNSIGNED_SHORT",5124:"INT",5125:"UNSIGNED_INT",5126:"FLOAT",5386:"INVERT",5890:"TEXTURE",6401:"STENCIL_INDEX",6402:"DEPTH_COMPONENT",6406:"ALPHA",6407:"RGB",6408:"RGBA",6409:"LUMINANCE",6410:"LUMINANCE_ALPHA",7680:"KEEP",7681:"REPLACE",7682:"INCR",7683:"DECR",7936:"VENDOR",7937:"RENDERER",7938:"VERSION",9728:"NEAREST",9729:"LINEAR",9984:"NEAREST_MIPMAP_NEAREST",9985:"LINEAR_MIPMAP_NEAREST",9986:"NEAREST_MIPMAP_LINEAR",9987:"LINEAR_MIPMAP_LINEAR",10240:"TEXTURE_MAG_FILTER",10241:"TEXTURE_MIN_FILTER",10242:"TEXTURE_WRAP_S",10243:"TEXTURE_WRAP_T",10497:"REPEAT",10752:"POLYGON_OFFSET_UNITS",16384:"COLOR_BUFFER_BIT",32769:"CONSTANT_COLOR",32770:"ONE_MINUS_CONSTANT_COLOR",32771:"CONSTANT_ALPHA",32772:"ONE_MINUS_CONSTANT_ALPHA",32773:"BLEND_COLOR",32774:"FUNC_ADD",32777:"BLEND_EQUATION_RGB",32778:"FUNC_SUBTRACT",32779:"FUNC_REVERSE_SUBTRACT",32819:"UNSIGNED_SHORT_4_4_4_4",32820:"UNSIGNED_SHORT_5_5_5_1",32823:"POLYGON_OFFSET_FILL",32824:"POLYGON_OFFSET_FACTOR",32854:"RGBA4",32855:"RGB5_A1",32873:"TEXTURE_BINDING_2D",32926:"SAMPLE_ALPHA_TO_COVERAGE",32928:"SAMPLE_COVERAGE",32936:"SAMPLE_BUFFERS",32937:"SAMPLES",32938:"SAMPLE_COVERAGE_VALUE",32939:"SAMPLE_COVERAGE_INVERT",32968:"BLEND_DST_RGB",32969:"BLEND_SRC_RGB",32970:"BLEND_DST_ALPHA",32971:"BLEND_SRC_ALPHA",33071:"CLAMP_TO_EDGE",33170:"GENERATE_MIPMAP_HINT",33189:"DEPTH_COMPONENT16",33306:"DEPTH_STENCIL_ATTACHMENT",33635:"UNSIGNED_SHORT_5_6_5",33648:"MIRRORED_REPEAT",33901:"ALIASED_POINT_SIZE_RANGE",33902:"ALIASED_LINE_WIDTH_RANGE",33984:"TEXTURE0",33985:"TEXTURE1",33986:"TEXTURE2",33987:"TEXTURE3",33988:"TEXTURE4",33989:"TEXTURE5",33990:"TEXTURE6",33991:"TEXTURE7",33992:"TEXTURE8",33993:"TEXTURE9",33994:"TEXTURE10",33995:"TEXTURE11",33996:"TEXTURE12",33997:"TEXTURE13",33998:"TEXTURE14",33999:"TEXTURE15",34000:"TEXTURE16",34001:"TEXTURE17",34002:"TEXTURE18",34003:"TEXTURE19",34004:"TEXTURE20",34005:"TEXTURE21",34006:"TEXTURE22",34007:"TEXTURE23",34008:"TEXTURE24",34009:"TEXTURE25",34010:"TEXTURE26",34011:"TEXTURE27",34012:"TEXTURE28",34013:"TEXTURE29",34014:"TEXTURE30",34015:"TEXTURE31",34016:"ACTIVE_TEXTURE",34024:"MAX_RENDERBUFFER_SIZE",34041:"DEPTH_STENCIL",34055:"INCR_WRAP",34056:"DECR_WRAP",34067:"TEXTURE_CUBE_MAP",34068:"TEXTURE_BINDING_CUBE_MAP",34069:"TEXTURE_CUBE_MAP_POSITIVE_X",34070:"TEXTURE_CUBE_MAP_NEGATIVE_X",34071:"TEXTURE_CUBE_MAP_POSITIVE_Y",34072:"TEXTURE_CUBE_MAP_NEGATIVE_Y",34073:"TEXTURE_CUBE_MAP_POSITIVE_Z",34074:"TEXTURE_CUBE_MAP_NEGATIVE_Z",34076:"MAX_CUBE_MAP_TEXTURE_SIZE",34338:"VERTEX_ATTRIB_ARRAY_ENABLED",34339:"VERTEX_ATTRIB_ARRAY_SIZE",34340:"VERTEX_ATTRIB_ARRAY_STRIDE",34341:"VERTEX_ATTRIB_ARRAY_TYPE",34342:"CURRENT_VERTEX_ATTRIB",34373:"VERTEX_ATTRIB_ARRAY_POINTER",34466:"NUM_COMPRESSED_TEXTURE_FORMATS",34467:"COMPRESSED_TEXTURE_FORMATS",34660:"BUFFER_SIZE",34661:"BUFFER_USAGE",34816:"STENCIL_BACK_FUNC",34817:"STENCIL_BACK_FAIL",34818:"STENCIL_BACK_PASS_DEPTH_FAIL",34819:"STENCIL_BACK_PASS_DEPTH_PASS",34877:"BLEND_EQUATION_ALPHA",34921:"MAX_VERTEX_ATTRIBS",34922:"VERTEX_ATTRIB_ARRAY_NORMALIZED",34930:"MAX_TEXTURE_IMAGE_UNITS",34962:"ARRAY_BUFFER",34963:"ELEMENT_ARRAY_BUFFER",34964:"ARRAY_BUFFER_BINDING",34965:"ELEMENT_ARRAY_BUFFER_BINDING",34975:"VERTEX_ATTRIB_ARRAY_BUFFER_BINDING",35040:"STREAM_DRAW",35044:"STATIC_DRAW",35048:"DYNAMIC_DRAW",35632:"FRAGMENT_SHADER",35633:"VERTEX_SHADER",35660:"MAX_VERTEX_TEXTURE_IMAGE_UNITS",35661:"MAX_COMBINED_TEXTURE_IMAGE_UNITS",35663:"SHADER_TYPE",35664:"FLOAT_VEC2",35665:"FLOAT_VEC3",35666:"FLOAT_VEC4",35667:"INT_VEC2",35668:"INT_VEC3",35669:"INT_VEC4",35670:"BOOL",35671:"BOOL_VEC2",35672:"BOOL_VEC3",35673:"BOOL_VEC4",35674:"FLOAT_MAT2",35675:"FLOAT_MAT3",35676:"FLOAT_MAT4",35678:"SAMPLER_2D",35680:"SAMPLER_CUBE",35712:"DELETE_STATUS",35713:"COMPILE_STATUS",35714:"LINK_STATUS",35715:"VALIDATE_STATUS",35716:"INFO_LOG_LENGTH",35717:"ATTACHED_SHADERS",35718:"ACTIVE_UNIFORMS",35719:"ACTIVE_UNIFORM_MAX_LENGTH",35720:"SHADER_SOURCE_LENGTH",35721:"ACTIVE_ATTRIBUTES",35722:"ACTIVE_ATTRIBUTE_MAX_LENGTH",35724:"SHADING_LANGUAGE_VERSION",35725:"CURRENT_PROGRAM",36003:"STENCIL_BACK_REF",36004:"STENCIL_BACK_VALUE_MASK",36005:"STENCIL_BACK_WRITEMASK",36006:"FRAMEBUFFER_BINDING",36007:"RENDERBUFFER_BINDING",36048:"FRAMEBUFFER_ATTACHMENT_OBJECT_TYPE",36049:"FRAMEBUFFER_ATTACHMENT_OBJECT_NAME",36050:"FRAMEBUFFER_ATTACHMENT_TEXTURE_LEVEL",36051:"FRAMEBUFFER_ATTACHMENT_TEXTURE_CUBE_MAP_FACE",36053:"FRAMEBUFFER_COMPLETE",36054:"FRAMEBUFFER_INCOMPLETE_ATTACHMENT",36055:"FRAMEBUFFER_INCOMPLETE_MISSING_ATTACHMENT",36057:"FRAMEBUFFER_INCOMPLETE_DIMENSIONS",36061:"FRAMEBUFFER_UNSUPPORTED",36064:"COLOR_ATTACHMENT0",36096:"DEPTH_ATTACHMENT",36128:"STENCIL_ATTACHMENT",36160:"FRAMEBUFFER",36161:"RENDERBUFFER",36162:"RENDERBUFFER_WIDTH",36163:"RENDERBUFFER_HEIGHT",36164:"RENDERBUFFER_INTERNAL_FORMAT",36168:"STENCIL_INDEX8",36176:"RENDERBUFFER_RED_SIZE",36177:"RENDERBUFFER_GREEN_SIZE",36178:"RENDERBUFFER_BLUE_SIZE",36179:"RENDERBUFFER_ALPHA_SIZE",36180:"RENDERBUFFER_DEPTH_SIZE",36181:"RENDERBUFFER_STENCIL_SIZE",36194:"RGB565",36336:"LOW_FLOAT",36337:"MEDIUM_FLOAT",36338:"HIGH_FLOAT",36339:"LOW_INT",36340:"MEDIUM_INT",36341:"HIGH_INT",36346:"SHADER_COMPILER",36347:"MAX_VERTEX_UNIFORM_VECTORS",36348:"MAX_VARYING_VECTORS",36349:"MAX_FRAGMENT_UNIFORM_VECTORS",37440:"UNPACK_FLIP_Y_WEBGL",37441:"UNPACK_PREMULTIPLY_ALPHA_WEBGL",37442:"CONTEXT_LOST_WEBGL",37443:"UNPACK_COLORSPACE_CONVERSION_WEBGL",37444:"BROWSER_DEFAULT_WEBGL"}},{}],WP8n:[function(e,t,r){var n=e("./1.0/numbers");t.exports=function(e){return n[e]}},{"./1.0/numbers":"P29P"}],"1+Ac":[function(e,t,r){t.exports=["precision","highp","mediump","lowp","attribute","const","uniform","varying","break","continue","do","for","while","if","else","in","out","inout","float","int","uint","void","bool","true","false","discard","return","mat2","mat3","mat4","vec2","vec3","vec4","ivec2","ivec3","ivec4","bvec2","bvec3","bvec4","sampler1D","sampler2D","sampler3D","samplerCube","sampler1DShadow","sampler2DShadow","struct","asm","class","union","enum","typedef","template","this","packed","goto","switch","default","inline","noinline","volatile","public","static","extern","external","interface","long","short","double","half","fixed","unsigned","input","output","hvec2","hvec3","hvec4","dvec2","dvec3","dvec4","fvec2","fvec3","fvec4","sampler2DRect","sampler3DRect","sampler2DRectShadow","sizeof","cast","namespace","using"]},{}],Upv1:[function(e,t,r){t.exports=["<<=",">>=","++","--","<<",">>","<=",">=","==","!=","&&","||","+=","-=","*=","/=","%=","&=","^^","^=","|=","(",")","[","]",".","!","~","*","/","%","+","-","<",">","&","^","|","?",":","=",",",";","{","}"]},{}],"7RDA":[function(e,t,r){t.exports=["abs","acos","all","any","asin","atan","ceil","clamp","cos","cross","dFdx","dFdy","degrees","distance","dot","equal","exp","exp2","faceforward","floor","fract","gl_BackColor","gl_BackLightModelProduct","gl_BackLightProduct","gl_BackMaterial","gl_BackSecondaryColor","gl_ClipPlane","gl_ClipVertex","gl_Color","gl_DepthRange","gl_DepthRangeParameters","gl_EyePlaneQ","gl_EyePlaneR","gl_EyePlaneS","gl_EyePlaneT","gl_Fog","gl_FogCoord","gl_FogFragCoord","gl_FogParameters","gl_FragColor","gl_FragCoord","gl_FragData","gl_FragDepth","gl_FragDepthEXT","gl_FrontColor","gl_FrontFacing","gl_FrontLightModelProduct","gl_FrontLightProduct","gl_FrontMaterial","gl_FrontSecondaryColor","gl_LightModel","gl_LightModelParameters","gl_LightModelProducts","gl_LightProducts","gl_LightSource","gl_LightSourceParameters","gl_MaterialParameters","gl_MaxClipPlanes","gl_MaxCombinedTextureImageUnits","gl_MaxDrawBuffers","gl_MaxFragmentUniformComponents","gl_MaxLights","gl_MaxTextureCoords","gl_MaxTextureImageUnits","gl_MaxTextureUnits","gl_MaxVaryingFloats","gl_MaxVertexAttribs","gl_MaxVertexTextureImageUnits","gl_MaxVertexUniformComponents","gl_ModelViewMatrix","gl_ModelViewMatrixInverse","gl_ModelViewMatrixInverseTranspose","gl_ModelViewMatrixTranspose","gl_ModelViewProjectionMatrix","gl_ModelViewProjectionMatrixInverse","gl_ModelViewProjectionMatrixInverseTranspose","gl_ModelViewProjectionMatrixTranspose","gl_MultiTexCoord0","gl_MultiTexCoord1","gl_MultiTexCoord2","gl_MultiTexCoord3","gl_MultiTexCoord4","gl_MultiTexCoord5","gl_MultiTexCoord6","gl_MultiTexCoord7","gl_Normal","gl_NormalMatrix","gl_NormalScale","gl_ObjectPlaneQ","gl_ObjectPlaneR","gl_ObjectPlaneS","gl_ObjectPlaneT","gl_Point","gl_PointCoord","gl_PointParameters","gl_PointSize","gl_Position","gl_ProjectionMatrix","gl_ProjectionMatrixInverse","gl_ProjectionMatrixInverseTranspose","gl_ProjectionMatrixTranspose","gl_SecondaryColor","gl_TexCoord","gl_TextureEnvColor","gl_TextureMatrix","gl_TextureMatrixInverse","gl_TextureMatrixInverseTranspose","gl_TextureMatrixTranspose","gl_Vertex","greaterThan","greaterThanEqual","inversesqrt","length","lessThan","lessThanEqual","log","log2","matrixCompMult","max","min","mix","mod","normalize","not","notEqual","pow","radians","reflect","refract","sign","sin","smoothstep","sqrt","step","tan","texture2D","texture2DLod","texture2DProj","texture2DProjLod","textureCube","textureCubeLod","texture2DLodEXT","texture2DProjLodEXT","textureCubeLodEXT","texture2DGradEXT","texture2DProjGradEXT","textureCubeGradEXT"]},{}],zeoU:[function(e,t,r){var n=e("./literals");t.exports=n.slice().concat(["layout","centroid","smooth","case","mat2x2","mat2x3","mat2x4","mat3x2","mat3x3","mat3x4","mat4x2","mat4x3","mat4x4","uvec2","uvec3","uvec4","samplerCubeShadow","sampler2DArray","sampler2DArrayShadow","isampler2D","isampler3D","isamplerCube","isampler2DArray","usampler2D","usampler3D","usamplerCube","usampler2DArray","coherent","restrict","readonly","writeonly","resource","atomic_uint","noperspective","patch","sample","subroutine","common","partition","active","filter","image1D","image2D","image3D","imageCube","iimage1D","iimage2D","iimage3D","iimageCube","uimage1D","uimage2D","uimage3D","uimageCube","image1DArray","image2DArray","iimage1DArray","iimage2DArray","uimage1DArray","uimage2DArray","image1DShadow","image2DShadow","image1DArrayShadow","image2DArrayShadow","imageBuffer","iimageBuffer","uimageBuffer","sampler1DArray","sampler1DArrayShadow","isampler1D","isampler1DArray","usampler1D","usampler1DArray","isampler2DRect","usampler2DRect","samplerBuffer","isamplerBuffer","usamplerBuffer","sampler2DMS","isampler2DMS","usampler2DMS","sampler2DMSArray","isampler2DMSArray","usampler2DMSArray"])},{"./literals":"1+Ac"}],xM6f:[function(e,t,r){var n=e("./builtins");n=n.slice().filter(function(e){return!/^(gl\_|texture)/.test(e)}),t.exports=n.concat(["gl_VertexID","gl_InstanceID","gl_Position","gl_PointSize","gl_FragCoord","gl_FrontFacing","gl_FragDepth","gl_PointCoord","gl_MaxVertexAttribs","gl_MaxVertexUniformVectors","gl_MaxVertexOutputVectors","gl_MaxFragmentInputVectors","gl_MaxVertexTextureImageUnits","gl_MaxCombinedTextureImageUnits","gl_MaxTextureImageUnits","gl_MaxFragmentUniformVectors","gl_MaxDrawBuffers","gl_MinProgramTexelOffset","gl_MaxProgramTexelOffset","gl_DepthRangeParameters","gl_DepthRange","trunc","round","roundEven","isnan","isinf","floatBitsToInt","floatBitsToUint","intBitsToFloat","uintBitsToFloat","packSnorm2x16","unpackSnorm2x16","packUnorm2x16","unpackUnorm2x16","packHalf2x16","unpackHalf2x16","outerProduct","transpose","determinant","inverse","texture","textureSize","textureProj","textureLod","textureOffset","texelFetch","texelFetchOffset","textureProjOffset","textureLodOffset","textureProjLod","textureProjLodOffset","textureGrad","textureGradOffset","textureProjGrad","textureProjGradOffset"])},{"./builtins":"7RDA"}],"2Np4":[function(e,t,r){t.exports=function(e){var t,r,x,A=0,T=0,S=u,R=[],k=[],C=1,M=0,I=0,L=!1,N=!1,O="",P=a,D=n;"300 es"===(e=e||{}).version&&(P=o,D=s);var U={},B={};for(A=0;A<P.length;A++)U[P[A]]=!0;for(A=0;A<D.length;A++)B[D[A]]=!0;return function(e){return k=[],null!==e?function(e){var n;for(A=0,e.toString&&(e=e.toString()),O+=e.replace(/\r\n/g,"\n"),x=O.length;t=O[A],A<x;){switch(n=A,S){case h:A="/"===t&&"*"===r?(R.push(t),F(R.join("")),S=u,A+1):(R.push(t),r=t,A+1);break;case c:case f:A="\r"!==t&&"\n"!==t||"\\"===r?(R.push(t),r=t,A+1):(F(R.join("")),S=u,A);break;case d:A=j();break;case p:A="."===t?(R.push(t),S=m,r=t,A+1):/[eE]/.test(t)?(R.push(t),S=m,r=t,A+1):"x"===t&&1===R.length&&"0"===R[0]?(S=w,R.push(t),r=t,A+1):/[^\d]/.test(t)?(F(R.join("")),S=u,A):(R.push(t),r=t,A+1);break;case w:A=/[^a-fA-F0-9]/.test(t)?(F(R.join("")),S=u,A):(R.push(t),r=t,A+1);break;case m:"f"===t&&(R.push(t),r=t,A+=1),A=/[eE]/.test(t)?(R.push(t),r=t,A+1):("-"!==t&&"+"!==t||!/[eE]/.test(r))&&/[^\d]/.test(t)?(F(R.join("")),S=u,A):(R.push(t),r=t,A+1);break;case l:A=V();break;case b:A=/[^\s]/g.test(t)?(F(R.join("")),S=u,A):(R.push(t),r=t,A+1);break;case u:R=R.length?[]:R,A="/"===r&&"*"===t?(I=T+A-1,S=h,r=t,A+1):"/"===r&&"/"===t?(I=T+A-1,S=c,r=t,A+1):"#"===t?(S=f,I=T+A,A):/\s/.test(t)?(S=b,I=T+A,A):(L=/\d/.test(t),N=/[^\w_]/.test(t),I=T+A,S=L?p:N?d:l,A)}if(n!==A)switch(O[n]){case"\n":M=0,++C;break;default:++M}}return T+=A,O=O.slice(A),k}(e):(R.length&&F(R.join("")),S=y,F("(eof)"),k)};function F(e){e.length&&k.push({type:E[S],data:e,position:I,line:C,column:M})}function j(){if("."===r&&/\d/.test(t))return S=m,A;if("/"===r&&"*"===t)return S=h,A;if("/"===r&&"/"===t)return S=c,A;if("."===t&&R.length){for(;z(R););return S=m,A}if(";"===t||")"===t||"("===t){if(R.length)for(;z(R););return F(t),S=u,A+1}var e=2===R.length&&"="!==t;if(/[\w_\d\s]/.test(t)||e){for(;z(R););return S=u,A}return R.push(t),r=t,A+1}function z(e){for(var t,r,n=0;;){if(t=i.indexOf(e.slice(0,e.length+n).join("")),r=i[t],-1===t){if(n--+e.length>0)continue;r=e.slice(0,1).join("")}return F(r),I+=r.length,(R=R.slice(r.length)).length}}function V(){if(/[^\d\w_]/.test(t)){var e=R.join("");return S=B[e]?_:U[e]?v:g,F(R.join("")),S=u,A}return R.push(t),r=t,A+1}};var n=e("./lib/literals"),i=e("./lib/operators"),a=e("./lib/builtins"),s=e("./lib/literals-300es"),o=e("./lib/builtins-300es"),u=999,l=9999,h=0,c=1,f=2,d=3,p=4,m=5,g=6,v=7,_=8,b=9,y=10,w=11,E=["block-comment","line-comment","preprocessor","operator","integer","float","ident","builtin","keyword","whitespace","eof","integer"]},{"./lib/literals":"1+Ac","./lib/operators":"Upv1","./lib/builtins":"7RDA","./lib/literals-300es":"zeoU","./lib/builtins-300es":"xM6f"}],qTvY:[function(e,t,r){var n=e("./index");t.exports=function(e,t){var r=n(t),i=[];return(i=i.concat(r(e))).concat(r(null))}},{"./index":"2Np4"}],Ylh2:[function(e,t,r){t.exports=function(e){return atob(e)}},{}],f7tL:[function(e,t,r){var n=e("glsl-tokenizer"),i=e("atob-lite");t.exports=function(e){for(var t=Array.isArray(e)?e:n(e),r=0;r<t.length;r++){var a=t[r];if("preprocessor"===a.type){var s=a.data.match(/\#define\s+SHADER_NAME(_B64)?\s+(.+)$/);if(s&&s[2]){var o=s[1],u=s[2];return(o?i(u):u).trim()}}}}},{"glsl-tokenizer":"qTvY","atob-lite":"Ylh2"}],nhwh:[function(e,t,r){"use strict";var n,i="";t.exports=function(e,t){if("string"!=typeof e)throw new TypeError("expected a string");if(1===t)return e;if(2===t)return e+e;var r=e.length*t;if(n!==e||void 0===n)n=e,i="";else if(i.length>=r)return i.substr(0,r);for(;r>i.length&&t>1;)1&t&&(i+=e),t>>=1,e+=e;return i=(i+=e).substr(0,r)}},{}],IZpX:[function(e,t,r){"use strict";var n=e("repeat-string");t.exports=function(e,t,r){return n(r=void 0!==r?r+"":" ",t)+e}},{"repeat-string":"nhwh"}],"P+TM":[function(e,t,r){var n=e("pad-left");t.exports=function(e,t,r){t="number"==typeof t?t:1,r=r||": ";var i=e.split(/\r?\n/),a=String(i.length+t-1).length;return i.map(function(e,i){var s=i+t,o=String(s).length;return n(s,a-o)+r+e}).join("\n")}},{"pad-left":"IZpX"}],"3ox6":[function(e,t,r){var n=e("sprintf-js").sprintf,i=e("gl-constants/lookup"),a=e("glsl-shader-name"),s=e("add-line-numbers");t.exports=function(e,t,r){"use strict";var o=a(t)||"of unknown name (see npm glsl-shader-name)",u="unknown type";void 0!==r&&(u=r===i.FRAGMENT_SHADER?"fragment":"vertex");for(var l=n("Error compiling %s shader %s:\n",u,o),h=n("%s%s",l,e),c=e.split("\n"),f={},d=0;d<c.length;d++){var p=c[d];if(""!==p&&"\0"!==p){var m=parseInt(p.split(":")[2]);if(isNaN(m))throw new Error(n("Could not parse error: %s",p));f[m]=p}}var g=s(t).split("\n");for(d=0;d<g.length;d++)if((f[d+3]||f[d+2]||f[d+1])&&(l+=g[d]+"\n",f[d+1])){var v=f[d+1];v=v.substr(v.split(":",3).join(":").length+1).trim(),l+=n("^^^ %s\n\n",v)}return{long:l.trim(),short:h.trim()}}},{"sprintf-js":"wcjg","gl-constants/lookup":"WP8n","glsl-shader-name":"f7tL","add-line-numbers":"P+TM"}],A5Yq:[function(e,t,r){t.exports=function(e,t){var r={identity:t},n=e.valueOf;return Object.defineProperty(e,"valueOf",{value:function(e){return e!==t?n.apply(this,arguments):r},writable:!0}),r}},{}],bior:[function(e,t,r){var n=e("./hidden-store.js");t.exports=function(){var e={};return function(t){if(("object"!=typeof t||null===t)&&"function"!=typeof t)throw new Error("Weakmap-shim: Key must be object");var r=t.valueOf(e);return r&&r.identity===e?r:n(t,e)}}},{"./hidden-store.js":"A5Yq"}],"1UYZ":[function(e,t,r){var n=e("./create-store.js");t.exports=function(){var e=n();return{get:function(t,r){var n=e(t);return n.hasOwnProperty("value")?n.value:r},set:function(t,r){return e(t).value=r,this},has:function(t){return"value"in e(t)},delete:function(t){return delete e(t).value}}}},{"./create-store.js":"bior"}],aI5b:[function(e,t,r){"use strict";r.shader=function(e,t,r){return f(e).getShaderReference(t,r)},r.program=function(e,t,r,n,i){return f(e).getProgram(t,r,n,i)};var n=e("./GLError"),i=e("gl-format-compiler-error"),a=new("undefined"==typeof WeakMap?e("weakmap-shim"):WeakMap),s=0;function o(e,t,r,n,i,a,s){this.id=e,this.src=t,this.type=r,this.shader=n,this.count=a,this.programs=[],this.cache=s}function u(e){this.gl=e,this.shaders=[{},{}],this.programs={}}o.prototype.dispose=function(){if(0==--this.count){for(var e=this.cache,t=e.gl,r=this.programs,n=0,i=r.length;n<i;++n){var a=e.programs[r[n]];a&&(delete e.programs[n],t.deleteProgram(a))}t.deleteShader(this.shader),delete e.shaders[this.type===t.FRAGMENT_SHADER|0][this.src]}};var l=u.prototype;function h(e,t,r){var a=e.createShader(t);if(e.shaderSource(a,r),e.compileShader(a),!e.getShaderParameter(a,e.COMPILE_STATUS)){var s=e.getShaderInfoLog(a);try{var o=i(s,r,t)}catch(h){throw console.warn("Failed to format compiler error: "+h),new n(s,"Error compiling shader:\n"+s)}throw new n(s,o.short,o.long)}return a}function c(e,t,r,i,a){var s=e.createProgram();e.attachShader(s,t),e.attachShader(s,r);for(var o=0;o<i.length;++o)e.bindAttribLocation(s,a[o],i[o]);if(e.linkProgram(s),!e.getProgramParameter(s,e.LINK_STATUS)){var u=e.getProgramInfoLog(s);throw new n(u,"Error linking program: "+u)}return s}function f(e){var t=a.get(e);return t||(t=new u(e),a.set(e,t)),t}l.getShaderReference=function(e,t){var r=this.gl,n=this.shaders[e===r.FRAGMENT_SHADER|0],i=n[t];if(i&&r.isShader(i.shader))i.count+=1;else{var a=h(r,e,t);i=n[t]=new o(s++,t,e,a,[],1,this)}return i},l.getProgram=function(e,t,r,n){var i=[e.id,t.id,r.join(":"),n.join(":")].join("@"),a=this.programs[i];return a&&this.gl.isProgram(a)||(this.programs[i]=a=c(this.gl,e.shader,t.shader,r,n),e.programs.push(i),t.programs.push(i)),a}},{"./GLError":"f+nq","gl-format-compiler-error":"3ox6","weakmap-shim":"1UYZ"}],jBqk:[function(e,t,r){"use strict";r.uniforms=function(e,t){for(var r=e.getProgramParameter(t,e.ACTIVE_UNIFORMS),n=[],i=0;i<r;++i){var s=e.getActiveUniform(t,i);if(s){var o=a(e,s.type);if(s.size>1)for(var u=0;u<s.size;++u)n.push({name:s.name.replace("[0]","["+u+"]"),type:o});else n.push({name:s.name,type:o})}}return n},r.attributes=function(e,t){for(var r=e.getProgramParameter(t,e.ACTIVE_ATTRIBUTES),n=[],i=0;i<r;++i){var s=e.getActiveAttrib(t,i);s&&n.push({name:s.name,type:a(e,s.type)})}return n};var n={FLOAT:"float",FLOAT_VEC2:"vec2",FLOAT_VEC3:"vec3",FLOAT_VEC4:"vec4",INT:"int",INT_VEC2:"ivec2",INT_VEC3:"ivec3",INT_VEC4:"ivec4",BOOL:"bool",BOOL_VEC2:"bvec2",BOOL_VEC3:"bvec3",BOOL_VEC4:"bvec4",FLOAT_MAT2:"mat2",FLOAT_MAT3:"mat3",FLOAT_MAT4:"mat4",SAMPLER_2D:"sampler2D",SAMPLER_CUBE:"samplerCube"},i=null;function a(e,t){if(!i){var r=Object.keys(n);i={};for(var a=0;a<r.length;++a){var s=r[a];i[e[s]]=n[s]}}return i[t]}},{}],"uU+/":[function(e,t,r){"use strict";var n=e("./lib/create-uniforms"),i=e("./lib/create-attributes"),a=e("./lib/reflect"),s=e("./lib/shader-cache"),o=e("./lib/runtime-reflect"),u=e("./lib/GLError");function l(e){this.gl=e,this.gl.lastAttribCount=0,this._vref=this._fref=this._relink=this.vertShader=this.fragShader=this.program=this.attributes=this.uniforms=this.types=null}var h=l.prototype;function c(e,t){return e.name<t.name?-1:1}h.bind=function(){var e;this.program||this._relink();var t=this.gl.getProgramParameter(this.program,this.gl.ACTIVE_ATTRIBUTES),r=this.gl.lastAttribCount;if(t>r)for(e=r;e<t;e++)this.gl.enableVertexAttribArray(e);else if(r>t)for(e=t;e<r;e++)this.gl.disableVertexAttribArray(e);this.gl.lastAttribCount=t,this.gl.useProgram(this.program)},h.dispose=function(){for(var e=this.gl.lastAttribCount,t=0;t<e;t++)this.gl.disableVertexAttribArray(t);this.gl.lastAttribCount=0,this._fref&&this._fref.dispose(),this._vref&&this._vref.dispose(),this.attributes=this.types=this.vertShader=this.fragShader=this.program=this._relink=this._fref=this._vref=null},h.update=function(e,t,r,l){if(!t||1===arguments.length){var h=e;e=h.vertex,t=h.fragment,r=h.uniforms,l=h.attributes}var f=this,d=f.gl,p=f._vref;f._vref=s.shader(d,d.VERTEX_SHADER,e),p&&p.dispose(),f.vertShader=f._vref.shader;var m=this._fref;if(f._fref=s.shader(d,d.FRAGMENT_SHADER,t),m&&m.dispose(),f.fragShader=f._fref.shader,!r||!l){var g=d.createProgram();if(d.attachShader(g,f.fragShader),d.attachShader(g,f.vertShader),d.linkProgram(g),!d.getProgramParameter(g,d.LINK_STATUS)){var v=d.getProgramInfoLog(g);throw new u(v,"Error linking program:"+v)}r=r||o.uniforms(d,g),l=l||o.attributes(d,g),d.deleteProgram(g)}(l=l.slice()).sort(c);var _,b=[],y=[],w=[];for(_=0;_<l.length;++_){var E=l[_];if(E.type.indexOf("mat")>=0){for(var x=0|E.type.charAt(E.type.length-1),A=new Array(x),T=0;T<x;++T)A[T]=w.length,y.push(E.name+"["+T+"]"),"number"==typeof E.location?w.push(E.location+T):Array.isArray(E.location)&&E.location.length===x&&"number"==typeof E.location[T]?w.push(0|E.location[T]):w.push(-1);b.push({name:E.name,type:E.type,locations:A})}else b.push({name:E.name,type:E.type,locations:[w.length]}),y.push(E.name),"number"==typeof E.location?w.push(0|E.location):w.push(-1)}var S=0;for(_=0;_<w.length;++_)if(w[_]<0){for(;w.indexOf(S)>=0;)S+=1;w[_]=S}var R=new Array(r.length);function k(){f.program=s.program(d,f._vref,f._fref,y,w);for(var e=0;e<r.length;++e)R[e]=d.getUniformLocation(f.program,r[e].name)}k(),f._relink=k,f.types={uniforms:a(r),attributes:a(l)},f.attributes=i(d,f,b,w),Object.defineProperty(f,"uniforms",n(d,f,r,R))},t.exports=function(e,t,r,n,i){var a=new l(e);return a.update(t,r,n,i),a}},{"./lib/create-uniforms":"ATFE","./lib/create-attributes":"za74","./lib/reflect":"yFAN","./lib/shader-cache":"aI5b","./lib/runtime-reflect":"jBqk","./lib/GLError":"f+nq"}],Tpxu:[function(e,t,r){"use strict";var n=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(r,"__esModule",{value:!0});const i=n(e("./glsl/vertex.glsl")),a=n(e("./glsl/fragment.glsl")),s=n(e("./glsl/pick.glsl")),o=n(e("gl-shader")),u={mesh:a.default,pick:s.default};r.default=function(e,t="mesh"){let r=i.default,n=u[t]||void 0;if(!n)throw new Error(`${t} is not a valid fragment shader`);let a=o.default(e,r,n,void 0,[{name:"worldCoordinate",type:"vec3"},{name:"normal",type:"vec3"},{name:"uv",type:"vec2"}]);return a.attributes.worldCoordinate.location=0,a.attributes.normal.location=1,a.attributes.uv.location=2,a}},{"./glsl/vertex.glsl":"HfRb","./glsl/fragment.glsl":"u9LC","./glsl/pick.glsl":"wYTo","gl-shader":"uU+/"}],"1IGT":[function(e,t,r){"use strict";var n=e("typedarray-pool"),i=e("ndarray-ops"),a=e("ndarray"),s=["uint8","uint8_clamped","uint16","uint32","int8","int16","int32","float32"];function o(e,t,r,n,i){this.gl=e,this.type=t,this.handle=r,this.length=n,this.usage=i}var u=o.prototype;function l(e,t,r,n,i,a){var s=i.length*i.BYTES_PER_ELEMENT;if(a<0)return e.bufferData(t,i,n),s;if(s+a>r)throw new Error("gl-buffer: If resizing buffer, must not specify offset");return e.bufferSubData(t,a,i),r}function h(e,t){for(var r=n.malloc(e.length,t),i=e.length,a=0;a<i;++a)r[a]=e[a];return r}u.bind=function(){this.gl.bindBuffer(this.type,this.handle)},u.unbind=function(){this.gl.bindBuffer(this.type,null)},u.dispose=function(){this.gl.deleteBuffer(this.handle)},u.update=function(e,t){if("number"!=typeof t&&(t=-1),this.bind(),"object"==typeof e&&void 0!==e.shape){var r=e.dtype;if(s.indexOf(r)<0&&(r="float32"),this.type===this.gl.ELEMENT_ARRAY_BUFFER&&(r=gl.getExtension("OES_element_index_uint")&&"uint16"!==r?"uint32":"uint16"),r===e.dtype&&function(e,t){for(var r=1,n=t.length-1;n>=0;--n){if(t[n]!==r)return!1;r*=e[n]}return!0}(e.shape,e.stride))0===e.offset&&e.data.length===e.shape[0]?this.length=l(this.gl,this.type,this.length,this.usage,e.data,t):this.length=l(this.gl,this.type,this.length,this.usage,e.data.subarray(e.offset,e.shape[0]),t);else{var o=n.malloc(e.size,r),u=a(o,e.shape);i.assign(u,e),this.length=l(this.gl,this.type,this.length,this.usage,t<0?o:o.subarray(0,e.size),t),n.free(o)}}else if(Array.isArray(e)){var c;c=this.type===this.gl.ELEMENT_ARRAY_BUFFER?h(e,"uint16"):h(e,"float32"),this.length=l(this.gl,this.type,this.length,this.usage,t<0?c:c.subarray(0,e.length),t),n.free(c)}else if("object"==typeof e&&"number"==typeof e.length)this.length=l(this.gl,this.type,this.length,this.usage,e,t);else{if("number"!=typeof e&&void 0!==e)throw new Error("gl-buffer: Invalid data type");if(t>=0)throw new Error("gl-buffer: Cannot specify offset when resizing buffer");(e|=0)<=0&&(e=1),this.gl.bufferData(this.type,0|e,this.usage),this.length=e}},t.exports=function(e,t,r,n){if(r=r||e.ARRAY_BUFFER,n=n||e.DYNAMIC_DRAW,r!==e.ARRAY_BUFFER&&r!==e.ELEMENT_ARRAY_BUFFER)throw new Error("gl-buffer: Invalid type for webgl buffer, must be either gl.ARRAY_BUFFER or gl.ELEMENT_ARRAY_BUFFER");if(n!==e.DYNAMIC_DRAW&&n!==e.STATIC_DRAW&&n!==e.STREAM_DRAW)throw new Error("gl-buffer: Invalid usage for buffer, must be either gl.DYNAMIC_DRAW, gl.STATIC_DRAW or gl.STREAM_DRAW");var i=e.createBuffer(),a=new o(e,r,i,0,n);return a.update(t),a}},{"typedarray-pool":"vfn/","ndarray-ops":"o12b",ndarray:"cMKA"}],dYB2:[function(e,t,r){"use strict";t.exports=function(e,t,r){t?t.bind():e.bindBuffer(e.ELEMENT_ARRAY_BUFFER,null);var n=0|e.getParameter(e.MAX_VERTEX_ATTRIBS);if(r){if(r.length>n)throw new Error("gl-vao: Too many vertex attributes");for(var i=0;i<r.length;++i){var a=r[i];if(a.buffer){var s=a.buffer,o=a.size||4,u=a.type||e.FLOAT,l=!!a.normalized,h=a.stride||0,c=a.offset||0;s.bind(),e.enableVertexAttribArray(i),e.vertexAttribPointer(i,o,u,l,h,c)}else{if("number"==typeof a)e.vertexAttrib1f(i,a);else if(1===a.length)e.vertexAttrib1f(i,a[0]);else if(2===a.length)e.vertexAttrib2f(i,a[0],a[1]);else if(3===a.length)e.vertexAttrib3f(i,a[0],a[1],a[2]);else{if(4!==a.length)throw new Error("gl-vao: Invalid vertex attribute");e.vertexAttrib4f(i,a[0],a[1],a[2],a[3])}e.disableVertexAttribArray(i)}}for(;i<n;++i)e.disableVertexAttribArray(i)}else for(e.bindBuffer(e.ARRAY_BUFFER,null),i=0;i<n;++i)e.disableVertexAttribArray(i)}},{}],AjWg:[function(e,t,r){"use strict";var n=e("./do-bind.js");function i(e,t,r,n,i,a){this.location=e,this.dimension=t,this.a=r,this.b=n,this.c=i,this.d=a}function a(e,t,r){this.gl=e,this._ext=t,this.handle=r,this._attribs=[],this._useElements=!1,this._elementsType=e.UNSIGNED_SHORT}i.prototype.bind=function(e){switch(this.dimension){case 1:e.vertexAttrib1f(this.location,this.a);break;case 2:e.vertexAttrib2f(this.location,this.a,this.b);break;case 3:e.vertexAttrib3f(this.location,this.a,this.b,this.c);break;case 4:e.vertexAttrib4f(this.location,this.a,this.b,this.c,this.d)}},a.prototype.bind=function(){this._ext.bindVertexArrayOES(this.handle);for(var e=0;e<this._attribs.length;++e)this._attribs[e].bind(this.gl)},a.prototype.unbind=function(){this._ext.bindVertexArrayOES(null)},a.prototype.dispose=function(){this._ext.deleteVertexArrayOES(this.handle)},a.prototype.update=function(e,t,r){if(this.bind(),n(this.gl,t,e),this.unbind(),this._attribs.length=0,e)for(var a=0;a<e.length;++a){var s=e[a];"number"==typeof s?this._attribs.push(new i(a,1,s)):Array.isArray(s)&&this._attribs.push(new i(a,s.length,s[0],s[1],s[2],s[3]))}this._useElements=!!t,this._elementsType=r||this.gl.UNSIGNED_SHORT},a.prototype.draw=function(e,t,r){r=r||0;var n=this.gl;this._useElements?n.drawElements(e,t,this._elementsType,r):n.drawArrays(e,r,t)},t.exports=function(e,t){return new a(e,t,t.createVertexArrayOES())}},{"./do-bind.js":"dYB2"}],RyM8:[function(e,t,r){"use strict";var n=e("./do-bind.js");function i(e){this.gl=e,this._elements=null,this._attributes=null,this._elementsType=e.UNSIGNED_SHORT}i.prototype.bind=function(){n(this.gl,this._elements,this._attributes)},i.prototype.update=function(e,t,r){this._elements=t,this._attributes=e,this._elementsType=r||this.gl.UNSIGNED_SHORT},i.prototype.dispose=function(){},i.prototype.unbind=function(){},i.prototype.draw=function(e,t,r){r=r||0;var n=this.gl;this._elements?n.drawElements(e,t,this._elementsType,r):n.drawArrays(e,r,t)},t.exports=function(e){return new i(e)}},{"./do-bind.js":"dYB2"}],V1D6:[function(e,t,r){"use strict";var n=e("./lib/vao-native.js"),i=e("./lib/vao-emulated.js");function a(e){this.bindVertexArrayOES=e.bindVertexArray.bind(e),this.createVertexArrayOES=e.createVertexArray.bind(e),this.deleteVertexArrayOES=e.deleteVertexArray.bind(e)}t.exports=function(e,t,r,s){var o,u=e.createVertexArray?new a(e):e.getExtension("OES_vertex_array_object");return(o=u?n(e,u):i(e)).update(t,r,s),o}},{"./lib/vao-native.js":"AjWg","./lib/vao-emulated.js":"RyM8"}],CJSY:[function(e,t,r){t.exports=function(){var e=new Float32Array(16);return e[0]=1,e[1]=0,e[2]=0,e[3]=0,e[4]=0,e[5]=1,e[6]=0,e[7]=0,e[8]=0,e[9]=0,e[10]=1,e[11]=0,e[12]=0,e[13]=0,e[14]=0,e[15]=1,e}},{}],bLoX:[function(e,t,r){t.exports=function(e){var t=new Float32Array(16);return t[0]=e[0],t[1]=e[1],t[2]=e[2],t[3]=e[3],t[4]=e[4],t[5]=e[5],t[6]=e[6],t[7]=e[7],t[8]=e[8],t[9]=e[9],t[10]=e[10],t[11]=e[11],t[12]=e[12],t[13]=e[13],t[14]=e[14],t[15]=e[15],t}},{}],mCqr:[function(e,t,r){t.exports=function(e,t){return e[0]=t[0],e[1]=t[1],e[2]=t[2],e[3]=t[3],e[4]=t[4],e[5]=t[5],e[6]=t[6],e[7]=t[7],e[8]=t[8],e[9]=t[9],e[10]=t[10],e[11]=t[11],e[12]=t[12],e[13]=t[13],e[14]=t[14],e[15]=t[15],e}},{}],"xBp+":[function(e,t,r){t.exports=function(e){return e[0]=1,e[1]=0,e[2]=0,e[3]=0,e[4]=0,e[5]=1,e[6]=0,e[7]=0,e[8]=0,e[9]=0,e[10]=1,e[11]=0,e[12]=0,e[13]=0,e[14]=0,e[15]=1,e}},{}],TUrw:[function(e,t,r){t.exports=function(e,t){if(e===t){var r=t[1],n=t[2],i=t[3],a=t[6],s=t[7],o=t[11];e[1]=t[4],e[2]=t[8],e[3]=t[12],e[4]=r,e[6]=t[9],e[7]=t[13],e[8]=n,e[9]=a,e[11]=t[14],e[12]=i,e[13]=s,e[14]=o}else e[0]=t[0],e[1]=t[4],e[2]=t[8],e[3]=t[12],e[4]=t[1],e[5]=t[5],e[6]=t[9],e[7]=t[13],e[8]=t[2],e[9]=t[6],e[10]=t[10],e[11]=t[14],e[12]=t[3],e[13]=t[7],e[14]=t[11],e[15]=t[15];return e}},{}],OS9i:[function(e,t,r){t.exports=function(e,t){var r=t[0],n=t[1],i=t[2],a=t[3],s=t[4],o=t[5],u=t[6],l=t[7],h=t[8],c=t[9],f=t[10],d=t[11],p=t[12],m=t[13],g=t[14],v=t[15],_=r*o-n*s,b=r*u-i*s,y=r*l-a*s,w=n*u-i*o,E=n*l-a*o,x=i*l-a*u,A=h*m-c*p,T=h*g-f*p,S=h*v-d*p,R=c*g-f*m,k=c*v-d*m,C=f*v-d*g,M=_*C-b*k+y*R+w*S-E*T+x*A;return M?(M=1/M,e[0]=(o*C-u*k+l*R)*M,e[1]=(i*k-n*C-a*R)*M,e[2]=(m*x-g*E+v*w)*M,e[3]=(f*E-c*x-d*w)*M,e[4]=(u*S-s*C-l*T)*M,e[5]=(r*C-i*S+a*T)*M,e[6]=(g*y-p*x-v*b)*M,e[7]=(h*x-f*y+d*b)*M,e[8]=(s*k-o*S+l*A)*M,e[9]=(n*S-r*k-a*A)*M,e[10]=(p*E-m*y+v*_)*M,e[11]=(c*y-h*E-d*_)*M,e[12]=(o*T-s*R-u*A)*M,e[13]=(r*R-n*T+i*A)*M,e[14]=(m*b-p*w-g*_)*M,e[15]=(h*w-c*b+f*_)*M,e):null}},{}],Fgz6:[function(e,t,r){t.exports=function(e,t){var r=t[0],n=t[1],i=t[2],a=t[3],s=t[4],o=t[5],u=t[6],l=t[7],h=t[8],c=t[9],f=t[10],d=t[11],p=t[12],m=t[13],g=t[14],v=t[15];return e[0]=o*(f*v-d*g)-c*(u*v-l*g)+m*(u*d-l*f),e[1]=-(n*(f*v-d*g)-c*(i*v-a*g)+m*(i*d-a*f)),e[2]=n*(u*v-l*g)-o*(i*v-a*g)+m*(i*l-a*u),e[3]=-(n*(u*d-l*f)-o*(i*d-a*f)+c*(i*l-a*u)),e[4]=-(s*(f*v-d*g)-h*(u*v-l*g)+p*(u*d-l*f)),e[5]=r*(f*v-d*g)-h*(i*v-a*g)+p*(i*d-a*f),e[6]=-(r*(u*v-l*g)-s*(i*v-a*g)+p*(i*l-a*u)),e[7]=r*(u*d-l*f)-s*(i*d-a*f)+h*(i*l-a*u),e[8]=s*(c*v-d*m)-h*(o*v-l*m)+p*(o*d-l*c),e[9]=-(r*(c*v-d*m)-h*(n*v-a*m)+p*(n*d-a*c)),e[10]=r*(o*v-l*m)-s*(n*v-a*m)+p*(n*l-a*o),e[11]=-(r*(o*d-l*c)-s*(n*d-a*c)+h*(n*l-a*o)),e[12]=-(s*(c*g-f*m)-h*(o*g-u*m)+p*(o*f-u*c)),e[13]=r*(c*g-f*m)-h*(n*g-i*m)+p*(n*f-i*c),e[14]=-(r*(o*g-u*m)-s*(n*g-i*m)+p*(n*u-i*o)),e[15]=r*(o*f-u*c)-s*(n*f-i*c)+h*(n*u-i*o),e}},{}],"5JuV":[function(e,t,r){t.exports=function(e){var t=e[0],r=e[1],n=e[2],i=e[3],a=e[4],s=e[5],o=e[6],u=e[7],l=e[8],h=e[9],c=e[10],f=e[11],d=e[12],p=e[13],m=e[14],g=e[15];return(t*s-r*a)*(c*g-f*m)-(t*o-n*a)*(h*g-f*p)+(t*u-i*a)*(h*m-c*p)+(r*o-n*s)*(l*g-f*d)-(r*u-i*s)*(l*m-c*d)+(n*u-i*o)*(l*p-h*d)}},{}],Uhn0:[function(e,t,r){t.exports=function(e,t,r){var n=t[0],i=t[1],a=t[2],s=t[3],o=t[4],u=t[5],l=t[6],h=t[7],c=t[8],f=t[9],d=t[10],p=t[11],m=t[12],g=t[13],v=t[14],_=t[15],b=r[0],y=r[1],w=r[2],E=r[3];return e[0]=b*n+y*o+w*c+E*m,e[1]=b*i+y*u+w*f+E*g,e[2]=b*a+y*l+w*d+E*v,e[3]=b*s+y*h+w*p+E*_,b=r[4],y=r[5],w=r[6],E=r[7],e[4]=b*n+y*o+w*c+E*m,e[5]=b*i+y*u+w*f+E*g,e[6]=b*a+y*l+w*d+E*v,e[7]=b*s+y*h+w*p+E*_,b=r[8],y=r[9],w=r[10],E=r[11],e[8]=b*n+y*o+w*c+E*m,e[9]=b*i+y*u+w*f+E*g,e[10]=b*a+y*l+w*d+E*v,e[11]=b*s+y*h+w*p+E*_,b=r[12],y=r[13],w=r[14],E=r[15],e[12]=b*n+y*o+w*c+E*m,e[13]=b*i+y*u+w*f+E*g,e[14]=b*a+y*l+w*d+E*v,e[15]=b*s+y*h+w*p+E*_,e}},{}],bJFL:[function(e,t,r){t.exports=function(e,t,r){var n,i,a,s,o,u,l,h,c,f,d,p,m=r[0],g=r[1],v=r[2];return t===e?(e[12]=t[0]*m+t[4]*g+t[8]*v+t[12],e[13]=t[1]*m+t[5]*g+t[9]*v+t[13],e[14]=t[2]*m+t[6]*g+t[10]*v+t[14],e[15]=t[3]*m+t[7]*g+t[11]*v+t[15]):(n=t[0],i=t[1],a=t[2],s=t[3],o=t[4],u=t[5],l=t[6],h=t[7],c=t[8],f=t[9],d=t[10],p=t[11],e[0]=n,e[1]=i,e[2]=a,e[3]=s,e[4]=o,e[5]=u,e[6]=l,e[7]=h,e[8]=c,e[9]=f,e[10]=d,e[11]=p,e[12]=n*m+o*g+c*v+t[12],e[13]=i*m+u*g+f*v+t[13],e[14]=a*m+l*g+d*v+t[14],e[15]=s*m+h*g+p*v+t[15]),e}},{}],HTs9:[function(e,t,r){t.exports=function(e,t,r){var n=r[0],i=r[1],a=r[2];return e[0]=t[0]*n,e[1]=t[1]*n,e[2]=t[2]*n,e[3]=t[3]*n,e[4]=t[4]*i,e[5]=t[5]*i,e[6]=t[6]*i,e[7]=t[7]*i,e[8]=t[8]*a,e[9]=t[9]*a,e[10]=t[10]*a,e[11]=t[11]*a,e[12]=t[12],e[13]=t[13],e[14]=t[14],e[15]=t[15],e}},{}],sYT5:[function(e,t,r){t.exports=function(e,t,r,n){var i,a,s,o,u,l,h,c,f,d,p,m,g,v,_,b,y,w,E,x,A,T,S,R,k=n[0],C=n[1],M=n[2],I=Math.sqrt(k*k+C*C+M*M);return Math.abs(I)<1e-6?null:(k*=I=1/I,C*=I,M*=I,i=Math.sin(r),s=1-(a=Math.cos(r)),o=t[0],u=t[1],l=t[2],h=t[3],c=t[4],f=t[5],d=t[6],p=t[7],m=t[8],g=t[9],v=t[10],_=t[11],b=k*k*s+a,y=C*k*s+M*i,w=M*k*s-C*i,E=k*C*s-M*i,x=C*C*s+a,A=M*C*s+k*i,T=k*M*s+C*i,S=C*M*s-k*i,R=M*M*s+a,e[0]=o*b+c*y+m*w,e[1]=u*b+f*y+g*w,e[2]=l*b+d*y+v*w,e[3]=h*b+p*y+_*w,e[4]=o*E+c*x+m*A,e[5]=u*E+f*x+g*A,e[6]=l*E+d*x+v*A,e[7]=h*E+p*x+_*A,e[8]=o*T+c*S+m*R,e[9]=u*T+f*S+g*R,e[10]=l*T+d*S+v*R,e[11]=h*T+p*S+_*R,t!==e&&(e[12]=t[12],e[13]=t[13],e[14]=t[14],e[15]=t[15]),e)}},{}],"X+ZC":[function(e,t,r){t.exports=function(e,t,r){var n=Math.sin(r),i=Math.cos(r),a=t[4],s=t[5],o=t[6],u=t[7],l=t[8],h=t[9],c=t[10],f=t[11];return t!==e&&(e[0]=t[0],e[1]=t[1],e[2]=t[2],e[3]=t[3],e[12]=t[12],e[13]=t[13],e[14]=t[14],e[15]=t[15]),e[4]=a*i+l*n,e[5]=s*i+h*n,e[6]=o*i+c*n,e[7]=u*i+f*n,e[8]=l*i-a*n,e[9]=h*i-s*n,e[10]=c*i-o*n,e[11]=f*i-u*n,e}},{}],oVHP:[function(e,t,r){t.exports=function(e,t,r){var n=Math.sin(r),i=Math.cos(r),a=t[0],s=t[1],o=t[2],u=t[3],l=t[8],h=t[9],c=t[10],f=t[11];return t!==e&&(e[4]=t[4],e[5]=t[5],e[6]=t[6],e[7]=t[7],e[12]=t[12],e[13]=t[13],e[14]=t[14],e[15]=t[15]),e[0]=a*i-l*n,e[1]=s*i-h*n,e[2]=o*i-c*n,e[3]=u*i-f*n,e[8]=a*n+l*i,e[9]=s*n+h*i,e[10]=o*n+c*i,e[11]=u*n+f*i,e}},{}],sYuD:[function(e,t,r){t.exports=function(e,t,r){var n=Math.sin(r),i=Math.cos(r),a=t[0],s=t[1],o=t[2],u=t[3],l=t[4],h=t[5],c=t[6],f=t[7];return t!==e&&(e[8]=t[8],e[9]=t[9],e[10]=t[10],e[11]=t[11],e[12]=t[12],e[13]=t[13],e[14]=t[14],e[15]=t[15]),e[0]=a*i+l*n,e[1]=s*i+h*n,e[2]=o*i+c*n,e[3]=u*i+f*n,e[4]=l*i-a*n,e[5]=h*i-s*n,e[6]=c*i-o*n,e[7]=f*i-u*n,e}},{}],Tuda:[function(e,t,r){t.exports=function(e,t,r){var n,i,a,s=r[0],o=r[1],u=r[2],l=Math.sqrt(s*s+o*o+u*u);return Math.abs(l)<1e-6?null:(s*=l=1/l,o*=l,u*=l,n=Math.sin(t),a=1-(i=Math.cos(t)),e[0]=s*s*a+i,e[1]=o*s*a+u*n,e[2]=u*s*a-o*n,e[3]=0,e[4]=s*o*a-u*n,e[5]=o*o*a+i,e[6]=u*o*a+s*n,e[7]=0,e[8]=s*u*a+o*n,e[9]=o*u*a-s*n,e[10]=u*u*a+i,e[11]=0,e[12]=0,e[13]=0,e[14]=0,e[15]=1,e)}},{}],D8JY:[function(e,t,r){t.exports=function(e,t,r){var n=t[0],i=t[1],a=t[2],s=t[3],o=n+n,u=i+i,l=a+a,h=n*o,c=n*u,f=n*l,d=i*u,p=i*l,m=a*l,g=s*o,v=s*u,_=s*l;return e[0]=1-(d+m),e[1]=c+_,e[2]=f-v,e[3]=0,e[4]=c-_,e[5]=1-(h+m),e[6]=p+g,e[7]=0,e[8]=f+v,e[9]=p-g,e[10]=1-(h+d),e[11]=0,e[12]=r[0],e[13]=r[1],e[14]=r[2],e[15]=1,e}},{}],"mh/h":[function(e,t,r){t.exports=function(e,t){return e[0]=t[0],e[1]=0,e[2]=0,e[3]=0,e[4]=0,e[5]=t[1],e[6]=0,e[7]=0,e[8]=0,e[9]=0,e[10]=t[2],e[11]=0,e[12]=0,e[13]=0,e[14]=0,e[15]=1,e}},{}],kE8D:[function(e,t,r){t.exports=function(e,t){return e[0]=1,e[1]=0,e[2]=0,e[3]=0,e[4]=0,e[5]=1,e[6]=0,e[7]=0,e[8]=0,e[9]=0,e[10]=1,e[11]=0,e[12]=t[0],e[13]=t[1],e[14]=t[2],e[15]=1,e}},{}],Qwe8:[function(e,t,r){t.exports=function(e,t){var r=Math.sin(t),n=Math.cos(t);return e[0]=1,e[1]=0,e[2]=0,e[3]=0,e[4]=0,e[5]=n,e[6]=r,e[7]=0,e[8]=0,e[9]=-r,e[10]=n,e[11]=0,e[12]=0,e[13]=0,e[14]=0,e[15]=1,e}},{}],mzKb:[function(e,t,r){t.exports=function(e,t){var r=Math.sin(t),n=Math.cos(t);return e[0]=n,e[1]=0,e[2]=-r,e[3]=0,e[4]=0,e[5]=1,e[6]=0,e[7]=0,e[8]=r,e[9]=0,e[10]=n,e[11]=0,e[12]=0,e[13]=0,e[14]=0,e[15]=1,e}},{}],"6UCw":[function(e,t,r){t.exports=function(e,t){var r=Math.sin(t),n=Math.cos(t);return e[0]=n,e[1]=r,e[2]=0,e[3]=0,e[4]=-r,e[5]=n,e[6]=0,e[7]=0,e[8]=0,e[9]=0,e[10]=1,e[11]=0,e[12]=0,e[13]=0,e[14]=0,e[15]=1,e}},{}],"8bSX":[function(e,t,r){t.exports=function(e,t){var r=t[0],n=t[1],i=t[2],a=t[3],s=r+r,o=n+n,u=i+i,l=r*s,h=n*s,c=n*o,f=i*s,d=i*o,p=i*u,m=a*s,g=a*o,v=a*u;return e[0]=1-c-p,e[1]=h+v,e[2]=f-g,e[3]=0,e[4]=h-v,e[5]=1-l-p,e[6]=d+m,e[7]=0,e[8]=f+g,e[9]=d-m,e[10]=1-l-c,e[11]=0,e[12]=0,e[13]=0,e[14]=0,e[15]=1,e}},{}],"/wKG":[function(e,t,r){t.exports=function(e,t,r,n,i,a,s){var o=1/(r-t),u=1/(i-n),l=1/(a-s);return e[0]=2*a*o,e[1]=0,e[2]=0,e[3]=0,e[4]=0,e[5]=2*a*u,e[6]=0,e[7]=0,e[8]=(r+t)*o,e[9]=(i+n)*u,e[10]=(s+a)*l,e[11]=-1,e[12]=0,e[13]=0,e[14]=s*a*2*l,e[15]=0,e}},{}],uUkt:[function(e,t,r){t.exports=function(e,t,r,n,i){var a=1/Math.tan(t/2),s=1/(n-i);return e[0]=a/r,e[1]=0,e[2]=0,e[3]=0,e[4]=0,e[5]=a,e[6]=0,e[7]=0,e[8]=0,e[9]=0,e[10]=(i+n)*s,e[11]=-1,e[12]=0,e[13]=0,e[14]=2*i*n*s,e[15]=0,e}},{}],"3HEe":[function(e,t,r){t.exports=function(e,t,r,n){var i=Math.tan(t.upDegrees*Math.PI/180),a=Math.tan(t.downDegrees*Math.PI/180),s=Math.tan(t.leftDegrees*Math.PI/180),o=Math.tan(t.rightDegrees*Math.PI/180),u=2/(s+o),l=2/(i+a);return e[0]=u,e[1]=0,e[2]=0,e[3]=0,e[4]=0,e[5]=l,e[6]=0,e[7]=0,e[8]=-(s-o)*u*.5,e[9]=(i-a)*l*.5,e[10]=n/(r-n),e[11]=-1,e[12]=0,e[13]=0,e[14]=n*r/(r-n),e[15]=0,e}},{}],geji:[function(e,t,r){t.exports=function(e,t,r,n,i,a,s){var o=1/(t-r),u=1/(n-i),l=1/(a-s);return e[0]=-2*o,e[1]=0,e[2]=0,e[3]=0,e[4]=0,e[5]=-2*u,e[6]=0,e[7]=0,e[8]=0,e[9]=0,e[10]=2*l,e[11]=0,e[12]=(t+r)*o,e[13]=(i+n)*u,e[14]=(s+a)*l,e[15]=1,e}},{}],"4DbU":[function(e,t,r){var n=e("./identity");t.exports=function(e,t,r,i){var a,s,o,u,l,h,c,f,d,p,m=t[0],g=t[1],v=t[2],_=i[0],b=i[1],y=i[2],w=r[0],E=r[1],x=r[2];return Math.abs(m-w)<1e-6&&Math.abs(g-E)<1e-6&&Math.abs(v-x)<1e-6?n(e):(c=m-w,f=g-E,d=v-x,a=b*(d*=p=1/Math.sqrt(c*c+f*f+d*d))-y*(f*=p),s=y*(c*=p)-_*d,o=_*f-b*c,(p=Math.sqrt(a*a+s*s+o*o))?(a*=p=1/p,s*=p,o*=p):(a=0,s=0,o=0),u=f*o-d*s,l=d*a-c*o,h=c*s-f*a,(p=Math.sqrt(u*u+l*l+h*h))?(u*=p=1/p,l*=p,h*=p):(u=0,l=0,h=0),e[0]=a,e[1]=u,e[2]=c,e[3]=0,e[4]=s,e[5]=l,e[6]=f,e[7]=0,e[8]=o,e[9]=h,e[10]=d,e[11]=0,e[12]=-(a*m+s*g+o*v),e[13]=-(u*m+l*g+h*v),e[14]=-(c*m+f*g+d*v),e[15]=1,e)}},{"./identity":"xBp+"}],oMVO:[function(e,t,r){t.exports=function(e){return"mat4("+e[0]+", "+e[1]+", "+e[2]+", "+e[3]+", "+e[4]+", "+e[5]+", "+e[6]+", "+e[7]+", "+e[8]+", "+e[9]+", "+e[10]+", "+e[11]+", "+e[12]+", "+e[13]+", "+e[14]+", "+e[15]+")"}},{}],VVjU:[function(e,t,r){t.exports={create:e("./create"),clone:e("./clone"),copy:e("./copy"),identity:e("./identity"),transpose:e("./transpose"),invert:e("./invert"),adjoint:e("./adjoint"),determinant:e("./determinant"),multiply:e("./multiply"),translate:e("./translate"),scale:e("./scale"),rotate:e("./rotate"),rotateX:e("./rotateX"),rotateY:e("./rotateY"),rotateZ:e("./rotateZ"),fromRotation:e("./fromRotation"),fromRotationTranslation:e("./fromRotationTranslation"),fromScaling:e("./fromScaling"),fromTranslation:e("./fromTranslation"),fromXRotation:e("./fromXRotation"),fromYRotation:e("./fromYRotation"),fromZRotation:e("./fromZRotation"),fromQuat:e("./fromQuat"),frustum:e("./frustum"),perspective:e("./perspective"),perspectiveFromFieldOfView:e("./perspectiveFromFieldOfView"),ortho:e("./ortho"),lookAt:e("./lookAt"),str:e("./str")}},{"./create":"CJSY","./clone":"bLoX","./copy":"mCqr","./identity":"xBp+","./transpose":"TUrw","./invert":"OS9i","./adjoint":"Fgz6","./determinant":"5JuV","./multiply":"Uhn0","./translate":"bJFL","./scale":"HTs9","./rotate":"sYT5","./rotateX":"X+ZC","./rotateY":"oVHP","./rotateZ":"sYuD","./fromRotation":"Tuda","./fromRotationTranslation":"D8JY","./fromScaling":"mh/h","./fromTranslation":"kE8D","./fromXRotation":"Qwe8","./fromYRotation":"mzKb","./fromZRotation":"6UCw","./fromQuat":"8bSX","./frustum":"/wKG","./perspective":"uUkt","./perspectiveFromFieldOfView":"3HEe","./ortho":"geji","./lookAt":"4DbU","./str":"oMVO"}],gl3E:[function(e,t,r){"use strict";var n=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(r,"__esModule",{value:!0});const i=n(e("./identity")),a=n(e("./shaders/index")),s=n(e("gl-buffer")),o=n(e("gl-vao")),u=e("gl-mat4"),l=e("events"),h=32;r.default=class extends l.EventEmitter{constructor(e){super(),this.clipBounds=[[0,0,0],[0,0,0]],this.dirty=!1,this.ready=!1,this.vertexCount=0,this.uniforms={model:i.default,view:i.default,projection:i.default.slice(),inverseModel:i.default.slice(),highlight:!1,highlightColor:[0,0,0],ambient:1,diffuse:1,specular:1,roughness:1,fresnel:1.5,lightPosition:[0,0,0],eyePosition:[0,0,0],clipBounds:this.clipBounds},this.pickUniforms=Object.assign({},this.uniforms),this.x3p=e.x3p,this.renderer=e.renderer,this.canvas=e.canvas,this.gl=this.canvas.getContext("webgl"),this.shader=a.default(this.gl),this.pickShader=a.default(this.gl,"pick"),this.coordinateBuffer=s.default(this.gl,void 0,this.gl.ARRAY_BUFFER,this.gl.STATIC_DRAW),this.texture=this.x3p.mask.getTexture(this.gl),this.decimationFactor=e.decimationFactor||0,this.vao=o.default(this.gl,[{buffer:this.coordinateBuffer,size:3,stride:h,offset:0},{buffer:this.coordinateBuffer,size:3,stride:h,offset:12},{buffer:this.coordinateBuffer,size:2,stride:h,offset:24}]),this.update(e)}draw(e){if(!this.ready)return;this.gl.disable(this.gl.CULL_FACE),this.texture.bind(0);let t=this.uniforms;t.model=e.model,t.projection=e.projection,t.view=e.view,t.inverseModel=u.invert(t.inverseModel,t.model),t.highlight=void 0!==this.highlightColor,t.highlightColor=this.highlightColor||[0,0,0];let r=i.default.slice();u.multiply(r,t.view,t.model),u.multiply(r,t.projection,r),u.invert(r,r);for(let n=0;n<3;n++)t.eyePosition[n]=r[12+n]/r[15];this.shader.bind(),this.shader.uniforms=t,this.vao.bind(),this.vao.draw(this.gl.TRIANGLES,this.vertexCount),this.vao.unbind()}drawPick(e){let t=this.pickUniforms;t.model=e.model||i.default,t.view=e.view||i.default,t.projection=e.projection||i.default,t.highlight=!1,t.highlightColor=[0,0,0],this.pickShader.bind(),this.pickShader.uniforms=t,this.vao.bind(),this.vao.draw(this.gl.TRIANGLES,this.vertexCount),this.vao.unbind()}update(e){let t=new Worker("worker.f20abf7c.82bbf139.js"),{x:r,y:n,z:i}=this.x3p.axes,a=this.x3p.manifest.get("Record1 Axes Origin");if(e&&e.lighting){let t=e.lighting;Object.assign(this.uniforms,t)}t.postMessage({origin:a,pointBuffer:this.x3p.pointBuffer,decimationFactor:this.decimationFactor,axes:{x:r.values,y:n.values,z:i.values}},[this.x3p.pointBuffer]),t.onmessage=(e=>{this.renderer.setProgressValue(e.data.progress),1===e.data.progress&&(this.vertexCount=e.data.vertexCount,this.coordinateBuffer.update(e.data.buffer.subarray(0,e.data.elementCount)),this.shape=e.data.shape,this.bounds=e.data.bounds,this.dirty=!0,this.ready=!0,this.onready&&this.onready(),this.emit("ready"))}),t.onerror=(e=>{this.emit("error",e)})}pick(e,t=!1){if(!e)return;let r=this.shape,n={index:[0,0],color:void 0},i=r[0]*(e.value[0]+(e.value[2]>>4)/16)/255,a=Math.floor(i),s=i-a,o=r[1]*(e.value[1]+(15&e.value[2])/16)/255,u=Math.floor(o),l=o-u;return a++,u++,n.index[0]=s<.5?a:a+1,n.index[1]=l<.5?u:u+1,t&&this.x3p.mask.canvas&&(n.color=this.x3p.mask.canvas.getColorAt(n.index[0],n.index[1])),n}dispose(){this.shader.dispose(),this.pickShader.dispose(),this.vao.dispose(),this.coordinateBuffer.dispose()}}},{"./identity":"MzYK","./shaders/index":"Tpxu","gl-buffer":"1IGT","gl-vao":"V1D6","gl-mat4":"VVjU",events:"T2os","./worker/index.ts":[["worker.f20abf7c.js","R/2G"],"worker.f20abf7c.js.map","R/2G"]}],"z/6T":[function(e,t,r){"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.default={eye:[0,0,1.4],up:[0,0,0],zoomMax:1.7}},{}],"70rD":[function(e,t,r){},{}],nAQP:[function(e,t,r){arguments[3];var n=arguments[3];t.exports=n.performance&&n.performance.now?function(){return performance.now()}:Date.now||function(){return+new Date}},{}],DbuA:[function(e,t,r){"use strict";t.exports=function(e,t,r,n,i,a){var s=i-1,o=i*i,u=s*s,l=(1+2*i)*u,h=i*u,c=o*(3-2*i),f=o*s;if(e.length){a||(a=new Array(e.length));for(var d=e.length-1;d>=0;--d)a[d]=l*e[d]+h*t[d]+c*r[d]+f*n[d];return a}return l*e+h*t+c*r+f*n},t.exports.derivative=function(e,t,r,n,i,a){var s=6*i*i-6*i,o=3*i*i-4*i+1,u=-6*i*i+6*i,l=3*i*i-2*i;if(e.length){a||(a=new Array(e.length));for(var h=e.length-1;h>=0;--h)a[h]=s*e[h]+o*t[h]+u*r[h]+l*n[h];return a}return s*e+o*t+u*r[h]+l*n}},{}],"++2h":[function(e,t,r){"use strict";function n(e,t,r,n,i,a){var s=["function ",e,"(a,l,h,",n.join(","),"){",a?"":"var i=",r?"l-1":"h+1",";while(l<=h){var m=(l+h)>>>1,x=a",i?".get(m)":"[m]"];return a?t.indexOf("c")<0?s.push(";if(x===y){return m}else if(x<=y){"):s.push(";var p=c(x,y);if(p===0){return m}else if(p<=0){"):s.push(";if(",t,"){i=m;"),r?s.push("l=m+1}else{h=m-1}"):s.push("h=m-1}else{l=m+1}"),s.push("}"),a?s.push("return -1};"):s.push("return i};"),s.join("")}function i(e,t,r,i){return new Function([n("A","x"+e+"y",t,["y"],!1,i),n("B","x"+e+"y",t,["y"],!0,i),n("P","c(x,y)"+e+"0",t,["y","c"],!1,i),n("Q","c(x,y)"+e+"0",t,["y","c"],!0,i),"function dispatchBsearch",r,"(a,y,c,l,h){if(a.shape){if(typeof(c)==='function'){return Q(a,(l===undefined)?0:l|0,(h===undefined)?a.shape[0]-1:h|0,y,c)}else{return B(a,(c===undefined)?0:c|0,(l===undefined)?a.shape[0]-1:l|0,y)}}else{if(typeof(c)==='function'){return P(a,(l===undefined)?0:l|0,(h===undefined)?a.length-1:h|0,y,c)}else{return A(a,(c===undefined)?0:c|0,(l===undefined)?a.length-1:l|0,y)}}}return dispatchBsearch",r].join(""))()}t.exports={ge:i(">=",!1,"GE"),gt:i(">",!1,"GT"),lt:i("<",!0,"LT"),le:i("<=",!0,"LE"),eq:i("-",!0,"EQ",!0)}},{}],YRVQ:[function(e,t,r){"use strict";t.exports=function(e,t,r){switch(arguments.length){case 0:return new s([0],[0],0);case 1:return"number"==typeof e?new s(n=u(e),n,0):new s(e,u(e.length),0);case 2:var n;if("number"==typeof t)return new s(e,n=u(e.length),+t);r=0;case 3:if(e.length!==t.length)throw new Error("state and velocity lengths must match");return new s(e,t,r)}};var n=e("cubic-hermite"),i=e("binary-search-bounds");function a(e,t,r){return Math.min(t,Math.max(e,r))}function s(e,t,r){this.dimension=e.length,this.bounds=[new Array(this.dimension),new Array(this.dimension)];for(var n=0;n<this.dimension;++n)this.bounds[0][n]=-1/0,this.bounds[1][n]=1/0;this._state=e.slice().reverse(),this._velocity=t.slice().reverse(),this._time=[r],this._scratch=[e.slice(),e.slice(),e.slice(),e.slice(),e.slice()]}var o=s.prototype;function u(e){for(var t=new Array(e),r=0;r<e;++r)t[r]=0;return t}o.flush=function(e){var t=i.gt(this._time,e)-1;t<=0||(this._time.splice(0,t),this._state.splice(0,t*this.dimension),this._velocity.splice(0,t*this.dimension))},o.curve=function(e){var t=this._time,r=t.length,s=i.le(t,e),o=this._scratch[0],u=this._state,l=this._velocity,h=this.dimension,c=this.bounds;if(s<0)for(var f=h-1,d=0;d<h;++d,--f)o[d]=u[f];else if(s>=r-1){f=u.length-1;var p=e-t[r-1];for(d=0;d<h;++d,--f)o[d]=u[f]+p*l[f]}else{f=h*(s+1)-1;var m=t[s],g=t[s+1]-m||1,v=this._scratch[1],_=this._scratch[2],b=this._scratch[3],y=this._scratch[4],w=!0;for(d=0;d<h;++d,--f)v[d]=u[f],b[d]=l[f]*g,_[d]=u[f+h],y[d]=l[f+h]*g,w=w&&v[d]===_[d]&&b[d]===y[d]&&0===b[d];if(w)for(d=0;d<h;++d)o[d]=v[d];else n(v,b,_,y,(e-m)/g,o)}var E=c[0],x=c[1];for(d=0;d<h;++d)o[d]=a(E[d],x[d],o[d]);return o},o.dcurve=function(e){var t=this._time,r=t.length,a=i.le(t,e),s=this._scratch[0],o=this._state,u=this._velocity,l=this.dimension;if(a>=r-1)for(var h=o.length-1,c=(t[r-1],0);c<l;++c,--h)s[c]=u[h];else{h=l*(a+1)-1;var f=t[a],d=t[a+1]-f||1,p=this._scratch[1],m=this._scratch[2],g=this._scratch[3],v=this._scratch[4],_=!0;for(c=0;c<l;++c,--h)p[c]=o[h],g[c]=u[h]*d,m[c]=o[h+l],v[c]=u[h+l]*d,_=_&&p[c]===m[c]&&g[c]===v[c]&&0===g[c];if(_)for(c=0;c<l;++c)s[c]=0;else for(n.derivative(p,g,m,v,(e-f)/d,s),c=0;c<l;++c)s[c]/=d}return s},o.lastT=function(){var e=this._time;return e[e.length-1]},o.stable=function(){for(var e=this._velocity,t=e.length,r=this.dimension-1;r>=0;--r)if(e[--t])return!1;return!0},o.jump=function(e){var t=this.lastT(),r=this.dimension;if(!(e<t||arguments.length!==r+1)){var n=this._state,i=this._velocity,s=n.length-this.dimension,o=this.bounds,u=o[0],l=o[1];this._time.push(t,e);for(var h=0;h<2;++h)for(var c=0;c<r;++c)n.push(n[s++]),i.push(0);for(this._time.push(e),c=r;c>0;--c)n.push(a(u[c-1],l[c-1],arguments[c])),i.push(0)}},o.push=function(e){var t=this.lastT(),r=this.dimension;if(!(e<t||arguments.length!==r+1)){var n=this._state,i=this._velocity,s=n.length-this.dimension,o=e-t,u=this.bounds,l=u[0],h=u[1],c=o>1e-6?1/o:0;this._time.push(e);for(var f=r;f>0;--f){var d=a(l[f-1],h[f-1],arguments[f]);n.push(d),i.push((d-n[s++])*c)}}},o.set=function(e){var t=this.dimension;if(!(e<this.lastT()||arguments.length!==t+1)){var r=this._state,n=this._velocity,i=this.bounds,s=i[0],o=i[1];this._time.push(e);for(var u=t;u>0;--u)r.push(a(s[u-1],o[u-1],arguments[u])),n.push(0)}},o.move=function(e){var t=this.lastT(),r=this.dimension;if(!(e<=t||arguments.length!==r+1)){var n=this._state,i=this._velocity,s=n.length-this.dimension,o=this.bounds,u=o[0],l=o[1],h=e-t,c=h>1e-6?1/h:0;this._time.push(e);for(var f=r;f>0;--f){var d=arguments[f];n.push(a(u[f-1],l[f-1],n[s++]+d)),i.push(d*c)}}},o.idle=function(e){var t=this.lastT();if(!(e<t)){var r=this.dimension,n=this._state,i=this._velocity,s=n.length-r,o=this.bounds,u=o[0],l=o[1],h=e-t;this._time.push(e);for(var c=r-1;c>=0;--c)n.push(a(u[c],l[c],n[s]+h*i[s])),i.push(0),s+=1}}},{"cubic-hermite":"DbuA","binary-search-bounds":"++2h"}],uUtD:[function(e,t,r){t.exports=function(e,t,r){var n=t[0],i=t[1],a=t[2],s=r[0],o=r[1],u=r[2];return e[0]=i*u-a*o,e[1]=a*s-n*u,e[2]=n*o-i*s,e}},{}],JpY9:[function(e,t,r){t.exports=function(e,t){var r=t[0],n=t[1],i=t[2],a=r*r+n*n+i*i;return a>0&&(a=1/Math.sqrt(a),e[0]=t[0]*a,e[1]=t[1]*a,e[2]=t[2]*a),e}},{}],wcjZ:[function(e,t,r){t.exports=function(e,t){return e[0]*t[0]+e[1]*t[1]+e[2]*t[2]}},{}],"1R2v":[function(e,t,r){"use strict";t.exports=function(e){var t=(e=e||{}).center||[0,0,0],r=e.up||[0,1,0],n=e.right||c(r),i=e.radius||1,a=e.theta||0,h=e.phi||0;if(t=[].slice.call(t,0,3),r=[].slice.call(r,0,3),o(r,r),n=[].slice.call(n,0,3),o(n,n),"eye"in e){var d=e.eye,p=[d[0]-t[0],d[1]-t[1],d[2]-t[2]];s(n,p,r),l(n[0],n[1],n[2])<1e-6?n=c(r):o(n,n),i=l(p[0],p[1],p[2]);var m=u(r,p)/i,g=u(n,p)/i;h=Math.acos(m),a=Math.acos(g)}return i=Math.log(i),new f(e.zoomMin,e.zoomMax,t,r,n,i,a,h)};var n=e("filtered-vector"),i=e("gl-mat4/invert"),a=e("gl-mat4/rotate"),s=e("gl-vec3/cross"),o=e("gl-vec3/normalize"),u=e("gl-vec3/dot");function l(e,t,r){return Math.sqrt(Math.pow(e,2)+Math.pow(t,2)+Math.pow(r,2))}function h(e){return Math.min(1,Math.max(-1,e))}function c(e){var t=Math.abs(e[0]),r=Math.abs(e[1]),n=Math.abs(e[2]),i=[0,0,0];t>Math.max(r,n)?i[2]=1:r>Math.max(t,n)?i[0]=1:i[1]=1;for(var a=0,s=0,u=0;u<3;++u)a+=e[u]*e[u],s+=i[u]*e[u];for(u=0;u<3;++u)i[u]-=s/a*e[u];return o(i,i),i}function f(e,t,r,i,a,s,o,u){this.center=n(r),this.up=n(i),this.right=n(a),this.radius=n([s]),this.angle=n([o,u]),this.angle.bounds=[[-1/0,-Math.PI/2],[1/0,Math.PI/2]],this.setDistanceLimits(e,t),this.computedCenter=this.center.curve(0),this.computedUp=this.up.curve(0),this.computedRight=this.right.curve(0),this.computedRadius=this.radius.curve(0),this.computedAngle=this.angle.curve(0),this.computedToward=[0,0,0],this.computedEye=[0,0,0],this.computedMatrix=new Array(16);for(var l=0;l<16;++l)this.computedMatrix[l]=.5;this.recalcMatrix(0)}var d=f.prototype;d.setDistanceLimits=function(e,t){e=e>0?Math.log(e):-1/0,t=t>0?Math.log(t):1/0,t=Math.max(t,e),this.radius.bounds[0][0]=e,this.radius.bounds[1][0]=t},d.getDistanceLimits=function(e){var t=this.radius.bounds[0];return e?(e[0]=Math.exp(t[0][0]),e[1]=Math.exp(t[1][0]),e):[Math.exp(t[0][0]),Math.exp(t[1][0])]},d.recalcMatrix=function(e){this.center.curve(e),this.up.curve(e),this.right.curve(e),this.radius.curve(e),this.angle.curve(e);for(var t=this.computedUp,r=this.computedRight,n=0,i=0,a=0;a<3;++a)i+=t[a]*r[a],n+=t[a]*t[a];var u=Math.sqrt(n),h=0;for(a=0;a<3;++a)r[a]-=t[a]*i/n,h+=r[a]*r[a],t[a]/=u;var c=Math.sqrt(h);for(a=0;a<3;++a)r[a]/=c;var f=this.computedToward;s(f,t,r),o(f,f);var d=Math.exp(this.computedRadius[0]),p=this.computedAngle[0],m=this.computedAngle[1],g=Math.cos(p),v=Math.sin(p),_=Math.cos(m),b=Math.sin(m),y=this.computedCenter,w=g*_,E=v*_,x=b,A=-g*b,T=-v*b,S=_,R=this.computedEye,k=this.computedMatrix;for(a=0;a<3;++a){var C=w*r[a]+E*f[a]+x*t[a];k[4*a+1]=A*r[a]+T*f[a]+S*t[a],k[4*a+2]=C,k[4*a+3]=0}var M=k[1],I=k[5],L=k[9],N=k[2],O=k[6],P=k[10],D=I*P-L*O,U=L*N-M*P,B=M*O-I*N,F=l(D,U,B);for(D/=F,U/=F,B/=F,k[0]=D,k[4]=U,k[8]=B,a=0;a<3;++a)R[a]=y[a]+k[2+4*a]*d;for(a=0;a<3;++a){h=0;for(var j=0;j<3;++j)h+=k[a+4*j]*R[j];k[12+a]=-h}k[15]=1},d.getMatrix=function(e,t){this.recalcMatrix(e);var r=this.computedMatrix;if(t){for(var n=0;n<16;++n)t[n]=r[n];return t}return r};var p=[0,0,0];d.rotate=function(e,t,r,n){if(this.angle.move(e,t,r),n){this.recalcMatrix(e);var i=this.computedMatrix;p[0]=i[2],p[1]=i[6],p[2]=i[10];for(var s=this.computedUp,o=this.computedRight,u=this.computedToward,l=0;l<3;++l)i[4*l]=s[l],i[4*l+1]=o[l],i[4*l+2]=u[l];for(a(i,i,n,p),l=0;l<3;++l)s[l]=i[4*l],o[l]=i[4*l+1];this.up.set(e,s[0],s[1],s[2]),this.right.set(e,o[0],o[1],o[2])}},d.pan=function(e,t,r,n){t=t||0,r=r||0,n=n||0,this.recalcMatrix(e);var i=this.computedMatrix,a=(Math.exp(this.computedRadius[0]),i[1]),s=i[5],o=i[9],u=l(a,s,o);a/=u,s/=u,o/=u;var h=i[0],c=i[4],f=i[8],d=h*a+c*s+f*o,p=l(h-=a*d,c-=s*d,f-=o*d),m=(h/=p)*t+a*r,g=(c/=p)*t+s*r,v=(f/=p)*t+o*r;this.center.move(e,m,g,v);var _=Math.exp(this.computedRadius[0]);_=Math.max(1e-4,_+n),this.radius.set(e,Math.log(_))},d.translate=function(e,t,r,n){this.center.move(e,t||0,r||0,n||0)},d.setMatrix=function(e,t,r,n){var a=1;"number"==typeof r&&(a=0|r),(a<0||a>3)&&(a=1);var s=(a+2)%3;t||(this.recalcMatrix(e),t=this.computedMatrix);var o=t[a],u=t[a+4],c=t[a+8];if(n){var f=Math.abs(o),d=Math.abs(u),p=Math.abs(c),m=Math.max(f,d,p);f===m?(o=o<0?-1:1,u=c=0):p===m?(c=c<0?-1:1,o=u=0):(u=u<0?-1:1,o=c=0)}else{var g=l(o,u,c);o/=g,u/=g,c/=g}var v,_,b=t[s],y=t[s+4],w=t[s+8],E=b*o+y*u+w*c,x=l(b-=o*E,y-=u*E,w-=c*E),A=u*(w/=x)-c*(y/=x),T=c*(b/=x)-o*w,S=o*y-u*b,R=l(A,T,S);if(A/=R,T/=R,S/=R,this.center.jump(e,H,G,W),this.radius.idle(e),this.up.jump(e,o,u,c),this.right.jump(e,b,y,w),2===a){var k=t[1],C=t[5],M=t[9],I=k*b+C*y+M*w,L=k*A+C*T+M*S;v=D<0?-Math.PI/2:Math.PI/2,_=Math.atan2(L,I)}else{var N=t[2],O=t[6],P=t[10],D=N*o+O*u+P*c,U=N*b+O*y+P*w,B=N*A+O*T+P*S;v=Math.asin(h(D)),_=Math.atan2(B,U)}this.angle.jump(e,_,v),this.recalcMatrix(e);var F=t[2],j=t[6],z=t[10],V=this.computedMatrix;i(V,t);var X=V[15],H=V[12]/X,G=V[13]/X,W=V[14]/X,Y=Math.exp(this.computedRadius[0]);this.center.jump(e,H-F*Y,G-j*Y,W-z*Y)},d.lastT=function(){return Math.max(this.center.lastT(),this.up.lastT(),this.right.lastT(),this.radius.lastT(),this.angle.lastT())},d.idle=function(e){this.center.idle(e),this.up.idle(e),this.right.idle(e),this.radius.idle(e),this.angle.idle(e)},d.flush=function(e){this.center.flush(e),this.up.flush(e),this.right.flush(e),this.radius.flush(e),this.angle.flush(e)},d.setDistance=function(e,t){t>0&&this.radius.set(e,Math.log(t))},d.lookAt=function(e,t,r,n){this.recalcMatrix(e),t=t||this.computedEye,r=r||this.computedCenter;var i=(n=n||this.computedUp)[0],a=n[1],s=n[2],o=l(i,a,s);if(!(o<1e-6)){i/=o,a/=o,s/=o;var u=t[0]-r[0],c=t[1]-r[1],f=t[2]-r[2],d=l(u,c,f);if(!(d<1e-6)){u/=d,c/=d,f/=d;var p=this.computedRight,m=p[0],g=p[1],v=p[2],_=i*m+a*g+s*v,b=l(m-=_*i,g-=_*a,v-=_*s);if(!(b<.01&&(b=l(m=a*f-s*c,g=s*u-i*f,v=i*c-a*u))<1e-6)){m/=b,g/=b,v/=b,this.up.set(e,i,a,s),this.right.set(e,m,g,v),this.center.set(e,r[0],r[1],r[2]),this.radius.set(e,Math.log(d));var y=a*v-s*g,w=s*m-i*v,E=i*g-a*m,x=l(y,w,E),A=i*u+a*c+s*f,T=m*u+g*c+v*f,S=(y/=x)*u+(w/=x)*c+(E/=x)*f,R=Math.asin(h(A)),k=Math.atan2(S,T),C=this.angle._state,M=C[C.length-1],I=C[C.length-2];M%=2*Math.PI;var L=Math.abs(M+2*Math.PI-k),N=Math.abs(M-k),O=Math.abs(M-2*Math.PI-k);L<N&&(M+=2*Math.PI),O<N&&(M-=2*Math.PI),this.angle.jump(this.angle.lastT(),M,I),this.angle.set(e,k,R)}}}}},{"filtered-vector":"YRVQ","gl-mat4/invert":"OS9i","gl-mat4/rotate":"sYT5","gl-vec3/cross":"uUtD","gl-vec3/normalize":"JpY9","gl-vec3/dot":"wcjZ"}],dZIm:[function(e,t,r){"use strict";t.exports=function(e,t,r,n,i,a,s,o,u,l){var h=t+a+l;if(c>0){var c=Math.sqrt(h+1);e[0]=.5*(s-u)/c,e[1]=.5*(o-n)/c,e[2]=.5*(r-a)/c,e[3]=.5*c}else{var f=Math.max(t,a,l);c=Math.sqrt(2*f-h+1),t>=f?(e[0]=.5*c,e[1]=.5*(i+r)/c,e[2]=.5*(o+n)/c,e[3]=.5*(s-u)/c):a>=f?(e[0]=.5*(r+i)/c,e[1]=.5*c,e[2]=.5*(u+s)/c,e[3]=.5*(o-n)/c):(e[0]=.5*(n+o)/c,e[1]=.5*(s+u)/c,e[2]=.5*c,e[3]=.5*(r-i)/c)}return e}},{}],"1E1e":[function(e,t,r){"use strict";t.exports=function(e){var t=(e=e||{}).center||[0,0,0],r=e.rotation||[0,0,0,1],n=e.radius||1;t=[].slice.call(t,0,3),h(r=[].slice.call(r,0,4),r);var i=new c(r,t,Math.log(n));return i.setDistanceLimits(e.zoomMin,e.zoomMax),("eye"in e||"up"in e)&&i.lookAt(0,e.eye,e.center,e.up),i};var n=e("filtered-vector"),i=e("gl-mat4/lookAt"),a=e("gl-mat4/fromQuat"),s=e("gl-mat4/invert"),o=e("./lib/quatFromFrame");function u(e,t,r){return Math.sqrt(Math.pow(e,2)+Math.pow(t,2)+Math.pow(r,2))}function l(e,t,r,n){return Math.sqrt(Math.pow(e,2)+Math.pow(t,2)+Math.pow(r,2)+Math.pow(n,2))}function h(e,t){var r=t[0],n=t[1],i=t[2],a=t[3],s=l(r,n,i,a);s>1e-6?(e[0]=r/s,e[1]=n/s,e[2]=i/s,e[3]=a/s):(e[0]=e[1]=e[2]=0,e[3]=1)}function c(e,t,r){this.radius=n([r]),this.center=n(t),this.rotation=n(e),this.computedRadius=this.radius.curve(0),this.computedCenter=this.center.curve(0),this.computedRotation=this.rotation.curve(0),this.computedUp=[.1,0,0],this.computedEye=[.1,0,0],this.computedMatrix=[.1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],this.recalcMatrix(0)}var f=c.prototype;f.lastT=function(){return Math.max(this.radius.lastT(),this.center.lastT(),this.rotation.lastT())},f.recalcMatrix=function(e){this.radius.curve(e),this.center.curve(e),this.rotation.curve(e);var t=this.computedRotation;h(t,t);var r=this.computedMatrix;a(r,t);var n=this.computedCenter,i=this.computedEye,s=this.computedUp,o=Math.exp(this.computedRadius[0]);i[0]=n[0]+o*r[2],i[1]=n[1]+o*r[6],i[2]=n[2]+o*r[10],s[0]=r[1],s[1]=r[5],s[2]=r[9];for(var u=0;u<3;++u){for(var l=0,c=0;c<3;++c)l+=r[u+4*c]*i[c];r[12+u]=-l}},f.getMatrix=function(e,t){this.recalcMatrix(e);var r=this.computedMatrix;if(t){for(var n=0;n<16;++n)t[n]=r[n];return t}return r},f.idle=function(e){this.center.idle(e),this.radius.idle(e),this.rotation.idle(e)},f.flush=function(e){this.center.flush(e),this.radius.flush(e),this.rotation.flush(e)},f.pan=function(e,t,r,n){t=t||0,r=r||0,n=n||0,this.recalcMatrix(e);var i=this.computedMatrix,a=i[1],s=i[5],o=i[9],l=u(a,s,o);a/=l,s/=l,o/=l;var h=i[0],c=i[4],f=i[8],d=h*a+c*s+f*o,p=u(h-=a*d,c-=s*d,f-=o*d);h/=p,c/=p,f/=p;var m=i[2],g=i[6],v=i[10],_=m*a+g*s+v*o,b=m*h+g*c+v*f,y=u(m-=_*a+b*h,g-=_*s+b*c,v-=_*o+b*f);m/=y,g/=y,v/=y;var w=h*t+a*r,E=c*t+s*r,x=f*t+o*r;this.center.move(e,w,E,x);var A=Math.exp(this.computedRadius[0]);A=Math.max(1e-4,A+n),this.radius.set(e,Math.log(A))},f.rotate=function(e,t,r,n){this.recalcMatrix(e),t=t||0,r=r||0;var i=this.computedMatrix,a=i[0],s=i[4],o=i[8],h=i[1],c=i[5],f=i[9],d=i[2],p=i[6],m=i[10],g=t*a+r*h,v=t*s+r*c,_=t*o+r*f,b=-(p*_-m*v),y=-(m*g-d*_),w=-(d*v-p*g),E=Math.sqrt(Math.max(0,1-Math.pow(b,2)-Math.pow(y,2)-Math.pow(w,2))),x=l(b,y,w,E);x>1e-6?(b/=x,y/=x,w/=x,E/=x):(b=y=w=0,E=1);var A=this.computedRotation,T=A[0],S=A[1],R=A[2],k=A[3],C=T*E+k*b+S*w-R*y,M=S*E+k*y+R*b-T*w,I=R*E+k*w+T*y-S*b,L=k*E-T*b-S*y-R*w;if(n){b=d,y=p,w=m;var N=Math.sin(n)/u(b,y,w);b*=N,y*=N,w*=N,L=L*(E=Math.cos(t))-(C=C*E+L*b+M*w-I*y)*b-(M=M*E+L*y+I*b-C*w)*y-(I=I*E+L*w+C*y-M*b)*w}var O=l(C,M,I,L);O>1e-6?(C/=O,M/=O,I/=O,L/=O):(C=M=I=0,L=1),this.rotation.set(e,C,M,I,L)},f.lookAt=function(e,t,r,n){this.recalcMatrix(e),r=r||this.computedCenter,t=t||this.computedEye,n=n||this.computedUp;var a=this.computedMatrix;i(a,t,r,n);var s=this.computedRotation;o(s,a[0],a[1],a[2],a[4],a[5],a[6],a[8],a[9],a[10]),h(s,s),this.rotation.set(e,s[0],s[1],s[2],s[3]);for(var u=0,l=0;l<3;++l)u+=Math.pow(r[l]-t[l],2);this.radius.set(e,.5*Math.log(Math.max(u,1e-6))),this.center.set(e,r[0],r[1],r[2])},f.translate=function(e,t,r,n){this.center.move(e,t||0,r||0,n||0)},f.setMatrix=function(e,t){var r=this.computedRotation;o(r,t[0],t[1],t[2],t[4],t[5],t[6],t[8],t[9],t[10]),h(r,r),this.rotation.set(e,r[0],r[1],r[2],r[3]);var n=this.computedMatrix;s(n,t);var i=n[15];if(Math.abs(i)>1e-6){var a=n[12]/i,u=n[13]/i,l=n[14]/i;this.recalcMatrix(e);var c=Math.exp(this.computedRadius[0]);this.center.set(e,a-n[2]*c,u-n[6]*c,l-n[10]*c),this.radius.idle(e)}else this.center.idle(e),this.radius.idle(e)},f.setDistance=function(e,t){t>0&&this.radius.set(e,Math.log(t))},f.setDistanceLimits=function(e,t){e=e>0?Math.log(e):-1/0,t=t>0?Math.log(t):1/0,t=Math.max(t,e),this.radius.bounds[0][0]=e,this.radius.bounds[1][0]=t},f.getDistanceLimits=function(e){var t=this.radius.bounds;return e?(e[0]=Math.exp(t[0][0]),e[1]=Math.exp(t[1][0]),e):[Math.exp(t[0][0]),Math.exp(t[1][0])]},f.toJSON=function(){return this.recalcMatrix(this.lastT()),{center:this.computedCenter.slice(),rotation:this.computedRotation.slice(),distance:Math.log(this.computedRadius[0]),zoomMin:this.radius.bounds[0][0],zoomMax:this.radius.bounds[1][0]}},f.fromJSON=function(e){var t=this.lastT(),r=e.center;r&&this.center.set(t,r[0],r[1],r[2]);var n=e.rotation;n&&this.rotation.set(t,n[0],n[1],n[2],n[3]);var i=e.distance;i&&i>0&&this.radius.set(t,Math.log(i)),this.setDistanceLimits(e.zoomMin,e.zoomMax)}},{"filtered-vector":"YRVQ","gl-mat4/lookAt":"4DbU","gl-mat4/fromQuat":"8bSX","gl-mat4/invert":"OS9i","./lib/quatFromFrame":"dZIm"}],nrYL:[function(e,t,r){t.exports=function(e,t,r,n){var i=t[0],a=t[1],s=t[2];return e[0]=i+n*(r[0]-i),e[1]=a+n*(r[1]-a),e[2]=s+n*(r[2]-s),e}},{}],s2pK:[function(e,t,r){var n={identity:e("gl-mat4/identity"),translate:e("gl-mat4/translate"),multiply:e("gl-mat4/multiply"),create:e("gl-mat4/create"),scale:e("gl-mat4/scale"),fromRotationTranslation:e("gl-mat4/fromRotationTranslation")},i=(n.create(),n.create());t.exports=function(e,t,r,a,s,o){return n.identity(e),n.fromRotationTranslation(e,o,t),e[3]=s[0],e[7]=s[1],e[11]=s[2],e[15]=s[3],n.identity(i),0!==a[2]&&(i[9]=a[2],n.multiply(e,e,i)),0!==a[1]&&(i[9]=0,i[8]=a[1],n.multiply(e,e,i)),0!==a[0]&&(i[8]=0,i[4]=a[0],n.multiply(e,e,i)),n.scale(e,e,r),e}},{"gl-mat4/identity":"xBp+","gl-mat4/translate":"bJFL","gl-mat4/multiply":"Uhn0","gl-mat4/create":"CJSY","gl-mat4/scale":"HTs9","gl-mat4/fromRotationTranslation":"D8JY"}],"5fBt":[function(e,t,r){t.exports=function(e,t){var r=t[15];if(0===r)return!1;for(var n=1/r,i=0;i<16;i++)e[i]=t[i]*n;return!0}},{}],uBHl:[function(e,t,r){t.exports=function(e){var t=e[0],r=e[1],n=e[2];return Math.sqrt(t*t+r*r+n*n)}},{}],OrHu:[function(e,t,r){var n=e("./normalize"),i=e("gl-mat4/create"),a=e("gl-mat4/clone"),s=e("gl-mat4/determinant"),o=e("gl-mat4/invert"),u=e("gl-mat4/transpose"),l={length:e("gl-vec3/length"),normalize:e("gl-vec3/normalize"),dot:e("gl-vec3/dot"),cross:e("gl-vec3/cross")},h=i(),c=i(),f=[0,0,0,0],d=[[0,0,0],[0,0,0],[0,0,0]],p=[0,0,0];function m(e,t,r,n,i){e[0]=t[0]*n+r[0]*i,e[1]=t[1]*n+r[1]*i,e[2]=t[2]*n+r[2]*i}t.exports=function(e,t,r,i,g,v){if(t||(t=[0,0,0]),r||(r=[0,0,0]),i||(i=[0,0,0]),g||(g=[0,0,0,1]),v||(v=[0,0,0,1]),!n(h,e))return!1;if(a(c,h),c[3]=0,c[7]=0,c[11]=0,c[15]=1,Math.abs(s(c)<1e-8))return!1;var _=h[3],b=h[7],y=h[11],w=h[12],E=h[13],x=h[14],A=h[15];if(0!==_||0!==b||0!==y){if(f[0]=_,f[1]=b,f[2]=y,f[3]=A,!o(c,c))return!1;u(c,c),function(e,t,r){var n=t[0],i=t[1],a=t[2],s=t[3];e[0]=r[0]*n+r[4]*i+r[8]*a+r[12]*s,e[1]=r[1]*n+r[5]*i+r[9]*a+r[13]*s,e[2]=r[2]*n+r[6]*i+r[10]*a+r[14]*s,e[3]=r[3]*n+r[7]*i+r[11]*a+r[15]*s}(g,f,c)}else g[0]=g[1]=g[2]=0,g[3]=1;if(t[0]=w,t[1]=E,t[2]=x,function(e,t){e[0][0]=t[0],e[0][1]=t[1],e[0][2]=t[2],e[1][0]=t[4],e[1][1]=t[5],e[1][2]=t[6],e[2][0]=t[8],e[2][1]=t[9],e[2][2]=t[10]}(d,h),r[0]=l.length(d[0]),l.normalize(d[0],d[0]),i[0]=l.dot(d[0],d[1]),m(d[1],d[1],d[0],1,-i[0]),r[1]=l.length(d[1]),l.normalize(d[1],d[1]),i[0]/=r[1],i[1]=l.dot(d[0],d[2]),m(d[2],d[2],d[0],1,-i[1]),i[2]=l.dot(d[1],d[2]),m(d[2],d[2],d[1],1,-i[2]),r[2]=l.length(d[2]),l.normalize(d[2],d[2]),i[1]/=r[2],i[2]/=r[2],l.cross(p,d[1],d[2]),l.dot(d[0],p)<0)for(var T=0;T<3;T++)r[T]*=-1,d[T][0]*=-1,d[T][1]*=-1,d[T][2]*=-1;return v[0]=.5*Math.sqrt(Math.max(1+d[0][0]-d[1][1]-d[2][2],0)),v[1]=.5*Math.sqrt(Math.max(1-d[0][0]+d[1][1]-d[2][2],0)),v[2]=.5*Math.sqrt(Math.max(1-d[0][0]-d[1][1]+d[2][2],0)),v[3]=.5*Math.sqrt(Math.max(1+d[0][0]+d[1][1]+d[2][2],0)),d[2][1]>d[1][2]&&(v[0]=-v[0]),d[0][2]>d[2][0]&&(v[1]=-v[1]),d[1][0]>d[0][1]&&(v[2]=-v[2]),!0}},{"./normalize":"5fBt","gl-mat4/create":"CJSY","gl-mat4/clone":"bLoX","gl-mat4/determinant":"5JuV","gl-mat4/invert":"OS9i","gl-mat4/transpose":"TUrw","gl-vec3/length":"uBHl","gl-vec3/normalize":"JpY9","gl-vec3/dot":"wcjZ","gl-vec3/cross":"uUtD"}],BuYX:[function(e,t,r){t.exports=function(e,t,r,n){var i,a,s,o,u,l=t[0],h=t[1],c=t[2],f=t[3],d=r[0],p=r[1],m=r[2],g=r[3];return(a=l*d+h*p+c*m+f*g)<0&&(a=-a,d=-d,p=-p,m=-m,g=-g),1-a>1e-6?(i=Math.acos(a),s=Math.sin(i),o=Math.sin((1-n)*i)/s,u=Math.sin(n*i)/s):(o=1-n,u=n),e[0]=o*l+u*d,e[1]=o*h+u*p,e[2]=o*c+u*m,e[3]=o*f+u*g,e}},{}],dlsB:[function(e,t,r){t.exports=e("gl-quat/slerp")},{"gl-quat/slerp":"BuYX"}],Kcce:[function(e,t,r){var n=e("gl-vec3/lerp"),i=e("mat4-recompose"),a=e("mat4-decompose"),s=e("gl-mat4/determinant"),o=e("quat-slerp"),u=c(),l=c(),h=c();function c(){return{translate:f(),scale:f(1),skew:f(),perspective:[0,0,0,1],quaternion:[0,0,0,1]}}function f(e){return[e||0,e||0,e||0]}t.exports=function(e,t,r,c){if(0===s(t)||0===s(r))return!1;var f=a(t,u.translate,u.scale,u.skew,u.perspective,u.quaternion),d=a(r,l.translate,l.scale,l.skew,l.perspective,l.quaternion);return!(!f||!d||(n(h.translate,u.translate,l.translate,c),n(h.skew,u.skew,l.skew,c),n(h.scale,u.scale,l.scale,c),n(h.perspective,u.perspective,l.perspective,c),o(h.quaternion,u.quaternion,l.quaternion,c),i(e,h.translate,h.scale,h.skew,h.perspective,h.quaternion),0))}},{"gl-vec3/lerp":"nrYL","mat4-recompose":"s2pK","mat4-decompose":"OrHu","gl-mat4/determinant":"5JuV","quat-slerp":"dlsB"}],Lqmf:[function(e,t,r){"use strict";var n=e("binary-search-bounds"),i=e("mat4-interpolate"),a=e("gl-mat4/invert"),s=e("gl-mat4/rotateX"),o=e("gl-mat4/rotateY"),u=e("gl-mat4/rotateZ"),l=e("gl-mat4/lookAt"),h=e("gl-mat4/translate"),c=(e("gl-mat4/scale"),e("gl-vec3/normalize")),f=[0,0,0];function d(e){this._components=e.slice(),this._time=[0],this.prevMatrix=e.slice(),this.nextMatrix=e.slice(),this.computedMatrix=e.slice(),this.computedInverse=e.slice(),this.computedEye=[0,0,0],this.computedUp=[0,0,0],this.computedCenter=[0,0,0],this.computedRadius=[0],this._limits=[-1/0,1/0]}t.exports=function(e){return new d((e=e||{}).matrix||[1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1])};var p=d.prototype;p.recalcMatrix=function(e){var t=this._time,r=n.le(t,e),s=this.computedMatrix;if(!(r<0)){var o=this._components;if(r===t.length-1)for(var u=16*r,l=0;l<16;++l)s[l]=o[u++];else{var h=t[r+1]-t[r],f=(u=16*r,this.prevMatrix),d=!0;for(l=0;l<16;++l)f[l]=o[u++];var p=this.nextMatrix;for(l=0;l<16;++l)p[l]=o[u++],d=d&&f[l]===p[l];if(h<1e-6||d)for(l=0;l<16;++l)s[l]=f[l];else i(s,f,p,(e-t[r])/h)}var m=this.computedUp;m[0]=s[1],m[1]=s[5],m[2]=s[9],c(m,m);var g=this.computedInverse;a(g,s);var v=this.computedEye,_=g[15];v[0]=g[12]/_,v[1]=g[13]/_,v[2]=g[14]/_;var b=this.computedCenter,y=Math.exp(this.computedRadius[0]);for(l=0;l<3;++l)b[l]=v[l]-s[2+4*l]*y}},p.idle=function(e){if(!(e<this.lastT())){for(var t=this._components,r=t.length-16,n=0;n<16;++n)t.push(t[r++]);this._time.push(e)}},p.flush=function(e){var t=n.gt(this._time,e)-2;t<0||(this._time.splice(0,t),this._components.splice(0,16*t))},p.lastT=function(){return this._time[this._time.length-1]},p.lookAt=function(e,t,r,n){this.recalcMatrix(e),t=t||this.computedEye,r=r||f,n=n||this.computedUp,this.setMatrix(e,l(this.computedMatrix,t,r,n));for(var i=0,a=0;a<3;++a)i+=Math.pow(r[a]-t[a],2);i=Math.log(Math.sqrt(i)),this.computedRadius[0]=i},p.rotate=function(e,t,r,n){this.recalcMatrix(e);var i=this.computedInverse;t&&o(i,i,t),r&&s(i,i,r),n&&u(i,i,n),this.setMatrix(e,a(this.computedMatrix,i))};var m=[0,0,0];p.pan=function(e,t,r,n){m[0]=-(t||0),m[1]=-(r||0),m[2]=-(n||0),this.recalcMatrix(e);var i=this.computedInverse;h(i,i,m),this.setMatrix(e,a(i,i))},p.translate=function(e,t,r,n){m[0]=t||0,m[1]=r||0,m[2]=n||0,this.recalcMatrix(e);var i=this.computedMatrix;h(i,i,m),this.setMatrix(e,i)},p.setMatrix=function(e,t){if(!(e<this.lastT())){this._time.push(e);for(var r=0;r<16;++r)this._components.push(t[r])}},p.setDistance=function(e,t){this.computedRadius[0]=t},p.setDistanceLimits=function(e,t){var r=this._limits;r[0]=e,r[1]=t},p.getDistanceLimits=function(e){var t=this._limits;return e?(e[0]=t[0],e[1]=t[1],e):t}},{"binary-search-bounds":"++2h","mat4-interpolate":"Kcce","gl-mat4/invert":"OS9i","gl-mat4/rotateX":"X+ZC","gl-mat4/rotateY":"oVHP","gl-mat4/rotateZ":"sYuD","gl-mat4/lookAt":"4DbU","gl-mat4/translate":"bJFL","gl-mat4/scale":"HTs9","gl-vec3/normalize":"JpY9"}],"3Jfz":[function(e,t,r){"use strict";t.exports=function(e){var t=(e=e||{}).eye||[0,0,1],r=e.center||[0,0,0],o=e.up||[0,1,0],u=e.distanceLimits||[0,1/0],l=e.mode||"turntable",h=n(),c=i(),f=a();return h.setDistanceLimits(u[0],u[1]),h.lookAt(0,t,r,o),c.setDistanceLimits(u[0],u[1]),c.lookAt(0,t,r,o),f.setDistanceLimits(u[0],u[1]),f.lookAt(0,t,r,o),new s({turntable:h,orbit:c,matrix:f},l)};var n=e("turntable-camera-controller"),i=e("orbit-camera-controller"),a=e("matrix-camera-controller");function s(e,t){this._controllerNames=Object.keys(e),this._controllerList=this._controllerNames.map(function(t){return e[t]}),this._mode=t,this._active=e[t],this._active||(this._mode="turntable",this._active=e.turntable),this.modes=this._controllerNames,this.computedMatrix=this._active.computedMatrix,this.computedEye=this._active.computedEye,this.computedUp=this._active.computedUp,this.computedCenter=this._active.computedCenter,this.computedRadius=this._active.computedRadius}var o=s.prototype;[["flush",1],["idle",1],["lookAt",4],["rotate",4],["pan",4],["translate",4],["setMatrix",2],["setDistanceLimits",2],["setDistance",2]].forEach(function(e){for(var t=e[0],r=[],n=0;n<e[1];++n)r.push("a"+n);var i="var cc=this._controllerList;for(var i=0;i<cc.length;++i){cc[i]."+e[0]+"("+r.join()+")}";o[t]=Function.apply(null,r.concat(i))}),o.recalcMatrix=function(e){this._active.recalcMatrix(e)},o.getDistance=function(e){return this._active.getDistance(e)},o.getDistanceLimits=function(e){return this._active.getDistanceLimits(e)},o.lastT=function(){return this._active.lastT()},o.setMode=function(e){if(e!==this._mode){var t=this._controllerNames.indexOf(e);if(!(t<0)){var r=this._active,n=this._controllerList[t],i=Math.max(r.lastT(),n.lastT());r.recalcMatrix(i),n.setMatrix(i,r.computedMatrix),this._active=n,this._mode=e,this.computedMatrix=this._active.computedMatrix,this.computedEye=this._active.computedEye,this.computedUp=this._active.computedUp,this.computedCenter=this._active.computedCenter,this.computedRadius=this._active.computedRadius}}},o.getMode=function(){return this._mode}},{"turntable-camera-controller":"1R2v","orbit-camera-controller":"1E1e","matrix-camera-controller":"Lqmf"}],yodp:[function(e,t,r){"use strict";function n(e){return e.target||e.srcElement||window}r.buttons=function(e){if("object"==typeof e){if("buttons"in e)return e.buttons;if("which"in e){if(2===(t=e.which))return 4;if(3===t)return 2;if(t>0)return 1<<t-1}else if("button"in e){var t;if(1===(t=e.button))return 4;if(2===t)return 2;if(t>=0)return 1<<t}}return 0},r.element=n,r.x=function(e){if("object"==typeof e){if("offsetX"in e)return e.offsetX;var t=n(e).getBoundingClientRect();return e.clientX-t.left}return 0},r.y=function(e){if("object"==typeof e){if("offsetY"in e)return e.offsetY;var t=n(e).getBoundingClientRect();return e.clientY-t.top}return 0}},{}],"9a0v":[function(e,t,r){"use strict";t.exports=function(e,t){t||(t=e,e=window);var r=0,i=0,a=0,s={shift:!1,alt:!1,control:!1,meta:!1},o=!1;function u(e){var t=!1;return"altKey"in e&&(t=t||e.altKey!==s.alt,s.alt=!!e.altKey),"shiftKey"in e&&(t=t||e.shiftKey!==s.shift,s.shift=!!e.shiftKey),"ctrlKey"in e&&(t=t||e.ctrlKey!==s.control,s.control=!!e.ctrlKey),"metaKey"in e&&(t=t||e.metaKey!==s.meta,s.meta=!!e.metaKey),t}function l(e,o){var l=n.x(o),h=n.y(o);"buttons"in o&&(e=0|o.buttons),(e!==r||l!==i||h!==a||u(o))&&(r=0|e,i=l||0,a=h||0,t&&t(r,i,a,s))}function h(e){l(0,e)}function c(){(r||i||a||s.shift||s.alt||s.meta||s.control)&&(i=a=0,r=0,s.shift=s.alt=s.control=s.meta=!1,t&&t(0,0,0,s))}function f(e){u(e)&&t&&t(r,i,a,s)}function d(e){0===n.buttons(e)?l(0,e):l(r,e)}function p(e){l(r|n.buttons(e),e)}function m(e){l(r&~n.buttons(e),e)}function g(){o||(o=!0,e.addEventListener("mousemove",d),e.addEventListener("mousedown",p),e.addEventListener("mouseup",m),e.addEventListener("mouseleave",h),e.addEventListener("mouseenter",h),e.addEventListener("mouseout",h),e.addEventListener("mouseover",h),e.addEventListener("blur",c),e.addEventListener("keyup",f),e.addEventListener("keydown",f),e.addEventListener("keypress",f),e!==window&&(window.addEventListener("blur",c),window.addEventListener("keyup",f),window.addEventListener("keydown",f),window.addEventListener("keypress",f)))}g();var v={element:e};return Object.defineProperties(v,{enabled:{get:function(){return o},set:function(t){t?g():o&&(o=!1,e.removeEventListener("mousemove",d),e.removeEventListener("mousedown",p),e.removeEventListener("mouseup",m),e.removeEventListener("mouseleave",h),e.removeEventListener("mouseenter",h),e.removeEventListener("mouseout",h),e.removeEventListener("mouseover",h),e.removeEventListener("blur",c),e.removeEventListener("keyup",f),e.removeEventListener("keydown",f),e.removeEventListener("keypress",f),e!==window&&(window.removeEventListener("blur",c),window.removeEventListener("keyup",f),window.removeEventListener("keydown",f),window.removeEventListener("keypress",f)))},enumerable:!0},buttons:{get:function(){return r},enumerable:!0},x:{get:function(){return i},enumerable:!0},y:{get:function(){return a},enumerable:!0},mods:{get:function(){return s},enumerable:!0}}),v};var n=e("mouse-event")},{"mouse-event":"yodp"}],LL1D:[function(e,t,r){t.exports=function(e,t){t||(t=[0,""]),e=String(e);var r=parseFloat(e,10);return t[0]=r,t[1]=e.match(/[\d.\-\+]*\s*(.*)/)[1]||"",t}},{}],"8imh":[function(e,t,r){"use strict";var n=e("parse-unit");t.exports=o;var i=s("in",document.body);function a(e,t){var r=n(getComputedStyle(e).getPropertyValue(t));return r[0]*o(r[1],e)}function s(e,t){var r=document.createElement("div");r.style.height="128"+e,t.appendChild(r);var n=a(r,"height")/128;return t.removeChild(r),n}function o(e,t){if(!e)return null;switch(t=t||document.body,e=(e+""||"px").trim().toLowerCase(),t!==window&&t!==document||(t=document.body),e){case"%":return t.clientHeight/100;case"ch":case"ex":return s(e,t);case"em":return a(t,"font-size");case"rem":return a(document.body,"font-size");case"vw":return window.innerWidth/100;case"vh":return window.innerHeight/100;case"vmin":return Math.min(window.innerWidth,window.innerHeight)/100;case"vmax":return Math.max(window.innerWidth,window.innerHeight)/100;case"in":return i;case"cm":return i/2.54;case"mm":return i/25.4;case"pt":return i/72;case"pc":return i/6;case"px":return 1}var r=n(e);if(!isNaN(r[0])&&r[1]){var u=o(r[1],t);return"number"==typeof u?r[0]*u:null}return null}},{"parse-unit":"LL1D"}],"2BDW":[function(e,t,r){"use strict";var n=e("to-px");t.exports=function(e,t,r){"function"==typeof e&&(r=!!t,t=e,e=window);var i=n("ex",e),a=function(e){r&&e.preventDefault();var n=e.deltaX||0,a=e.deltaY||0,s=e.deltaZ||0,o=1;switch(e.deltaMode){case 1:o=i;break;case 2:o=window.innerHeight}if(a*=o,s*=o,(n*=o)||a||s)return t(n,a,s,e)};return e.addEventListener("wheel",a),a}},{"to-px":"8imh"}],pbSk:[function(e,t,r){var n={left:0,top:0};function i(e){return e===window||e===document||e===document.body?n:e.getBoundingClientRect()}t.exports=function(e,t,r){t=t||e.currentTarget||e.srcElement,Array.isArray(r)||(r=[0,0]);var n=e.clientX||0,a=e.clientY||0,s=i(t);return r[0]=n-s.left,r[1]=a-s.top,r}},{}],Pym4:[function(e,t,r){t.exports=!0},{}],TsnK:[function(e,t,r){"use strict";var n=e("is-browser");t.exports=n&&function(){var e=!1;try{var t=Object.defineProperty({},"passive",{get:function(){e=!0}});window.addEventListener("test",null,t),window.removeEventListener("test",null,t)}catch(r){e=!1}return e}()},{"is-browser":"Pym4"}],ulWn:[function(e,t,r){"use strict";t.exports=function(e,t){e=e||document.body;var r=[.01,1/0];"distanceLimits"in(t=t||{})&&(r[0]=t.distanceLimits[0],r[1]=t.distanceLimits[1]),"zoomMin"in t&&(r[0]=t.zoomMin),"zoomMax"in t&&(r[1]=t.zoomMax);var l=i({center:t.center||[0,0,0],up:t.up||[0,1,0],eye:t.eye||[0,0,10],mode:t.mode||"orbit",distanceLimits:r}),h=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],c=0,f=e.clientWidth,d=e.clientHeight,p={view:l,element:e,delay:t.delay||16,rotateSpeed:t.rotateSpeed||1,zoomSpeed:t.zoomSpeed||1,translateSpeed:t.translateSpeed||1,flipX:!!t.flipX,flipY:!!t.flipY,modes:l.modes,tick:function(){var t=n(),r=this.delay;l.idle(t-r),l.flush(t-(100+2*r));var i=t-2*r;l.recalcMatrix(i);for(var a=!0,s=l.computedMatrix,o=0;o<16;++o)a=a&&h[o]===s[o],h[o]=s[o];var u=e.clientWidth===f&&e.clientHeight===d;return f=e.clientWidth,d=e.clientHeight,a?!u:(c=Math.exp(l.computedRadius[0]),!0)},lookAt:function(e,t,r){l.lookAt(l.lastT(),e,t,r)},rotate:function(e,t,r){l.rotate(l.lastT(),e,t,r)},pan:function(e,t,r){l.pan(l.lastT(),e,t,r)},translate:function(e,t,r){l.translate(l.lastT(),e,t,r)}};Object.defineProperties(p,{matrix:{get:function(){return l.computedMatrix},set:function(e){return l.setMatrix(l.lastT(),e),l.computedMatrix},enumerable:!0},mode:{get:function(){return l.getMode()},set:function(e){return l.setMode(e),l.getMode()},enumerable:!0},center:{get:function(){return l.computedCenter},set:function(e){return l.lookAt(l.lastT(),e),l.computedCenter},enumerable:!0},eye:{get:function(){return l.computedEye},set:function(e){return l.lookAt(l.lastT(),null,e),l.computedEye},enumerable:!0},up:{get:function(){return l.computedUp},set:function(e){return l.lookAt(l.lastT(),null,null,e),l.computedUp},enumerable:!0},distance:{get:function(){return c},set:function(e){return l.setDistance(l.lastT(),e),e},enumerable:!0},distanceLimits:{get:function(){return l.getDistanceLimits(r)},set:function(e){return l.setDistanceLimits(e),e},enumerable:!0}}),e.addEventListener("contextmenu",function(e){return e.preventDefault(),!1});var m=0,g=0,v=[],_={shift:!1,control:!1,alt:!1,meta:!1};function b(t,r,i,a){var s=1/e.clientHeight,o=s*(r-m),u=s*(i-g),h=p.flipX?1:-1,f=p.flipY?1:-1,d=Math.PI*p.rotateSpeed,v=n();if(1&t)a.shift?l.rotate(v,0,0,-o*d):l.rotate(v,h*d*o,-f*d*u,0);else if(2&t)l.pan(v,-p.translateSpeed*o*c,p.translateSpeed*u*c,0);else if(4&t){var b=p.zoomSpeed*u/window.innerHeight*(v-l.lastT())*50;l.pan(v,0,0,c*(Math.exp(b)-1))}m=r,g=i,_=a}return a(e,b),e.addEventListener("touchstart",function(t){if(t.preventDefault(),t.targetTouches.length<2){var r=o(t.changedTouches[0],e);b(0,r[0],r[1],_),b(1,r[0],r[1],_)}else if(2===t.targetTouches.length)for(let e of t.targetTouches)v.push(e)},!!u&&{passive:!1}),e.addEventListener("touchmove",function(t){if(t.targetTouches.length<2){var r=o(t.changedTouches[0],e);b(1,r[0],r[1],_)}else if(2===t.targetTouches.length){let e,r,i=n(),a=t.targetTouches[0],s=t.targetTouches[1];for(let t=0;t<v.length;t++){let n=v[t];n.identifier===a.identifier&&(e=n,v[t]=a),n.identifier===s.identifier&&(r=n,v[t]=s)}let o=Math.abs(e.clientX-r.clientX),u=Math.abs(e.clientY-r.clientY),h=Math.abs(a.clientX-s.clientY),c=Math.abs(a.clientY-s.clientY),f=o/h,d=u/c,m=Math.max(f,d);m===f&&o>h&&(m=-m),m===d&&u>c&&(m=-m);let g=p.zoomSpeed;l.pan(i,0,0,-g*m/(window.innerHeight/20))}},!!u&&{passive:!1}),e.addEventListener("touchend",function(t){t.preventDefault(),o(t.changedTouches[0],e),b(0,m,g,_);for(let e of t.targetTouches)for(let t=0;t<v.length;t++)v[t]==e.identifier&&v.splice(t,1)},!!u&&{passive:!1}),s(e,function(e,t,r){var i=p.flipX?1:-1,a=p.flipY?1:-1,s=n();if(Math.abs(e)>Math.abs(t))l.rotate(s,0,0,-e*i*Math.PI*p.rotateSpeed/window.innerWidth);else{var o=p.zoomSpeed*a*t/window.innerHeight*(s-l.lastT())/100;l.pan(s,0,0,c*(Math.exp(o)-1))}},!0),p};var n=e("right-now"),i=e("3d-view"),a=e("mouse-change"),s=e("mouse-wheel"),o=e("mouse-event-offset"),u=e("has-passive-events")},{"right-now":"nAQP","3d-view":"3Jfz","mouse-change":"9a0v","mouse-wheel":"2BDW","mouse-event-offset":"pbSk","has-passive-events":"TsnK"}],C2Sb:[function(e,t,r){"use strict";var n=e("gl-texture2d");t.exports=function(e,t,r,n){i||(i=e.FRAMEBUFFER_UNSUPPORTED,a=e.FRAMEBUFFER_INCOMPLETE_ATTACHMENT,s=e.FRAMEBUFFER_INCOMPLETE_DIMENSIONS,o=e.FRAMEBUFFER_INCOMPLETE_MISSING_ATTACHMENT);var l=e.getExtension("WEBGL_draw_buffers");if(!u&&l&&function(e,t){var r=e.getParameter(t.MAX_COLOR_ATTACHMENTS_WEBGL);u=new Array(r+1);for(var n=0;n<=r;++n){for(var i=new Array(r),a=0;a<n;++a)i[a]=e.COLOR_ATTACHMENT0+a;for(a=n;a<r;++a)i[a]=e.NONE;u[n]=i}}(e,l),Array.isArray(t)&&(n=r,r=0|t[1],t=0|t[0]),"number"!=typeof t)throw new Error("gl-fbo: Missing shape parameter");var h=e.getParameter(e.MAX_RENDERBUFFER_SIZE);if(t<0||t>h||r<0||r>h)throw new Error("gl-fbo: Parameters are too large for FBO");var c=1;if("color"in(n=n||{})){if((c=Math.max(0|n.color,0))<0)throw new Error("gl-fbo: Must specify a nonnegative number of colors");if(c>1){if(!l)throw new Error("gl-fbo: Multiple draw buffer extension not supported");if(c>e.getParameter(l.MAX_COLOR_ATTACHMENTS_WEBGL))throw new Error("gl-fbo: Context does not support "+c+" draw buffers")}}var f=e.UNSIGNED_BYTE,d=e.getExtension("OES_texture_float");if(n.float&&c>0){if(!d)throw new Error("gl-fbo: Context does not support floating point textures");f=e.FLOAT}else n.preferFloat&&c>0&&d&&(f=e.FLOAT);var p=!0;"depth"in n&&(p=!!n.depth);var g=!1;return"stencil"in n&&(g=!!n.stencil),new m(e,t,r,f,c,p,g,l)};var i,a,s,o,u=null;function l(e){return[e.getParameter(e.FRAMEBUFFER_BINDING),e.getParameter(e.RENDERBUFFER_BINDING),e.getParameter(e.TEXTURE_BINDING_2D)]}function h(e,t){e.bindFramebuffer(e.FRAMEBUFFER,t[0]),e.bindRenderbuffer(e.RENDERBUFFER,t[1]),e.bindTexture(e.TEXTURE_2D,t[2])}function c(e){switch(e){case i:throw new Error("gl-fbo: Framebuffer unsupported");case a:throw new Error("gl-fbo: Framebuffer incomplete attachment");case s:throw new Error("gl-fbo: Framebuffer incomplete dimensions");case o:throw new Error("gl-fbo: Framebuffer incomplete missing attachment");default:throw new Error("gl-fbo: Framebuffer failed for unspecified reason")}}function f(e,t,r,i,a,s){if(!i)return null;var o=n(e,t,r,a,i);return o.magFilter=e.NEAREST,o.minFilter=e.NEAREST,o.mipSamples=1,o.bind(),e.framebufferTexture2D(e.FRAMEBUFFER,s,e.TEXTURE_2D,o.handle,0),o}function d(e,t,r,n,i){var a=e.createRenderbuffer();return e.bindRenderbuffer(e.RENDERBUFFER,a),e.renderbufferStorage(e.RENDERBUFFER,n,t,r),e.framebufferRenderbuffer(e.FRAMEBUFFER,i,e.RENDERBUFFER,a),a}function p(e){var t=l(e.gl),r=e.gl,n=e.handle=r.createFramebuffer(),i=e._shape[0],a=e._shape[1],s=e.color.length,o=e._ext,p=e._useStencil,m=e._useDepth,g=e._colorType;r.bindFramebuffer(r.FRAMEBUFFER,n);for(var v=0;v<s;++v)e.color[v]=f(r,i,a,g,r.RGBA,r.COLOR_ATTACHMENT0+v);0===s?(e._color_rb=d(r,i,a,r.RGBA4,r.COLOR_ATTACHMENT0),o&&o.drawBuffersWEBGL(u[0])):s>1&&o.drawBuffersWEBGL(u[s]);var _=r.getExtension("WEBGL_depth_texture");_?p?e.depth=f(r,i,a,_.UNSIGNED_INT_24_8_WEBGL,r.DEPTH_STENCIL,r.DEPTH_STENCIL_ATTACHMENT):m&&(e.depth=f(r,i,a,r.UNSIGNED_SHORT,r.DEPTH_COMPONENT,r.DEPTH_ATTACHMENT)):m&&p?e._depth_rb=d(r,i,a,r.DEPTH_STENCIL,r.DEPTH_STENCIL_ATTACHMENT):m?e._depth_rb=d(r,i,a,r.DEPTH_COMPONENT16,r.DEPTH_ATTACHMENT):p&&(e._depth_rb=d(r,i,a,r.STENCIL_INDEX,r.STENCIL_ATTACHMENT));var b=r.checkFramebufferStatus(r.FRAMEBUFFER);if(b!==r.FRAMEBUFFER_COMPLETE){for(e._destroyed=!0,r.bindFramebuffer(r.FRAMEBUFFER,null),r.deleteFramebuffer(e.handle),e.handle=null,e.depth&&(e.depth.dispose(),e.depth=null),e._depth_rb&&(r.deleteRenderbuffer(e._depth_rb),e._depth_rb=null),v=0;v<e.color.length;++v)e.color[v].dispose(),e.color[v]=null;e._color_rb&&(r.deleteRenderbuffer(e._color_rb),e._color_rb=null),h(r,t),c(b)}h(r,t)}function m(e,t,r,n,i,a,s,o){this.gl=e,this._shape=[0|t,0|r],this._destroyed=!1,this._ext=o,this.color=new Array(i);for(var u=0;u<i;++u)this.color[u]=null;this._color_rb=null,this.depth=null,this._depth_rb=null,this._colorType=n,this._useDepth=a,this._useStencil=s;var l=this,h=[0|t,0|r];Object.defineProperties(h,{0:{get:function(){return l._shape[0]},set:function(e){return l.width=e}},1:{get:function(){return l._shape[1]},set:function(e){return l.height=e}}}),this._shapeVector=h,p(this)}var g=m.prototype;function v(e,t,r){if(e._destroyed)throw new Error("gl-fbo: Can't resize destroyed FBO");if(e._shape[0]!==t||e._shape[1]!==r){var n=e.gl,i=n.getParameter(n.MAX_RENDERBUFFER_SIZE);if(t<0||t>i||r<0||r>i)throw new Error("gl-fbo: Can't resize FBO, invalid dimensions");e._shape[0]=t,e._shape[1]=r;for(var a=l(n),s=0;s<e.color.length;++s)e.color[s].shape=e._shape;e._color_rb&&(n.bindRenderbuffer(n.RENDERBUFFER,e._color_rb),n.renderbufferStorage(n.RENDERBUFFER,n.RGBA4,e._shape[0],e._shape[1])),e.depth&&(e.depth.shape=e._shape),e._depth_rb&&(n.bindRenderbuffer(n.RENDERBUFFER,e._depth_rb),e._useDepth&&e._useStencil?n.renderbufferStorage(n.RENDERBUFFER,n.DEPTH_STENCIL,e._shape[0],e._shape[1]):e._useDepth?n.renderbufferStorage(n.RENDERBUFFER,n.DEPTH_COMPONENT16,e._shape[0],e._shape[1]):e._useStencil&&n.renderbufferStorage(n.RENDERBUFFER,n.STENCIL_INDEX,e._shape[0],e._shape[1])),n.bindFramebuffer(n.FRAMEBUFFER,e.handle);var o=n.checkFramebufferStatus(n.FRAMEBUFFER);o!==n.FRAMEBUFFER_COMPLETE&&(e.dispose(),h(n,a),c(o)),h(n,a)}}Object.defineProperties(g,{shape:{get:function(){return this._destroyed?[0,0]:this._shapeVector},set:function(e){if(Array.isArray(e)||(e=[0|e,0|e]),2!==e.length)throw new Error("gl-fbo: Shape vector must be length 2");var t=0|e[0],r=0|e[1];return v(this,t,r),[t,r]},enumerable:!1},width:{get:function(){return this._destroyed?0:this._shape[0]},set:function(e){return v(this,e|=0,this._shape[1]),e},enumerable:!1},height:{get:function(){return this._destroyed?0:this._shape[1]},set:function(e){return e|=0,v(this,this._shape[0],e),e},enumerable:!1}}),g.bind=function(){if(!this._destroyed){var e=this.gl;e.bindFramebuffer(e.FRAMEBUFFER,this.handle),e.viewport(0,0,this._shape[0],this._shape[1])}},g.dispose=function(){if(!this._destroyed){this._destroyed=!0;var e=this.gl;e.deleteFramebuffer(this.handle),this.handle=null,this.depth&&(this.depth.dispose(),this.depth=null),this._depth_rb&&(e.deleteRenderbuffer(this._depth_rb),this._depth_rb=null);for(var t=0;t<this.color.length;++t)this.color[t].dispose(),this.color[t]=null;this._color_rb&&(e.deleteRenderbuffer(this._color_rb),this._color_rb=null)}}},{"gl-texture2d":"6Wo/"}],MSjk:[function(e,t,r){!function(e,t){"use strict";t(void 0!==r?r:e.esprima={})}(this,function(e){"use strict";var t,r,n,i,a,s,o,u,l,h,c,f,d,p,m,g,v,_;function b(e,t){if(!e)throw new Error("ASSERT: "+t)}function y(e){return e>=48&&e<=57}function w(e){return"0123456789abcdefABCDEF".indexOf(e)>=0}function E(e){return"01234567".indexOf(e)>=0}function x(e){return 32===e||9===e||11===e||12===e||160===e||e>=5760&&[5760,6158,8192,8193,8194,8195,8196,8197,8198,8199,8200,8201,8202,8239,8287,12288,65279].indexOf(e)>=0}function A(e){return 10===e||13===e||8232===e||8233===e}function T(e){return 36===e||95===e||e>=65&&e<=90||e>=97&&e<=122||92===e||e>=128&&o.NonAsciiIdentifierStart.test(String.fromCharCode(e))}function S(e){return 36===e||95===e||e>=65&&e<=90||e>=97&&e<=122||e>=48&&e<=57||92===e||e>=128&&o.NonAsciiIdentifierPart.test(String.fromCharCode(e))}function R(e){switch(e){case"implements":case"interface":case"package":case"private":case"protected":case"public":case"static":case"yield":case"let":return!0;default:return!1}}function k(e){return"eval"===e||"arguments"===e}function C(e,t,r,n,i){var a;b("number"==typeof r,"Comment must have valid position"),v.lastCommentStart>=r||(v.lastCommentStart=r,a={type:e,value:t},_.range&&(a.range=[r,n]),_.loc&&(a.loc=i),_.comments.push(a),_.attachComment&&(_.leadingComments.push(a),_.trailingComments.push(a)))}function M(e){var t,r,n,i;for(t=c-e,r={start:{line:f,column:c-d-e}};c<p;)if(n=l.charCodeAt(c),++c,A(n))return _.comments&&(i=l.slice(t+e,c-1),r.end={line:f,column:c-d-1},C("Line",i,t,c-1,r)),13===n&&10===l.charCodeAt(c)&&++c,++f,void(d=c);_.comments&&(i=l.slice(t+e,c),r.end={line:f,column:c-d},C("Line",i,t,c,r))}function I(){var e,t,r,n;for(_.comments&&(e=c-2,t={start:{line:f,column:c-d-2}});c<p;)if(A(r=l.charCodeAt(c)))13===r&&10===l.charCodeAt(c+1)&&++c,++f,d=++c,c>=p&&W({},s.UnexpectedToken,"ILLEGAL");else if(42===r){if(47===l.charCodeAt(c+1))return++c,++c,void(_.comments&&(n=l.slice(e+2,c-2),t.end={line:f,column:c-d},C("Block",n,e,c,t)));++c}else++c;W({},s.UnexpectedToken,"ILLEGAL")}function L(){var e,t;for(t=0===c;c<p;)if(x(e=l.charCodeAt(c)))++c;else if(A(e))++c,13===e&&10===l.charCodeAt(c)&&++c,++f,d=c,t=!0;else if(47===e)if(47===(e=l.charCodeAt(c+1)))++c,++c,M(2),t=!0;else{if(42!==e)break;++c,++c,I()}else if(t&&45===e){if(45!==l.charCodeAt(c+1)||62!==l.charCodeAt(c+2))break;c+=3,M(3)}else{if(60!==e)break;if("!--"!==l.slice(c+1,c+4))break;++c,++c,++c,++c,M(4)}}function N(e){var t,r,n,i=0;for(r="u"===e?4:2,t=0;t<r;++t){if(!(c<p&&w(l[c])))return"";n=l[c++],i=16*i+"0123456789abcdef".indexOf(n.toLowerCase())}return String.fromCharCode(i)}function O(){var e,t;for(e=l.charCodeAt(c++),t=String.fromCharCode(e),92===e&&(117!==l.charCodeAt(c)&&W({},s.UnexpectedToken,"ILLEGAL"),++c,(e=N("u"))&&"\\"!==e&&T(e.charCodeAt(0))||W({},s.UnexpectedToken,"ILLEGAL"),t=e);c<p&&S(e=l.charCodeAt(c));)++c,t+=String.fromCharCode(e),92===e&&(t=t.substr(0,t.length-1),117!==l.charCodeAt(c)&&W({},s.UnexpectedToken,"ILLEGAL"),++c,(e=N("u"))&&"\\"!==e&&S(e.charCodeAt(0))||W({},s.UnexpectedToken,"ILLEGAL"),t+=e);return t}function P(){var e,r,n,i,a=c,o=l.charCodeAt(c),u=l[c];switch(o){case 46:case 40:case 41:case 59:case 44:case 123:case 125:case 91:case 93:case 58:case 63:case 126:return++c,_.tokenize&&(40===o?_.openParenToken=_.tokens.length:123===o&&(_.openCurlyToken=_.tokens.length)),{type:t.Punctuator,value:String.fromCharCode(o),lineNumber:f,lineStart:d,start:a,end:c};default:if(61===(e=l.charCodeAt(c+1)))switch(o){case 43:case 45:case 47:case 60:case 62:case 94:case 124:case 37:case 38:case 42:return c+=2,{type:t.Punctuator,value:String.fromCharCode(o)+String.fromCharCode(e),lineNumber:f,lineStart:d,start:a,end:c};case 33:case 61:return c+=2,61===l.charCodeAt(c)&&++c,{type:t.Punctuator,value:l.slice(a,c),lineNumber:f,lineStart:d,start:a,end:c}}}return">>>="===(i=l.substr(c,4))?(c+=4,{type:t.Punctuator,value:i,lineNumber:f,lineStart:d,start:a,end:c}):">>>"===(n=i.substr(0,3))||"<<="===n||">>="===n?(c+=3,{type:t.Punctuator,value:n,lineNumber:f,lineStart:d,start:a,end:c}):u===(r=n.substr(0,2))[1]&&"+-<>&|".indexOf(u)>=0||"=>"===r?(c+=2,{type:t.Punctuator,value:r,lineNumber:f,lineStart:d,start:a,end:c}):"<>=!+-*%&|^/".indexOf(u)>=0?(++c,{type:t.Punctuator,value:u,lineNumber:f,lineStart:d,start:a,end:c}):void W({},s.UnexpectedToken,"ILLEGAL")}function D(){var e,r,n;if(b(y((n=l[c]).charCodeAt(0))||"."===n,"Numeric literal must start with a decimal digit or a decimal point"),r=c,e="","."!==n){if(e=l[c++],n=l[c],"0"===e){if("x"===n||"X"===n)return++c,function(e){for(var r="";c<p&&w(l[c]);)r+=l[c++];return 0===r.length&&W({},s.UnexpectedToken,"ILLEGAL"),T(l.charCodeAt(c))&&W({},s.UnexpectedToken,"ILLEGAL"),{type:t.NumericLiteral,value:parseInt("0x"+r,16),lineNumber:f,lineStart:d,start:e,end:c}}(r);if(E(n)&&function(){var e,t;for(e=c+1;e<p;++e){if("8"===(t=l[e])||"9"===t)return!1;if(!E(t))return!0}return!0}())return function(e){for(var r="0"+l[c++];c<p&&E(l[c]);)r+=l[c++];return(T(l.charCodeAt(c))||y(l.charCodeAt(c)))&&W({},s.UnexpectedToken,"ILLEGAL"),{type:t.NumericLiteral,value:parseInt(r,8),octal:!0,lineNumber:f,lineStart:d,start:e,end:c}}(r)}for(;y(l.charCodeAt(c));)e+=l[c++];n=l[c]}if("."===n){for(e+=l[c++];y(l.charCodeAt(c));)e+=l[c++];n=l[c]}if("e"===n||"E"===n)if(e+=l[c++],"+"!==(n=l[c])&&"-"!==n||(e+=l[c++]),y(l.charCodeAt(c)))for(;y(l.charCodeAt(c));)e+=l[c++];else W({},s.UnexpectedToken,"ILLEGAL");return T(l.charCodeAt(c))&&W({},s.UnexpectedToken,"ILLEGAL"),{type:t.NumericLiteral,value:parseFloat(e),lineNumber:f,lineStart:d,start:r,end:c}}function U(){var e,r,n,i;return g=null,L(),e=c,r=function(){var e,t,r,n;for(b("/"===(e=l[c]),"Regular expression literal must start with a slash"),t=l[c++],r=!1,n=!1;c<p;)if(t+=e=l[c++],"\\"===e)A((e=l[c++]).charCodeAt(0))&&W({},s.UnterminatedRegExp),t+=e;else if(A(e.charCodeAt(0)))W({},s.UnterminatedRegExp);else if(r)"]"===e&&(r=!1);else{if("/"===e){n=!0;break}"["===e&&(r=!0)}return n||W({},s.UnterminatedRegExp),{value:t.substr(1,t.length-2),literal:t}}(),n=function(){var e,t,r,n;for(t="",r="";c<p&&S((e=l[c]).charCodeAt(0));)if(++c,"\\"===e&&c<p)if("u"===(e=l[c])){if(n=++c,e=N("u"))for(r+=e,t+="\\u";n<c;++n)t+=l[n];else c=n,r+="u",t+="\\u";Y({},s.UnexpectedToken,"ILLEGAL")}else t+="\\",Y({},s.UnexpectedToken,"ILLEGAL");else r+=e,t+=e;return{value:r,literal:t}}(),i=function(e,t){var r;try{r=new RegExp(e,t)}catch(n){W({},s.InvalidRegExp)}return r}(r.value,n.value),_.tokenize?{type:t.RegularExpression,value:i,lineNumber:f,lineStart:d,start:e,end:c}:{literal:r.literal+n.literal,value:i,start:e,end:c}}function B(){var e,t,r,n;return L(),e=c,t={start:{line:f,column:c-d}},r=U(),t.end={line:f,column:c-d},_.tokenize||(_.tokens.length>0&&(n=_.tokens[_.tokens.length-1]).range[0]===e&&"Punctuator"===n.type&&("/"!==n.value&&"/="!==n.value||_.tokens.pop()),_.tokens.push({type:"RegularExpression",value:r.literal,range:[e,c],loc:t})),r}function F(){var e;return L(),c>=p?{type:t.EOF,lineNumber:f,lineStart:d,start:c,end:c}:T(e=l.charCodeAt(c))?function(){var e,r;return e=c,{type:1===(r=92===l.charCodeAt(c)?O():function(){var e,t;for(e=c++;c<p;){if(92===(t=l.charCodeAt(c)))return c=e,O();if(!S(t))break;++c}return l.slice(e,c)}()).length?t.Identifier:function(e){if(h&&R(e))return!0;switch(e.length){case 2:return"if"===e||"in"===e||"do"===e;case 3:return"var"===e||"for"===e||"new"===e||"try"===e||"let"===e;case 4:return"this"===e||"else"===e||"case"===e||"void"===e||"with"===e||"enum"===e;case 5:return"while"===e||"break"===e||"catch"===e||"throw"===e||"const"===e||"yield"===e||"class"===e||"super"===e;case 6:return"return"===e||"typeof"===e||"delete"===e||"switch"===e||"export"===e||"import"===e;case 7:return"default"===e||"finally"===e||"extends"===e;case 8:return"function"===e||"continue"===e||"debugger"===e;case 10:return"instanceof"===e;default:return!1}}(r)?t.Keyword:"null"===r?t.NullLiteral:"true"===r||"false"===r?t.BooleanLiteral:t.Identifier,value:r,lineNumber:f,lineStart:d,start:e,end:c}}():40===e||41===e||59===e?P():39===e||34===e?function(){var e,r,n,i,a,o,u,h,m="",g=!1;for(u=f,h=d,b("'"===(e=l[c])||'"'===e,"String literal must starts with a quote"),r=c,++c;c<p;){if((n=l[c++])===e){e="";break}if("\\"===n)if((n=l[c++])&&A(n.charCodeAt(0)))++f,"\r"===n&&"\n"===l[c]&&++c,d=c;else switch(n){case"u":case"x":o=c,(a=N(n))?m+=a:(c=o,m+=n);break;case"n":m+="\n";break;case"r":m+="\r";break;case"t":m+="\t";break;case"b":m+="\b";break;case"f":m+="\f";break;case"v":m+="\v";break;default:E(n)?(0!==(i="01234567".indexOf(n))&&(g=!0),c<p&&E(l[c])&&(g=!0,i=8*i+"01234567".indexOf(l[c++]),"0123".indexOf(n)>=0&&c<p&&E(l[c])&&(i=8*i+"01234567".indexOf(l[c++]))),m+=String.fromCharCode(i)):m+=n}else{if(A(n.charCodeAt(0)))break;m+=n}}return""!==e&&W({},s.UnexpectedToken,"ILLEGAL"),{type:t.StringLiteral,value:m,octal:g,startLineNumber:u,startLineStart:h,lineNumber:f,lineStart:d,start:r,end:c}}():46===e?y(l.charCodeAt(c+1))?D():P():y(e)?D():_.tokenize&&47===e?function(){var e,t;if(!(e=_.tokens[_.tokens.length-1]))return B();if("Punctuator"===e.type){if("]"===e.value)return P();if(")"===e.value)return!(t=_.tokens[_.openParenToken-1])||"Keyword"!==t.type||"if"!==t.value&&"while"!==t.value&&"for"!==t.value&&"with"!==t.value?P():B();if("}"===e.value){if(_.tokens[_.openCurlyToken-3]&&"Keyword"===_.tokens[_.openCurlyToken-3].type){if(!(t=_.tokens[_.openCurlyToken-4]))return P()}else{if(!_.tokens[_.openCurlyToken-4]||"Keyword"!==_.tokens[_.openCurlyToken-4].type)return P();if(!(t=_.tokens[_.openCurlyToken-5]))return B()}return n.indexOf(t.value)>=0?P():B()}return B()}return"Keyword"===e.type&&"this"!==e.value?B():P()}():P()}function j(){var e,n,i;return L(),e={start:{line:f,column:c-d}},n=F(),e.end={line:f,column:c-d},n.type!==t.EOF&&(i=l.slice(n.start,n.end),_.tokens.push({type:r[n.type],value:i,range:[n.start,n.end],loc:e})),n}function z(){var e;return c=(e=g).end,f=e.lineNumber,d=e.lineStart,g=void 0!==_.tokens?j():F(),c=e.end,f=e.lineNumber,d=e.lineStart,e}function V(){var e,t,r;e=c,t=f,r=d,g=void 0!==_.tokens?j():F(),c=e,f=t,d=r}function X(e,t){this.line=e,this.column=t}function H(e,t,r,n){this.start=new X(e,t),this.end=new X(r,n)}function G(){var e,t,r,n;return e=c,t=f,r=d,L(),n=f!==t,c=e,f=t,d=r,n}function W(e,t){var r,n=Array.prototype.slice.call(arguments,2),i=t.replace(/%(\d)/g,function(e,t){return b(t<n.length,"Message reference must be in range"),n[t]});throw"number"==typeof e.lineNumber?((r=new Error("Line "+e.lineNumber+": "+i)).index=e.start,r.lineNumber=e.lineNumber,r.column=e.start-d+1):((r=new Error("Line "+f+": "+i)).index=c,r.lineNumber=f,r.column=c-d+1),r.description=i,r}function Y(){try{W.apply(null,arguments)}catch(e){if(!_.errors)throw e;_.errors.push(e)}}function q(e){if(e.type===t.EOF&&W(e,s.UnexpectedEOS),e.type===t.NumericLiteral&&W(e,s.UnexpectedNumber),e.type===t.StringLiteral&&W(e,s.UnexpectedString),e.type===t.Identifier&&W(e,s.UnexpectedIdentifier),e.type===t.Keyword){if(function(e){switch(e){case"class":case"enum":case"export":case"extends":case"import":case"super":return!0;default:return!1}}(e.value))W(e,s.UnexpectedReserved);else if(h&&R(e.value))return void Y(e,s.StrictReservedWord);W(e,s.UnexpectedToken,e.value)}W(e,s.UnexpectedToken,e.value)}function Z(e){var r=z();r.type===t.Punctuator&&r.value===e||q(r)}function K(e){var r=z();r.type===t.Keyword&&r.value===e||q(r)}function J(e){return g.type===t.Punctuator&&g.value===e}function Q(e){return g.type===t.Keyword&&g.value===e}function $(){var e,r=c,n=f,i=d,a=g;if(59===l.charCodeAt(c)||J(";"))z();else{if(e=f,L(),f!==e)return c=r,f=n,d=i,void(g=a);g.type===t.EOF||J("}")||q(g)}}function ee(e){return e.type===i.Identifier||e.type===i.MemberExpression}function te(e,t){var r,n,i;return r=h,i=g,n=be(),t&&h&&k(e[0].name)&&Y(t,s.StrictParamName),h=r,m.markEnd(m.createFunctionExpression(null,e,[],n),i)}function re(){var e,r;return r=g,(e=z()).type===t.StringLiteral||e.type===t.NumericLiteral?(h&&e.octal&&Y(e,s.StrictOctalLiteral),m.markEnd(m.createLiteral(e),r)):m.markEnd(m.createIdentifier(e.value),r)}function ne(){var e,r,n,i,a,o;return o=g,(e=g).type===t.Identifier?(n=re(),"get"!==e.value||J(":")?"set"!==e.value||J(":")?(Z(":"),i=ce(),m.markEnd(m.createProperty("init",n,i),o)):(r=re(),Z("("),(e=g).type!==t.Identifier?(Z(")"),Y(e,s.UnexpectedToken,e.value),i=te([])):(a=[pe()],Z(")"),i=te(a,e)),m.markEnd(m.createProperty("set",r,i),o)):(r=re(),Z("("),Z(")"),i=te([]),m.markEnd(m.createProperty("get",r,i),o))):e.type!==t.EOF&&e.type!==t.Punctuator?(r=re(),Z(":"),i=ce(),m.markEnd(m.createProperty("init",r,i),o)):void q(e)}function ie(){var e,r,n,o;if(J("("))return function(){var e;return Z("("),e=fe(),Z(")"),e}();if(J("["))return function(){var e,t=[];for(e=g,Z("[");!J("]");)J(",")?(z(),t.push(null)):(t.push(ce()),J("]")||Z(","));return z(),m.markEnd(m.createArrayExpression(t),e)}();if(J("{"))return function(){var e,t,r,n,o,u=[],l={},c=String;for(o=g,Z("{");!J("}");)t=(e=ne()).key.type===i.Identifier?e.key.name:c(e.key.value),n="init"===e.kind?a.Data:"get"===e.kind?a.Get:a.Set,r="$"+t,Object.prototype.hasOwnProperty.call(l,r)?(l[r]===a.Data?h&&n===a.Data?Y({},s.StrictDuplicateProperty):n!==a.Data&&Y({},s.AccessorDataProperty):n===a.Data?Y({},s.AccessorDataProperty):l[r]&n&&Y({},s.AccessorGetSet),l[r]|=n):l[r]=n,u.push(e),J("}")||Z(",");return Z("}"),m.markEnd(m.createObjectExpression(u),o)}();if(e=g.type,o=g,e===t.Identifier)n=m.createIdentifier(z().value);else if(e===t.StringLiteral||e===t.NumericLiteral)h&&g.octal&&Y(g,s.StrictOctalLiteral),n=m.createLiteral(z());else if(e===t.Keyword){if(Q("function"))return function(){var e,t,r,n,i,a,o,u,l,c=null;return u=g,K("function"),J("(")||(e=g,c=pe(),h?k(e.value)&&Y(e,s.StrictFunctionName):k(e.value)?(r=e,n=s.StrictFunctionName):R(e.value)&&(r=e,n=s.StrictReservedWord)),l=(i=ye(r)).params,t=i.stricted,r=i.firstRestricted,i.message&&(n=i.message),o=h,a=be(),h&&r&&W(r,n),h&&t&&Y(t,n),h=o,m.markEnd(m.createFunctionExpression(c,l,[],a),u)}();Q("this")?(z(),n=m.createThisExpression()):q(z())}else e===t.BooleanLiteral?((r=z()).value="true"===r.value,n=m.createLiteral(r)):e===t.NullLiteral?((r=z()).value=null,n=m.createLiteral(r)):J("/")||J("/=")?(n=void 0!==_.tokens?m.createLiteral(B()):m.createLiteral(U()),V()):q(z());return m.markEnd(n,o)}function ae(){var e=[];if(Z("("),!J(")"))for(;c<p&&(e.push(ce()),!J(")"));)Z(",");return Z(")"),e}function se(){return Z("."),r=g,function(e){return e.type===t.Identifier||e.type===t.Keyword||e.type===t.BooleanLiteral||e.type===t.NullLiteral}(e=z())||q(e),m.markEnd(m.createIdentifier(e.value),r);var e,r}function oe(){var e;return Z("["),e=fe(),Z("]"),e}function ue(){var e,r,n=g;return e=function(){var e,t,r,n,i=v.allowIn;for(n=g,v.allowIn=!0,e=Q("new")?function e(){var t,r,n;return n=g,K("new"),t=function(){var t,r,n;for(b(v.allowIn,"callee of new expression always allow in keyword."),n=g,t=Q("new")?e():ie();J(".")||J("[");)J("[")?(r=oe(),t=m.createMemberExpression("[",t,r)):(r=se(),t=m.createMemberExpression(".",t,r)),m.markEnd(t,n);return t}(),r=J("(")?ae():[],m.markEnd(m.createNewExpression(t,r),n)}():ie();;){if(J("."))r=se(),e=m.createMemberExpression(".",e,r);else if(J("("))t=ae(),e=m.createCallExpression(e,t);else{if(!J("["))break;r=oe(),e=m.createMemberExpression("[",e,r)}m.markEnd(e,n)}return v.allowIn=i,e}(),g.type===t.Punctuator&&(!J("++")&&!J("--")||G()||(h&&e.type===i.Identifier&&k(e.name)&&Y({},s.StrictLHSPostfix),ee(e)||Y({},s.InvalidLHSInAssignment),r=z(),e=m.markEnd(m.createPostfixExpression(r.value,e),n))),e}function le(){var e,r,n;return g.type!==t.Punctuator&&g.type!==t.Keyword?r=ue():J("++")||J("--")?(n=g,e=z(),r=le(),h&&r.type===i.Identifier&&k(r.name)&&Y({},s.StrictLHSPrefix),ee(r)||Y({},s.InvalidLHSInAssignment),r=m.createUnaryExpression(e.value,r),r=m.markEnd(r,n)):J("+")||J("-")||J("~")||J("!")?(n=g,e=z(),r=le(),r=m.createUnaryExpression(e.value,r),r=m.markEnd(r,n)):Q("delete")||Q("void")||Q("typeof")?(n=g,e=z(),r=le(),r=m.createUnaryExpression(e.value,r),r=m.markEnd(r,n),h&&"delete"===r.operator&&r.argument.type===i.Identifier&&Y({},s.StrictDelete)):r=ue(),r}function he(e,r){var n=0;if(e.type!==t.Punctuator&&e.type!==t.Keyword)return 0;switch(e.value){case"||":n=1;break;case"&&":n=2;break;case"|":n=3;break;case"^":n=4;break;case"&":n=5;break;case"==":case"!=":case"===":case"!==":n=6;break;case"<":case">":case"<=":case">=":case"instanceof":n=7;break;case"in":n=r?7:0;break;case"<<":case">>":case">>>":n=8;break;case"+":case"-":n=9;break;case"*":case"/":case"%":n=11}return n}function ce(){var e,r,n,a,o,u;return e=g,o=g,a=r=function(){var e,t,r,n,i;return i=g,e=function(){var e,t,r,n,i,a,s,o,u,l;if(e=g,u=le(),0===(i=he(n=g,v.allowIn)))return u;for(n.prec=i,z(),t=[e,g],a=[u,n,s=le()];(i=he(g,v.allowIn))>0;){for(;a.length>2&&i<=a[a.length-2].prec;)s=a.pop(),o=a.pop().value,u=a.pop(),r=m.createBinaryExpression(o,u,s),t.pop(),e=t[t.length-1],m.markEnd(r,e),a.push(r);(n=z()).prec=i,a.push(n),t.push(g),r=le(),a.push(r)}for(r=a[l=a.length-1],t.pop();l>1;)r=m.createBinaryExpression(a[l-1].value,a[l-2],r),l-=2,e=t.pop(),m.markEnd(r,e);return r}(),J("?")&&(z(),t=v.allowIn,v.allowIn=!0,r=ce(),v.allowIn=t,Z(":"),n=ce(),e=m.createConditionalExpression(e,r,n),m.markEnd(e,i)),e}(),g.type!==t.Punctuator||"="!==(u=g.value)&&"*="!==u&&"/="!==u&&"%="!==u&&"+="!==u&&"-="!==u&&"<<="!==u&&">>="!==u&&">>>="!==u&&"&="!==u&&"^="!==u&&"|="!==u||(ee(r)||Y({},s.InvalidLHSInAssignment),h&&r.type===i.Identifier&&k(r.name)&&Y(e,s.StrictLHSAssignment),e=z(),n=ce(),a=m.markEnd(m.createAssignmentExpression(e.value,r,n),o)),a}function fe(){var e,t=g;if(e=ce(),J(",")){for(e=m.createSequenceExpression([e]);c<p&&J(",");)z(),e.expressions.push(ce());m.markEnd(e,t)}return e}function de(){var e,t;return t=g,Z("{"),e=function(){for(var e,t=[];c<p&&!J("}")&&void 0!==(e=Ee());)t.push(e);return t}(),Z("}"),m.markEnd(m.createBlockStatement(e),t)}function pe(){var e,r;return r=g,(e=z()).type!==t.Identifier&&q(e),m.markEnd(m.createIdentifier(e.value),r)}function me(e){var t,r,n=null;return r=g,t=pe(),h&&k(t.name)&&Y({},s.StrictVarName),"const"===e?(Z("="),n=ce()):J("=")&&(z(),n=ce()),m.markEnd(m.createVariableDeclarator(t,n),r)}function ge(e){var t=[];do{if(t.push(me(e)),!J(","))break;z()}while(c<p);return t}function ve(){var e,t,r,n=[];for(r=g,Q("default")?(z(),e=null):(K("case"),e=fe()),Z(":");c<p&&!(J("}")||Q("default")||Q("case"));)t=_e(),n.push(t);return m.markEnd(m.createSwitchCase(e,n),r)}function _e(){var e,r,n,a,o,u,f,d,_,b=g.type;if(b===t.EOF&&q(g),b===t.Punctuator&&"{"===g.value)return de();if(a=g,b===t.Punctuator)switch(g.value){case";":return m.markEnd((Z(";"),m.createEmptyStatement()),a);case"(":return m.markEnd(function(){var e=fe();return $(),m.createExpressionStatement(e)}(),a)}if(b===t.Keyword)switch(g.value){case"break":return m.markEnd(function(){var e,r=null;return K("break"),59===l.charCodeAt(c)?(z(),v.inIteration||v.inSwitch||W({},s.IllegalBreak),m.createBreakStatement(null)):G()?(v.inIteration||v.inSwitch||W({},s.IllegalBreak),m.createBreakStatement(null)):(g.type===t.Identifier&&(e="$"+(r=pe()).name,Object.prototype.hasOwnProperty.call(v.labelSet,e)||W({},s.UnknownLabel,r.name)),$(),null!==r||v.inIteration||v.inSwitch||W({},s.IllegalBreak),m.createBreakStatement(r))}(),a);case"continue":return m.markEnd(function(){var e,r=null;return K("continue"),59===l.charCodeAt(c)?(z(),v.inIteration||W({},s.IllegalContinue),m.createContinueStatement(null)):G()?(v.inIteration||W({},s.IllegalContinue),m.createContinueStatement(null)):(g.type===t.Identifier&&(e="$"+(r=pe()).name,Object.prototype.hasOwnProperty.call(v.labelSet,e)||W({},s.UnknownLabel,r.name)),$(),null!==r||v.inIteration||W({},s.IllegalContinue),m.createContinueStatement(r))}(),a);case"debugger":return m.markEnd((K("debugger"),$(),m.createDebuggerStatement()),a);case"do":return m.markEnd((K("do"),_=v.inIteration,v.inIteration=!0,f=_e(),v.inIteration=_,K("while"),Z("("),d=fe(),Z(")"),J(";")&&z(),m.createDoWhileStatement(f,d)),a);case"for":return m.markEnd(function(){var e,t,r,n,i,a,o,u,l,h,c=v.allowIn;return e=t=r=null,K("for"),Z("("),J(";")?z():(Q("var")||Q("let")?(v.allowIn=!1,h=g,u=z(),l=ge(),e=m.markEnd(m.createVariableDeclaration(l,u.value),h),v.allowIn=c,1===e.declarations.length&&Q("in")&&(z(),n=e,i=fe(),e=null)):(v.allowIn=!1,e=fe(),v.allowIn=c,Q("in")&&(ee(e)||Y({},s.InvalidLHSInForIn),z(),n=e,i=fe(),e=null)),void 0===n&&Z(";")),void 0===n&&(J(";")||(t=fe()),Z(";"),J(")")||(r=fe())),Z(")"),o=v.inIteration,v.inIteration=!0,a=_e(),v.inIteration=o,void 0===n?m.createForStatement(e,t,r,a):m.createForInStatement(n,i,a)}(),a);case"function":return m.markEnd(we(),a);case"if":return m.markEnd(function(){var e,t,r;return K("if"),Z("("),e=fe(),Z(")"),t=_e(),Q("else")?(z(),r=_e()):r=null,m.createIfStatement(e,t,r)}(),a);case"return":return m.markEnd((u=null,K("return"),v.inFunctionBody||Y({},s.IllegalReturn),32===l.charCodeAt(c)&&T(l.charCodeAt(c+1))?(u=fe(),$(),m.createReturnStatement(u)):G()?m.createReturnStatement(null):(J(";")||J("}")||g.type===t.EOF||(u=fe()),$(),m.createReturnStatement(u))),a);case"switch":return m.markEnd(function(){var e,t,r,n,i;if(K("switch"),Z("("),e=fe(),Z(")"),Z("{"),t=[],J("}"))return z(),m.createSwitchStatement(e,t);for(n=v.inSwitch,v.inSwitch=!0,i=!1;c<p&&!J("}");)null===(r=ve()).test&&(i&&W({},s.MultipleDefaultsInSwitch),i=!0),t.push(r);return v.inSwitch=n,Z("}"),m.createSwitchStatement(e,t)}(),a);case"throw":return m.markEnd(function(){var e;return K("throw"),G()&&W({},s.NewlineAfterThrow),e=fe(),$(),m.createThrowStatement(e)}(),a);case"try":return m.markEnd(function(){var e,t,r,n,i=[],a=null;return K("try"),e=de(),Q("catch")&&i.push((n=g,K("catch"),Z("("),J(")")&&q(g),t=pe(),h&&k(t.name)&&Y({},s.StrictCatchVariable),Z(")"),r=de(),m.markEnd(m.createCatchClause(t,r),n))),Q("finally")&&(z(),a=de()),0!==i.length||a||W({},s.NoCatchOrFinally),m.createTryStatement(e,[],i,a)}(),a);case"var":return m.markEnd((K("var"),o=ge(),$(),m.createVariableDeclaration(o,"var")),a);case"while":return m.markEnd(function(){var e,t,r;return K("while"),Z("("),e=fe(),Z(")"),r=v.inIteration,v.inIteration=!0,t=_e(),v.inIteration=r,m.createWhileStatement(e,t)}(),a);case"with":return m.markEnd(function(){var e,t;return h&&(L(),Y({},s.StrictModeWith)),K("with"),Z("("),e=fe(),Z(")"),t=_e(),m.createWithStatement(e,t)}(),a)}return(e=fe()).type===i.Identifier&&J(":")?(z(),n="$"+e.name,Object.prototype.hasOwnProperty.call(v.labelSet,n)&&W({},s.Redeclaration,"Label",e.name),v.labelSet[n]=!0,r=_e(),delete v.labelSet[n],m.markEnd(m.createLabeledStatement(e,r),a)):($(),m.markEnd(m.createExpressionStatement(e),a))}function be(){var e,r,n,a,o,u,f,d,_=[];for(d=g,Z("{");c<p&&g.type===t.StringLiteral&&(r=g,e=Ee(),_.push(e),e.expression.type===i.Literal);)"use strict"===l.slice(r.start+1,r.end-1)?(h=!0,n&&Y(n,s.StrictOctalLiteral)):!n&&r.octal&&(n=r);for(a=v.labelSet,o=v.inIteration,u=v.inSwitch,f=v.inFunctionBody,v.labelSet={},v.inIteration=!1,v.inSwitch=!1,v.inFunctionBody=!0;c<p&&!J("}")&&void 0!==(e=Ee());)_.push(e);return Z("}"),v.labelSet=a,v.inIteration=o,v.inSwitch=u,v.inFunctionBody=f,m.markEnd(m.createBlockStatement(_),d)}function ye(e){var t,r,n,i,a,o,u=[];if(Z("("),!J(")"))for(i={};c<p&&(r=g,t=pe(),a="$"+r.value,h?(k(r.value)&&(n=r,o=s.StrictParamName),Object.prototype.hasOwnProperty.call(i,a)&&(n=r,o=s.StrictParamDupe)):e||(k(r.value)?(e=r,o=s.StrictParamName):R(r.value)?(e=r,o=s.StrictReservedWord):Object.prototype.hasOwnProperty.call(i,a)&&(e=r,o=s.StrictParamDupe)),u.push(t),i[a]=!0,!J(")"));)Z(",");return Z(")"),{params:u,stricted:n,firstRestricted:e,message:o}}function we(){var e,t,r,n,i,a,o,u,l,c;return c=g,K("function"),n=g,e=pe(),h?k(n.value)&&Y(n,s.StrictFunctionName):k(n.value)?(o=n,u=s.StrictFunctionName):R(n.value)&&(o=n,u=s.StrictReservedWord),t=(a=ye(o)).params,i=a.stricted,o=a.firstRestricted,a.message&&(u=a.message),l=h,r=be(),h&&o&&W(o,u),h&&i&&Y(i,u),h=l,m.markEnd(m.createFunctionDeclaration(e,t,[],r),c)}function Ee(){if(g.type===t.Keyword)switch(g.value){case"const":case"let":return e=g.value,n=g,K(e),r=ge(e),$(),m.markEnd(m.createVariableDeclaration(r,e),n);case"function":return we();default:return _e()}var e,r,n;if(g.type!==t.EOF)return _e()}function xe(){var e,r;return L(),V(),r=g,h=!1,e=function(){for(var e,r,n,a=[];c<p&&(r=g).type===t.StringLiteral&&(e=Ee(),a.push(e),e.expression.type===i.Literal);)"use strict"===l.slice(r.start+1,r.end-1)?(h=!0,n&&Y(n,s.StrictOctalLiteral)):!n&&r.octal&&(n=r);for(;c<p&&void 0!==(e=Ee());)a.push(e);return a}(),m.markEnd(m.createProgram(e),r)}function Ae(){var e,t,r,n=[];for(e=0;e<_.tokens.length;++e)r={type:(t=_.tokens[e]).type,value:t.value},_.range&&(r.range=t.range),_.loc&&(r.loc=t.loc),n.push(r);_.tokens=n}(r={})[(t={BooleanLiteral:1,EOF:2,Identifier:3,Keyword:4,NullLiteral:5,NumericLiteral:6,Punctuator:7,StringLiteral:8,RegularExpression:9}).BooleanLiteral]="Boolean",r[t.EOF]="<end>",r[t.Identifier]="Identifier",r[t.Keyword]="Keyword",r[t.NullLiteral]="Null",r[t.NumericLiteral]="Numeric",r[t.Punctuator]="Punctuator",r[t.StringLiteral]="String",r[t.RegularExpression]="RegularExpression",n=["(","{","[","in","typeof","instanceof","new","return","case","delete","throw","void","=","+=","-=","*=","/=","%=","<<=",">>=",">>>=","&=","|=","^=",",","+","-","*","/","%","++","--","<<",">>",">>>","&","|","^","!","~","&&","||","?",":","===","==",">=","<=","<",">","!=","!=="],i={AssignmentExpression:"AssignmentExpression",ArrayExpression:"ArrayExpression",BlockStatement:"BlockStatement",BinaryExpression:"BinaryExpression",BreakStatement:"BreakStatement",CallExpression:"CallExpression",CatchClause:"CatchClause",ConditionalExpression:"ConditionalExpression",ContinueStatement:"ContinueStatement",DoWhileStatement:"DoWhileStatement",DebuggerStatement:"DebuggerStatement",EmptyStatement:"EmptyStatement",ExpressionStatement:"ExpressionStatement",ForStatement:"ForStatement",ForInStatement:"ForInStatement",FunctionDeclaration:"FunctionDeclaration",FunctionExpression:"FunctionExpression",Identifier:"Identifier",IfStatement:"IfStatement",Literal:"Literal",LabeledStatement:"LabeledStatement",LogicalExpression:"LogicalExpression",MemberExpression:"MemberExpression",NewExpression:"NewExpression",ObjectExpression:"ObjectExpression",Program:"Program",Property:"Property",ReturnStatement:"ReturnStatement",SequenceExpression:"SequenceExpression",SwitchStatement:"SwitchStatement",SwitchCase:"SwitchCase",ThisExpression:"ThisExpression",ThrowStatement:"ThrowStatement",TryStatement:"TryStatement",UnaryExpression:"UnaryExpression",UpdateExpression:"UpdateExpression",VariableDeclaration:"VariableDeclaration",VariableDeclarator:"VariableDeclarator",WhileStatement:"WhileStatement",WithStatement:"WithStatement"},a={Data:1,Get:2,Set:4},s={UnexpectedToken:"Unexpected token %0",UnexpectedNumber:"Unexpected number",UnexpectedString:"Unexpected string",UnexpectedIdentifier:"Unexpected identifier",UnexpectedReserved:"Unexpected reserved word",UnexpectedEOS:"Unexpected end of input",NewlineAfterThrow:"Illegal newline after throw",InvalidRegExp:"Invalid regular expression",UnterminatedRegExp:"Invalid regular expression: missing /",InvalidLHSInAssignment:"Invalid left-hand side in assignment",InvalidLHSInForIn:"Invalid left-hand side in for-in",MultipleDefaultsInSwitch:"More than one default clause in switch statement",NoCatchOrFinally:"Missing catch or finally after try",UnknownLabel:"Undefined label '%0'",Redeclaration:"%0 '%1' has already been declared",IllegalContinue:"Illegal continue statement",IllegalBreak:"Illegal break statement",IllegalReturn:"Illegal return statement",StrictModeWith:"Strict mode code may not include a with statement",StrictCatchVariable:"Catch variable may not be eval or arguments in strict mode",StrictVarName:"Variable name may not be eval or arguments in strict mode",StrictParamName:"Parameter name eval or arguments is not allowed in strict mode",StrictParamDupe:"Strict mode function may not have duplicate parameter names",StrictFunctionName:"Function name may not be eval or arguments in strict mode",StrictOctalLiteral:"Octal literals are not allowed in strict mode.",StrictDelete:"Delete of an unqualified identifier in strict mode.",StrictDuplicateProperty:"Duplicate data property in object literal not allowed in strict mode",AccessorDataProperty:"Object literal may not have data and accessor property with the same name",AccessorGetSet:"Object literal may not have multiple get/set accessors with the same name",StrictLHSAssignment:"Assignment to eval or arguments is not allowed in strict mode",StrictLHSPostfix:"Postfix increment/decrement may not have eval or arguments operand in strict mode",StrictLHSPrefix:"Prefix increment/decrement may not have eval or arguments operand in strict mode",StrictReservedWord:"Use of future reserved word in strict mode"},o={NonAsciiIdentifierStart:new RegExp("[ÂªÂµÂºÃ-ÃÃ-Ã¶Ã¸-ËË-ËË -Ë¤Ë¬Ë®Í°-Í´Í¶Í·Íº-Í½ÎÎ-ÎÎÎ-Î¡Î£-ÏµÏ·-ÒÒ-Ô§Ô±-ÕÕÕ¡-Ö×-×ª×°-×²Ø -ÙÙ®Ù¯Ù±-ÛÛÛ¥Û¦Û®Û¯Ûº-Û¼Û¿ÜÜ-Ü¯Ý-Þ¥Þ±ß-ßªß´ßµßºà -à à à ¤à ¨à¡-à¡à¢ à¢¢-à¢¬à¤-à¤¹à¤½à¥à¥-à¥¡à¥±-à¥·à¥¹-à¥¿à¦-à¦à¦à¦à¦-à¦¨à¦ª-à¦°à¦²à¦¶-à¦¹à¦½à§à§à§à§-à§¡à§°à§±à¨-à¨à¨à¨à¨-à¨¨à¨ª-à¨°à¨²à¨³à¨µà¨¶à¨¸à¨¹à©-à©à©à©²-à©´àª-àªàª-àªàª-àª¨àªª-àª°àª²àª³àªµ-àª¹àª½à«à« à«¡à¬-à¬à¬à¬à¬-à¬¨à¬ª-à¬°à¬²à¬³à¬µ-à¬¹à¬½à­à­à­-à­¡à­±à®à®-à®à®-à®à®-à®à®à®à®à®à®à®£à®¤à®¨-à®ªà®®-à®¹à¯à°-à°à°-à°à°-à°¨à°ª-à°³à°µ-à°¹à°½à±à±à± à±¡à²-à²à²-à²à²-à²¨à²ª-à²³à²µ-à²¹à²½à³à³ à³¡à³±à³²à´-à´à´-à´à´-à´ºà´½àµàµ àµ¡àµº-àµ¿à¶-à¶à¶-à¶±à¶³-à¶»à¶½à·-à·à¸-à¸°à¸²à¸³à¹-à¹àºàºàºàºàºàºàºàº-àºàº-àºàº¡-àº£àº¥àº§àºªàº«àº­-àº°àº²àº³àº½à»-à»à»à»-à»à¼à½-à½à½-à½¬à¾-à¾á-áªá¿á-áá-áá¡á¥á¦á®-á°áµ-ááá -áááá-áºá¼-áá-áá-ááá-áá -áá-áá-á°á²-áµá¸-á¾áá-áá-áá-áá-áá-áá-áá -á´á-á¬á¯-á¿á-áá -áªá®-á°á-áá-áá -á±á-áá -á¬á®-á°á-á³ááá  -á¡·á¢-á¢¨á¢ªá¢°-á£µá¤-á¤á¥-á¥­á¥°-á¥´á¦-á¦«á§-á§á¨-á¨á¨ -á©áª§á¬-á¬³á­-á­á®-á® á®®á®¯á®º-á¯¥á°-á°£á±-á±á±-á±½á³©-á³¬á³®-á³±á³µá³¶á´-á¶¿á¸-á¼á¼-á¼á¼ -á½á½-á½á½-á½á½á½á½á½-á½½á¾-á¾´á¾¶-á¾¼á¾¾á¿-á¿á¿-á¿á¿-á¿á¿-á¿á¿ -á¿¬á¿²-á¿´á¿¶-á¿¼â±â¿â-ââââ-âââ-ââ¤â¦â¨âª-â­â¯-â¹â¼-â¿â-âââ -ââ°-â°®â°°-â±â± -â³¤â³«-â³®â³²â³³â´-â´¥â´§â´­â´°-âµ§âµ¯â¶-â¶â¶ -â¶¦â¶¨-â¶®â¶°-â¶¶â¶¸-â¶¾â·-â·â·-â·â·-â·â·-â·â¸¯ã-ãã¡-ã©ã±-ãµã¸-ã¼ã-ãã-ãã¡-ãºã¼-ã¿ã-ã­ã±-ãã -ãºã°-ã¿ã-ä¶µä¸-é¿ê-êê-ê½ê-êê-êêªê«ê-ê®ê¿-êê -ê¯ê-êê¢-êê-êê-êê -êªê¸-ê ê -ê ê -ê ê -ê ¢ê¡-ê¡³ê¢-ê¢³ê£²-ê£·ê£»ê¤-ê¤¥ê¤°-ê¥ê¥ -ê¥¼ê¦-ê¦²ê§ê¨-ê¨¨ê©-ê©ê©-ê©ê© -ê©¶ê©ºêª-êª¯êª±êªµêª¶êª¹-êª½ê«ê«ê«-ê«ê« -ê«ªê«²-ê«´ê¬-ê¬ê¬-ê¬ê¬-ê¬ê¬ -ê¬¦ê¬¨-ê¬®ê¯-ê¯¢ê°-í£í°-íí-í»ï¤-ï©­ï©°-ï«ï¬-ï¬ï¬-ï¬ï¬ï¬-ï¬¨ï¬ª-ï¬¶ï¬¸-ï¬¼ï¬¾ï­ï­ï­ï­ï­-ï®±ï¯-ï´½ïµ-ï¶ï¶-ï·ï·°-ï·»ï¹°-ï¹´ï¹¶-ï»¼ï¼¡-ï¼ºï½-ï½ï½¦-ï¾¾ï¿-ï¿ï¿-ï¿ï¿-ï¿ï¿-ï¿]"),NonAsciiIdentifierPart:new RegExp("[ÂªÂµÂºÃ-ÃÃ-Ã¶Ã¸-ËË-ËË -Ë¤Ë¬Ë®Ì-Í´Í¶Í·Íº-Í½ÎÎ-ÎÎÎ-Î¡Î£-ÏµÏ·-ÒÒ-ÒÒ-Ô§Ô±-ÕÕÕ¡-ÖÖ-Ö½Ö¿××××××-×ª×°-×²Ø-ØØ -Ù©Ù®-ÛÛ-ÛÛ-Û¨Ûª-Û¼Û¿Ü-ÝÝ-Þ±ß-ßµßºà -à ­à¡-à¡à¢ à¢¢-à¢¬à£¤-à£¾à¤-à¥£à¥¦-à¥¯à¥±-à¥·à¥¹-à¥¿à¦-à¦à¦-à¦à¦à¦à¦-à¦¨à¦ª-à¦°à¦²à¦¶-à¦¹à¦¼-à§à§à§à§-à§à§à§à§à§-à§£à§¦-à§±à¨-à¨à¨-à¨à¨à¨à¨-à¨¨à¨ª-à¨°à¨²à¨³à¨µà¨¶à¨¸à¨¹à¨¼à¨¾-à©à©à©à©-à©à©à©-à©à©à©¦-à©µàª-àªàª-àªàª-àªàª-àª¨àªª-àª°àª²àª³àªµ-àª¹àª¼-à«à«-à«à«-à«à«à« -à«£à«¦-à«¯à¬-à¬à¬-à¬à¬à¬à¬-à¬¨à¬ª-à¬°à¬²à¬³à¬µ-à¬¹à¬¼-à­à­à­à­-à­à­à­à­à­à­-à­£à­¦-à­¯à­±à®à®à®-à®à®-à®à®-à®à®à®à®à®à®à®£à®¤à®¨-à®ªà®®-à®¹à®¾-à¯à¯-à¯à¯-à¯à¯à¯à¯¦-à¯¯à°-à°à°-à°à°-à°à°-à°¨à°ª-à°³à°µ-à°¹à°½-à±à±-à±à±-à±à±à±à±à±à± -à±£à±¦-à±¯à²à²à²-à²à²-à²à²-à²¨à²ª-à²³à²µ-à²¹à²¼-à³à³-à³à³-à³à³à³à³à³ -à³£à³¦-à³¯à³±à³²à´à´à´-à´à´-à´à´-à´ºà´½-àµàµ-àµàµ-àµàµàµ -àµ£àµ¦-àµ¯àµº-àµ¿à¶à¶à¶-à¶à¶-à¶±à¶³-à¶»à¶½à·-à·à·à·-à·à·à·-à·à·²à·³à¸-à¸ºà¹-à¹à¹-à¹àºàºàºàºàºàºàºàº-àºàº-àºàº¡-àº£àº¥àº§àºªàº«àº­-àº¹àº»-àº½à»-à»à»à»-à»à»-à»à»-à»à¼à¼à¼à¼ -à¼©à¼µà¼·à¼¹à¼¾-à½à½-à½¬à½±-à¾à¾-à¾à¾-à¾¼à¿á-áá-áá -áááá-áºá¼-áá-áá-ááá-áá -áá-áá-á°á²-áµá¸-á¾áá-áá-áá-áá-áá-áá-áá-áá -á´á-á¬á¯-á¿á-áá -áªá®-á°á-áá-áá -á´á-áá -á¬á®-á°á²á³á-ááááá -á©á -á á -á á  -á¡·á¢-á¢ªá¢°-á£µá¤-á¤á¤ -á¤«á¤°-á¤»á¥-á¥­á¥°-á¥´á¦-á¦«á¦°-á§á§-á§á¨-á¨á¨ -á©á© -á©¼á©¿-áªáª-áªáª§á¬-á­á­-á­á­«-á­³á®-á¯³á°-á°·á±-á±á±-á±½á³-á³á³-á³¶á´-á·¦á·¼-á¼á¼-á¼á¼ -á½á½-á½á½-á½á½á½á½á½-á½½á¾-á¾´á¾¶-á¾¼á¾¾á¿-á¿á¿-á¿á¿-á¿á¿-á¿á¿ -á¿¬á¿²-á¿´á¿¶-á¿¼âââ¿âââ±â¿â-ââ-ââ¡â¥-â°âââ-âââ-ââ¤â¦â¨âª-â­â¯-â¹â¼-â¿â-âââ -ââ°-â°®â°°-â±â± -â³¤â³«-â³³â´-â´¥â´§â´­â´°-âµ§âµ¯âµ¿-â¶â¶ -â¶¦â¶¨-â¶®â¶°-â¶¶â¶¸-â¶¾â·-â·â·-â·â·-â·â·-â·â· -â·¿â¸¯ã-ãã¡-ã¯ã±-ãµã¸-ã¼ã-ãããã-ãã¡-ãºã¼-ã¿ã-ã­ã±-ãã -ãºã°-ã¿ã-ä¶µä¸-é¿ê-êê-ê½ê-êê-ê«ê-ê¯ê´-ê½ê¿-êê-ê±ê-êê¢-êê-êê-êê -êªê¸-ê §ê¡-ê¡³ê¢-ê£ê£-ê£ê£ -ê£·ê£»ê¤-ê¤­ê¤°-ê¥ê¥ -ê¥¼ê¦-ê§ê§-ê§ê¨-ê¨¶ê©-ê©ê©-ê©ê© -ê©¶ê©ºê©»êª-ê«ê«-ê«ê« -ê«¯ê«²-ê«¶ê¬-ê¬ê¬-ê¬ê¬-ê¬ê¬ -ê¬¦ê¬¨-ê¬®ê¯-ê¯ªê¯¬ê¯­ê¯°-ê¯¹ê°-í£í°-íí-í»ï¤-ï©­ï©°-ï«ï¬-ï¬ï¬-ï¬ï¬-ï¬¨ï¬ª-ï¬¶ï¬¸-ï¬¼ï¬¾ï­ï­ï­ï­ï­-ï®±ï¯-ï´½ïµ-ï¶ï¶-ï·ï·°-ï·»ï¸-ï¸ï¸ -ï¸¦ï¸³ï¸´ï¹-ï¹ï¹°-ï¹´ï¹¶-ï»¼ï¼-ï¼ï¼¡-ï¼ºï¼¿ï½-ï½ï½¦-ï¾¾ï¿-ï¿ï¿-ï¿ï¿-ï¿ï¿-ï¿]")},u={name:"SyntaxTree",processComment:function(e){var t,r;if(!(e.type===i.Program&&e.body.length>0)){for(_.trailingComments.length>0?_.trailingComments[0].range[0]>=e.range[1]?(r=_.trailingComments,_.trailingComments=[]):_.trailingComments.length=0:_.bottomRightStack.length>0&&_.bottomRightStack[_.bottomRightStack.length-1].trailingComments&&_.bottomRightStack[_.bottomRightStack.length-1].trailingComments[0].range[0]>=e.range[1]&&(r=_.bottomRightStack[_.bottomRightStack.length-1].trailingComments,delete _.bottomRightStack[_.bottomRightStack.length-1].trailingComments);_.bottomRightStack.length>0&&_.bottomRightStack[_.bottomRightStack.length-1].range[0]>=e.range[0];)t=_.bottomRightStack.pop();t?t.leadingComments&&t.leadingComments[t.leadingComments.length-1].range[1]<=e.range[0]&&(e.leadingComments=t.leadingComments,delete t.leadingComments):_.leadingComments.length>0&&_.leadingComments[_.leadingComments.length-1].range[1]<=e.range[0]&&(e.leadingComments=_.leadingComments,_.leadingComments=[]),r&&(e.trailingComments=r),_.bottomRightStack.push(e)}},markEnd:function(e,t){return _.range&&(e.range=[t.start,c]),_.loc&&(e.loc=new H(void 0===t.startLineNumber?t.lineNumber:t.startLineNumber,t.start-(void 0===t.startLineStart?t.lineStart:t.startLineStart),f,c-d),this.postProcess(e)),_.attachComment&&this.processComment(e),e},postProcess:function(e){return _.source&&(e.loc.source=_.source),e},createArrayExpression:function(e){return{type:i.ArrayExpression,elements:e}},createAssignmentExpression:function(e,t,r){return{type:i.AssignmentExpression,operator:e,left:t,right:r}},createBinaryExpression:function(e,t,r){return{type:"||"===e||"&&"===e?i.LogicalExpression:i.BinaryExpression,operator:e,left:t,right:r}},createBlockStatement:function(e){return{type:i.BlockStatement,body:e}},createBreakStatement:function(e){return{type:i.BreakStatement,label:e}},createCallExpression:function(e,t){return{type:i.CallExpression,callee:e,arguments:t}},createCatchClause:function(e,t){return{type:i.CatchClause,param:e,body:t}},createConditionalExpression:function(e,t,r){return{type:i.ConditionalExpression,test:e,consequent:t,alternate:r}},createContinueStatement:function(e){return{type:i.ContinueStatement,label:e}},createDebuggerStatement:function(){return{type:i.DebuggerStatement}},createDoWhileStatement:function(e,t){return{type:i.DoWhileStatement,body:e,test:t}},createEmptyStatement:function(){return{type:i.EmptyStatement}},createExpressionStatement:function(e){return{type:i.ExpressionStatement,expression:e}},createForStatement:function(e,t,r,n){return{type:i.ForStatement,init:e,test:t,update:r,body:n}},createForInStatement:function(e,t,r){return{type:i.ForInStatement,left:e,right:t,body:r,each:!1}},createFunctionDeclaration:function(e,t,r,n){return{type:i.FunctionDeclaration,id:e,params:t,defaults:r,body:n,rest:null,generator:!1,expression:!1}},createFunctionExpression:function(e,t,r,n){return{type:i.FunctionExpression,id:e,params:t,defaults:r,body:n,rest:null,generator:!1,expression:!1}},createIdentifier:function(e){return{type:i.Identifier,name:e}},createIfStatement:function(e,t,r){return{type:i.IfStatement,test:e,consequent:t,alternate:r}},createLabeledStatement:function(e,t){return{type:i.LabeledStatement,label:e,body:t}},createLiteral:function(e){return{type:i.Literal,value:e.value,raw:l.slice(e.start,e.end)}},createMemberExpression:function(e,t,r){return{type:i.MemberExpression,computed:"["===e,object:t,property:r}},createNewExpression:function(e,t){return{type:i.NewExpression,callee:e,arguments:t}},createObjectExpression:function(e){return{type:i.ObjectExpression,properties:e}},createPostfixExpression:function(e,t){return{type:i.UpdateExpression,operator:e,argument:t,prefix:!1}},createProgram:function(e){return{type:i.Program,body:e}},createProperty:function(e,t,r){return{type:i.Property,key:t,value:r,kind:e}},createReturnStatement:function(e){return{type:i.ReturnStatement,argument:e}},createSequenceExpression:function(e){return{type:i.SequenceExpression,expressions:e}},createSwitchCase:function(e,t){return{type:i.SwitchCase,test:e,consequent:t}},createSwitchStatement:function(e,t){return{type:i.SwitchStatement,discriminant:e,cases:t}},createThisExpression:function(){return{type:i.ThisExpression}},createThrowStatement:function(e){return{type:i.ThrowStatement,argument:e}},createTryStatement:function(e,t,r,n){return{type:i.TryStatement,block:e,guardedHandlers:t,handlers:r,finalizer:n}},createUnaryExpression:function(e,t){return"++"===e||"--"===e?{type:i.UpdateExpression,operator:e,argument:t,prefix:!0}:{type:i.UnaryExpression,operator:e,argument:t,prefix:!0}},createVariableDeclaration:function(e,t){return{type:i.VariableDeclaration,declarations:e,kind:t}},createVariableDeclarator:function(e,t){return{type:i.VariableDeclarator,id:e,init:t}},createWhileStatement:function(e,t){return{type:i.WhileStatement,test:e,body:t}},createWithStatement:function(e,t){return{type:i.WithStatement,object:e,body:t}}},e.version="1.2.5",e.tokenize=function(e,r){var n,i;n=String,"string"==typeof e||e instanceof String||(e=n(e)),m=u,c=0,f=(l=e).length>0?1:0,d=0,p=l.length,g=null,v={allowIn:!0,labelSet:{},inFunctionBody:!1,inIteration:!1,inSwitch:!1,lastCommentStart:-1},_={},(r=r||{}).tokens=!0,_.tokens=[],_.tokenize=!0,_.openParenToken=-1,_.openCurlyToken=-1,_.range="boolean"==typeof r.range&&r.range,_.loc="boolean"==typeof r.loc&&r.loc,"boolean"==typeof r.comment&&r.comment&&(_.comments=[]),"boolean"==typeof r.tolerant&&r.tolerant&&(_.errors=[]);try{if(V(),g.type===t.EOF)return _.tokens;for(z();g.type!==t.EOF;)try{z()}catch(a){if(_.errors){_.errors.push(a);break}throw a}Ae(),i=_.tokens,void 0!==_.comments&&(i.comments=_.comments),void 0!==_.errors&&(i.errors=_.errors)}catch(s){throw s}finally{_={}}return i},e.parse=function(e,t){var r,n;n=String,"string"==typeof e||e instanceof String||(e=n(e)),m=u,c=0,f=(l=e).length>0?1:0,d=0,p=l.length,g=null,v={allowIn:!0,labelSet:{},inFunctionBody:!1,inIteration:!1,inSwitch:!1,lastCommentStart:-1},_={},void 0!==t&&(_.range="boolean"==typeof t.range&&t.range,_.loc="boolean"==typeof t.loc&&t.loc,_.attachComment="boolean"==typeof t.attachComment&&t.attachComment,_.loc&&null!==t.source&&void 0!==t.source&&(_.source=n(t.source)),"boolean"==typeof t.tokens&&t.tokens&&(_.tokens=[]),"boolean"==typeof t.comment&&t.comment&&(_.comments=[]),"boolean"==typeof t.tolerant&&t.tolerant&&(_.errors=[]),_.attachComment&&(_.range=!0,_.comments=[],_.bottomRightStack=[],_.trailingComments=[],_.leadingComments=[]));try{r=xe(),void 0!==_.comments&&(r.comments=_.comments),void 0!==_.tokens&&(Ae(),r.tokens=_.tokens),void 0!==_.errors&&(r.errors=_.errors)}catch(i){throw i}finally{_={}}return r},e.Syntax=function(){var e,t={};for(e in"function"==typeof Object.create&&(t=Object.create(null)),i)i.hasOwnProperty(e)&&(t[e]=i[e]);return"function"==typeof Object.freeze&&Object.freeze(t),t}()})},{}],"+Mqr":[function(e,t,r){arguments[3];var n=arguments[3],i=e("esprima"),a=e("uniq"),s=0;function o(e,t,r){this.name=e,this.lvalue=t,this.rvalue=r,this.count=0}function u(e,t,r,n){this.body=e,this.args=t,this.thisVars=r,this.localVars=n}function l(e){if("eval"===e)throw new Error("cwise-parser: eval() not allowed");return"undefined"!=typeof window?e in window:void 0!==n?e in n:"undefined"!=typeof self&&e in self}t.exports=function(e){for(var t=["(",e,")()"].join(""),r=i.parse(t,{range:!0}),n="_inline_"+s+++"_",h=function(e){for(var t=e.body[0].expression.callee.params,r=new Array(t.length),n=0;n<t.length;++n)r[n]=t[n].name;return r}(r),c=new Array(h.length),f=0;f<h.length;++f)c[f]=new o([n,"arg",f,"_"].join(""),!1,!1);for(var d=new Array(t.length),p=(f=0,t.length);f<p;++f)d[f]=t.charAt(f);var m,g=[],v=[];function _(e,t){for(var r=e.range[0],n=e.range[1],i=r+1;i<n;++i)d[i]="";d[r]=t}return function e(t,r){if(t.parent=r,"MemberExpression"===t.type)t.computed?(e(t.object,t),e(t.property,t)):"ThisExpression"===t.object.type?_(t,(b="this_"+t.property.name.replace(/\_/g,"__"),v.push(b),b)):e(t.object,t);else{if("ThisExpression"===t.type)throw new Error("cwise-parser: Computed this is not allowed");if("Identifier"===t.type){var i=t.name,a=h.indexOf(i);if(a>=0){var s=c[a],o=function(e){return"AssignmentExpression"===e.parent.type&&e.parent.left===e?"="===e.parent.operator?1:3:"UpdateExpression"===e.parent.type?3:2}(t);1&o&&(s.lvalue=!0),2&o&&(s.rvalue=!0),++s.count,_(t,s.name)}else l(i)||_(t,function(e){var t=n+i.replace(/\_/g,"__");return g.push(t),t}())}else if("Literal"===t.type)"string"==typeof t.value&&_(t,"'"+t.value.replace(/\_/g,"\\_").replace(/\'/g,"'")+"'");else{if("WithStatement"===t.type)throw new Error("cwise-parser: with() statements not allowed");for(var u=Object.keys(t),f=0,d=u.length;f<d;++f)if("parent"!==u[f]){var p=t[u[f]];if(p)if(p instanceof Array)for(var m=0;m<p.length;++m)p[m]&&"string"==typeof p[m].type&&e(p[m],t);else"string"==typeof p.type&&e(p,t)}}}var b}(r.body[0].expression.callee.body,void 0),a(g),a(v),new u((m=r.body[0].expression.callee.body,d.slice(m.range[0],m.range[1]).join("")),c,v,g)}},{esprima:"MSjk",uniq:"a/V3"}],p0w9:[function(e,t,r){"use strict";var n=e("cwise-parser"),i=e("cwise-compiler"),a=["args","body"],s=["pre","post","printCode","funcName","blockSize"];t.exports=function(e){for(var t in e)a.indexOf(t)<0&&s.indexOf(t)<0&&console.warn("cwise: Unknown argument '"+t+"' passed to expression compiler");for(var r=0;r<a.length;++r)if(!e[a[r]])throw new Error("cwise: Missing argument: "+a[r]);return i({args:e.args,pre:n(e.pre||function(){}),body:n(e.body),post:n(e.post||function(){}),debug:!!e.printCode,funcName:e.funcName||e.body.name||"cwise",blockSize:e.blockSize||64})}},{"cwise-parser":"+Mqr","cwise-compiler":"Kt/t"}],H3Gr:[function(e,t,r){"use strict";t.exports=function(e,t){return new h(e,n(e,t),i.mallocUint8(t[0]*t[1]*4))};var n=e("gl-fbo"),i=e("typedarray-pool"),a=e("ndarray"),s=e("cwise"),o=e("bit-twiddle").nextPow2,u=s({args:["array",{offset:[0,0,1],array:0},{offset:[0,0,2],array:0},{offset:[0,0,3],array:0},"scalar","scalar","index"],pre:function(){this.closestD2=1e8,this.closestX=-1,this.closestY=-1},body:function(e,t,r,n,i,a,s){if(e<255||t<255||r<255||n<255){var o=i-s[0],u=a-s[1],l=o*o+u*u;l<this.closestD2&&(this.closestD2=l,this.closestX=s[0],this.closestY=s[1])}},post:function(){return[this.closestX,this.closestY,this.closestD2]}});function l(e,t,r,n,i){this.coord=[e,t],this.id=r,this.value=n,this.distance=i}function h(e,t,r){this.gl=e,this.fbo=t,this.buffer=r,this._readTimeout=null;var n=this;this._readCallback=function(){n.gl&&(t.bind(),e.readPixels(0,0,t.shape[0],t.shape[1],e.RGBA,e.UNSIGNED_BYTE,n.buffer),n._readTimeout=null)}}var c=h.prototype;Object.defineProperty(c,"shape",{get:function(){return this.gl?this.fbo.shape.slice():[0,0]},set:function(e){if(this.gl){this.fbo.shape=e;var t=this.fbo.shape[0],r=this.fbo.shape[1];if(r*t*4>this.buffer.length){i.free(this.buffer);for(var n=this.buffer=i.mallocUint8(o(r*t*4)),a=0;a<r*t*4;++a)n[a]=255}return e}}}),c.begin=function(){var e=this.gl;this.shape,e&&(this.fbo.bind(),e.clearColor(1,1,1,1),e.clear(e.COLOR_BUFFER_BIT|e.DEPTH_BUFFER_BIT))},c.end=function(){var e=this.gl;e&&(e.bindFramebuffer(e.FRAMEBUFFER,null),this._readTimeout||clearTimeout(this._readTimeout),this._readTimeout=setTimeout(this._readCallback,1))},c.query=function(e,t,r){if(!this.gl)return null;var n=this.fbo.shape.slice();e|=0,t|=0,"number"!=typeof r&&(r=1);var i=0|Math.min(Math.max(e-r,0),n[0]),s=0|Math.min(Math.max(e+r,0),n[0]),o=0|Math.min(Math.max(t-r,0),n[1]),h=0|Math.min(Math.max(t+r,0),n[1]);if(s<=i||h<=o)return null;var c=[s-i,h-o],f=a(this.buffer,[c[0],c[1],4],[4,4*n[0],1],4*(i+n[0]*o)),d=u(f.hi(c[0],c[1],1),r,r),p=d[0],m=d[1];return p<0||Math.pow(this.radius,2)<d[2]?null:new l(p+i|0,m+o|0,f.get(p,m,0),[f.get(p,m,1),f.get(p,m,2),f.get(p,m,3)],Math.sqrt(d[2]))},c.dispose=function(){this.gl&&(this.fbo.dispose(),i.free(this.buffer),this.gl=null,this._readTimeout&&clearTimeout(this._readTimeout))}},{"gl-fbo":"C2Sb","typedarray-pool":"vfn/",ndarray:"cMKA",cwise:"p0w9","bit-twiddle":"gXRl"}],b60D:[function(e,t,r){"use strict";var n,i=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(r,"__esModule",{value:!0});const a=i(e("./mesh")),s=i(e("./camera")),o=(e("fs"),i(e("@talenfisher/multitouch-camera"))),u=i(e("gl-select-static")),l=i(e("mouse-change")),h=e("events"),c=e("gl-mat4"),f=Symbol(),d=":root {\n    --x3pjs-primary-color: #1f376c;\n    --x3pjs-error-color: red;\n    --x3pjs-progress-background: #ccc;\n}\n\n.x3pjs-render {\n    position: relative;\n    height: 100%;\n    width: 100%;\n}\n\n.x3pjs-render canvas {\n    min-height: 100%;\n    min-width: 100%;\n}\n\n.x3pjs-render-screen {\n    position: absolute;\n    height: 100%;\n    width: 100%;\n    top: 0;\n    left: 0;\n    background: rgba(255, 255, 255, 0.8);\n    text-align: center;\n    padding: 30px;\n    pointer-events: none;\n    opacity: 0;\n    transition: opacity .5s;\n}\n\n.x3pjs-render-screen.active {\n    opacity: 1;\n}\n\n.x3pjs-progress-bar {\n    top: calc(50% - 30px);\n    background: var(--x3pjs-progress-background);\n    display: inline-block;\n    width: 80%;\n    height: 30px;\n    border-radius: 25px;\n    position: relative;\n}\n\n.x3pjs-progress-bar > div {\n    position: absolute;\n    top: 0;\n    left: 0;\n    height: 100%;\n    width: 0;\n    border-radius: 25px;\n\n    background: var(--x3pjs-primary-color);\n}";n=f,r.default=class extends h.EventEmitter{constructor(e){super(),this.progress={},this.stopped=!1,this.dirty=!1,this.bounds=[[0,0,0],[0,0,0]],this.scale=0,this.fovy=Math.PI/4,this.near=.01,this.far=100,this.cameraParams={model:new Array(16),view:null,projection:new Array(16)},this[n]="normal",this.canvas=e.canvas,window.addEventListener("resize",this.resizeListener.bind(this)),this.resizeListener(),this.containerize(),this.addProgressBar(),this.gl=this.getContext(this.canvas),this.camera=o.default(this.canvas,s.default),this.select=u.default(this.gl,this.shape),this.mouseListener=l.default(this.canvas,this.mouseHandler.bind(this)),this.mouseListener.enabled=!0;let t={renderer:this};this.mesh=new a.default(Object.assign(t,e)),this.mesh.on("ready",()=>{this.dirty=!0,this.updateBounds(),this.emit("start"),this.render()});let r=e=>{this.emit("error",e),this.dispose()};this.mesh.on("error",r),this.canvas.addEventListener("webglcontextlost",()=>r("Lost the WebGL context"))}render(){if(this.stopped)return;requestAnimationFrame(this.render.bind(this));let e=this.camera.tick();(this.dirty||e)&&(this.updateCameraParams(),e&&this.drawMesh(),"still"===this.mode&&this.drawPick())}resizeListener(){this.canvas.setAttribute("width",this.canvas.offsetWidth.toString()),this.canvas.setAttribute("height",this.canvas.offsetHeight.toString()),this.dirty=!0}dispose(){this.stopped=!0,this.gl.clear(this.gl.DEPTH_BUFFER_BIT|this.gl.COLOR_BUFFER_BIT),this.mesh.dispose(),this.select.dispose(),this.mouseListener.enabled=!1,window.removeEventListener("resize",this.resizeListener.bind(this)),this.emit("end")}get canvasIsAttached(){return null!==this.doc}get doc(){return this.canvas.ownerDocument}get mode(){return this[f]}set mode(e){if(!["normal","still"].includes(e))throw new Error("Mode must be either normal or still");this[f]=e,this.update()}get width(){return this.gl.drawingBufferWidth}get height(){return this.gl.drawingBufferHeight}get shape(){return[this.width,this.height]}update(){switch(this[f]){default:case"normal":this.camera.rotateSpeed=1;break;case"still":this.camera.rotateSpeed=0}}drawMesh(){let e=this.gl;e.bindFramebuffer(e.FRAMEBUFFER,null),e.viewport(0,0,this.width,this.height),e.clearColor(0,0,0,0),e.clear(e.COLOR_BUFFER_BIT|e.DEPTH_BUFFER_BIT),e.depthMask(!0),e.colorMask(!0,!0,!0,!0),e.enable(e.DEPTH_TEST),e.depthFunc(e.LEQUAL),e.disable(e.BLEND),e.disable(e.CULL_FACE),this.mesh.draw(this.cameraParams),this.dirty=!1}drawPick(){let e=this.gl;e.colorMask(!0,!0,!0,!0),e.depthMask(!0),e.disable(e.BLEND),e.enable(e.DEPTH_TEST),this.select.shape=this.shape,this.select.begin(),this.mesh.drawPick(this.cameraParams),this.select.end(),this.dirty=!1}setProgressValue(e){if(this.progress.screen&&this.progress.bar){const{screen:t,bar:r}=this.progress;r.style.width=100*e+"%",1===e&&setTimeout(()=>{t.classList.remove("active")},500)}}mouseHandler(e,t,r){if("still"!==this.mode)return;this.dirty=!0;let n=this.select.query(t,this.shape[1]-r-1,10),i=!!(2&e),a=this.mesh.pick(n,i);a&&(this.selection=a,this.onpick&&this.onpick(a))}resetModelMatrix(){let e=this.cameraParams.model;e[15]=1;for(let t=0;t<15;t++)e[t]=0}updateCameraParams(){c.perspective(this.cameraParams.projection,this.fovy,this.width/this.height,this.near,this.far),this.cameraParams.view=this.camera.matrix,this.resetModelMatrix();let e=this.cameraParams.model;for(let t=0;t<3;t++)e[5*t]=1/this.scale,e[12+t]=.5*-e[5*t]*(this.bounds[0][t]+this.bounds[1][t])}updateBounds(){let e=this.mesh.bounds;for(let t=0;t<3;t++){let[r,n]=e;if(n[t]<r[t])this.bounds[0][t]=-1,this.bounds[1][t]=1;else{let e=.05*(n[t]-r[t]);this.bounds[0][t]=r[t]-e,this.bounds[1][t]=n[t]+e}this.scale=Math.max(this.scale,this.bounds[1][t]-this.bounds[0][t])}}getContext(e){if(this.gl)return this.gl;let t=e.getContext("webgl",{premultipliedAlpha:!0,antialias:!0});if(null===t)throw new Error("Unable to get the WebGL Rendering Context");return t}containerize(){if(!this.canvasIsAttached)return;let e=this.canvas.parentElement;if(e.classList.contains("x3pjs-render"))return this.canvasContainer=e,void this.removeScreens();let t=this.doc,r=t.createElement("style");r.innerHTML=d,t.head.appendChild(r);let n=this.canvas.parentElement,i=t.createElement("div");i.classList.add("x3pjs-render"),n.removeChild(this.canvas),i.appendChild(this.canvas),n.appendChild(i),this.canvasContainer=i}createScreen(e){if(!this.canvasIsAttached||!this.canvasContainer)return;let t=this.doc.createElement("div");return t.classList.add("x3pjs-render-screen"),t.id=e,this.canvasContainer.appendChild(t),t}removeScreens(){if(this.canvasContainer)for(let e of Array.from(this.canvasContainer.children))e.classList.contains("x3pjs-render-screen")&&this.canvasContainer.removeChild(e)}addProgressBar(){if(!this.canvasIsAttached||!this.canvasContainer)return;let e=this.doc,t=e.createElement("div"),r=e.createElement("div");t.classList.add("x3pjs-progress-bar"),t.appendChild(r);let n=this.createScreen("x3pjs-progress-screen");n.appendChild(t),n.classList.add("active"),this.progress={bar:r,screen:n}}}},{"./mesh":"gl3E","./camera":"z/6T",fs:"70rD","@talenfisher/multitouch-camera":"ulWn","gl-select-static":"H3Gr","mouse-change":"9a0v",events:"T2os","gl-mat4":"VVjU"}],KAEt:[function(e,t,r){arguments[3];var n=arguments[3];!function(e,t){void 0!==r?t():(t(),e.FileSaver={})}(this,function(){"use strict";function e(e,t,r){var n=new XMLHttpRequest;n.open("GET",e),n.responseType="blob",n.onload=function(){s(n.response,t,r)},n.onerror=function(){console.error("could not download file")},n.send()}function r(e){var t=new XMLHttpRequest;return t.open("HEAD",e,!1),t.send(),200<=t.status&&299>=t.status}function i(t){try{t.dispatchEvent(new MouseEvent("click"))}catch(e){var r=document.createEvent("MouseEvents");r.initMouseEvent("click",!0,!0,window,0,0,0,80,20,!1,!1,!1,!1,0,null),t.dispatchEvent(r)}}var a="object"==typeof window&&window.window===window?window:"object"==typeof self&&self.self===self?self:"object"==typeof n&&n.global===n?n:void 0,s=a.saveAs||("object"!=typeof window||window!==a?function(){}:"download"in HTMLAnchorElement.prototype?function(t,n,s){var o=a.URL||a.webkitURL,u=document.createElement("a");n=n||t.name||"download",u.download=n,u.rel="noopener","string"==typeof t?(u.href=t,u.origin===location.origin?i(u):r(u.href)?e(t,n,s):i(u,u.target="_blank")):(u.href=o.createObjectURL(t),setTimeout(function(){o.revokeObjectURL(u.href)},4e4),setTimeout(function(){i(u)},0))}:"msSaveOrOpenBlob"in navigator?function(t,n,a){if(n=n||t.name||"download","string"!=typeof t)navigator.msSaveOrOpenBlob(function(e,t){return void 0===t?t={autoBom:!1}:"object"!=typeof t&&(console.warn("Deprecated: Expected third argument to be a object"),t={autoBom:!t}),t.autoBom&&/^\s*(?:text\/\S*|application\/xml|\S*\/\S*\+xml)\s*;.*charset\s*=\s*utf-8/i.test(e.type)?new Blob(["\ufeff",e],{type:e.type}):e}(t,a),n);else if(r(t))e(t,n,a);else{var s=document.createElement("a");s.href=t,s.target="_blank",setTimeout(function(){i(s)})}}:function(t,r,n,i){if((i=i||open("","_blank"))&&(i.document.title=i.document.body.innerText="downloading..."),"string"==typeof t)return e(t,r,n);var s="application/octet-stream"===t.type,o=/constructor/i.test(a.HTMLElement)||a.safari,u=/CriOS\/[\d]+/.test(navigator.userAgent);if((u||s&&o)&&"object"==typeof FileReader){var l=new FileReader;l.onloadend=function(){var e=l.result;e=u?e:e.replace(/^data:[^;]*;/,"data:attachment/file;"),i?i.location.href=e:location=e,i=null},l.readAsDataURL(t)}else{var h=a.URL||a.webkitURL,c=h.createObjectURL(t);i?i.location=c:location.href=c,i=null,setTimeout(function(){h.revokeObjectURL(c)},4e4)}});a.saveAs=s.saveAs=s,void 0!==t&&(t.exports=s)})},{}],Z35u:[function(e,t,r){"use strict";var n=this&&this.__awaiter||function(e,t,r,n){return new(r||(r=Promise))(function(i,a){function s(e){try{u(n.next(e))}catch(t){a(t)}}function o(e){try{u(n.throw(e))}catch(t){a(t)}}function u(e){e.done?i(e.value):new r(function(t){t(e.value)}).then(s,o)}u((n=n.apply(e,t||[])).next())})},i=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(r,"__esModule",{value:!0});const a=i(e("./axis")),s=i(e("./renderer")),o=e("file-saver");r.default=class{constructor(e){this.saveMask=!0,this.options=e,this.loader=e.loader,this.manifest=e.manifest,this.pointBuffer=e.pointBuffer,this.mask=e.mask,this.name=e.name,this.axes={x:new a.default({name:"X",manifest:this.manifest}),y:new a.default({name:"Y",manifest:this.manifest}),z:new a.default({name:"Z",manifest:this.manifest})}}save(){return n(this,void 0,void 0,function*(){if(this.loader.write("main.xml",this.manifest.toString()),this.loader.write("md5checksum.hex",`${this.manifest.checksum} *main.xml`),this.saveMask&&this.mask.canvas){let e=this.mask.canvas,t=yield e.toBlob();this.loader.write("bindata/mask.png",t)}})}download(e=this.name){return n(this,void 0,void 0,function*(){let t=yield this.loader.toBlob();t&&o.saveAs(t,e)})}render(e,t){if(!this.pointBuffer)return;let r={x3p:this,canvas:e,lighting:{ambient:.05,diffuse:.4,specular:.2,roughness:.5}};return new s.default(Object.assign(r,t))}}},{"./axis":"JHoi","./renderer":"b60D","file-saver":"KAEt"}],"4Bm0":[function(e,t,r){"function"==typeof Object.create?t.exports=function(e,t){e.super_=t,e.prototype=Object.create(t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}})}:t.exports=function(e,t){e.super_=t;var r=function(){};r.prototype=t.prototype,e.prototype=new r,e.prototype.constructor=e}},{}],pBGv:[function(e,t,r){var n,i,a=t.exports={};function s(){throw new Error("setTimeout has not been defined")}function o(){throw new Error("clearTimeout has not been defined")}function u(e){if(n===setTimeout)return setTimeout(e,0);if((n===s||!n)&&setTimeout)return n=setTimeout,setTimeout(e,0);try{return n(e,0)}catch(a){try{return n.call(null,e,0)}catch(a){return n.call(this,e,0)}}}function l(e){if(i===clearTimeout)return clearTimeout(e);if((i===o||!i)&&clearTimeout)return i=clearTimeout,clearTimeout(e);try{return i(e)}catch(a){try{return i.call(null,e)}catch(a){return i.call(this,e)}}}!function(){try{n="function"==typeof setTimeout?setTimeout:s}catch(a){n=s}try{i="function"==typeof clearTimeout?clearTimeout:o}catch(a){i=o}}();var h,c=[],f=!1,d=-1;function p(){f&&h&&(f=!1,h.length?c=h.concat(c):d=-1,c.length&&m())}function m(){if(!f){var e=u(p);f=!0;for(var t=c.length;t;){for(h=c,c=[];++d<t;)h&&h[d].run();d=-1,t=c.length}h=null,f=!1,l(e)}}function g(e,t){this.fun=e,this.array=t}function v(){}a.nextTick=function(e){var t=new Array(arguments.length-1);if(arguments.length>1)for(var r=1;r<arguments.length;r++)t[r-1]=arguments[r];c.push(new g(e,t)),1!==c.length||f||u(m)},g.prototype.run=function(){this.fun.apply(null,this.array)},a.title="browser",a.env={},a.argv=[],a.version="",a.versions={},a.on=v,a.addListener=v,a.once=v,a.off=v,a.removeListener=v,a.removeAllListeners=v,a.emit=v,a.prependListener=v,a.prependOnceListener=v,a.listeners=function(e){return[]},a.binding=function(e){throw new Error("process.binding is not supported")},a.cwd=function(){return"/"},a.chdir=function(e){throw new Error("process.chdir is not supported")},a.umask=function(){return 0}},{}],Yj0v:[function(e,t,r){e("process");var n=e("process");!n.version||0===n.version.indexOf("v0.")||0===n.version.indexOf("v1.")&&0!==n.version.indexOf("v1.8.")?t.exports={nextTick:function(e,t,r,i){if("function"!=typeof e)throw new TypeError('"callback" argument must be a function');var a,s,o=arguments.length;switch(o){case 0:case 1:return n.nextTick(e);case 2:return n.nextTick(function(){e.call(null,t)});case 3:return n.nextTick(function(){e.call(null,t,r)});case 4:return n.nextTick(function(){e.call(null,t,r,i)});default:for(a=new Array(o-1),s=0;s<a.length;)a[s++]=arguments[s];return n.nextTick(function(){e.apply(null,a)})}}}:t.exports=n},{process:"pBGv"}],Q8A6:[function(e,t,r){t.exports=e("events").EventEmitter},{events:"T2os"}],"38Wu":[function(e,t,r){var n=e("buffer"),i=n.Buffer;function a(e,t){for(var r in e)t[r]=e[r]}function s(e,t,r){return i(e,t,r)}i.from&&i.alloc&&i.allocUnsafe&&i.allocUnsafeSlow?t.exports=n:(a(n,r),r.Buffer=s),a(i,s),s.from=function(e,t,r){if("number"==typeof e)throw new TypeError("Argument must not be a number");return i(e,t,r)},s.alloc=function(e,t,r){if("number"!=typeof e)throw new TypeError("Argument must be a number");var n=i(e);return void 0!==t?"string"==typeof r?n.fill(t,r):n.fill(t):n.fill(0),n},s.allocUnsafe=function(e){if("number"!=typeof e)throw new TypeError("Argument must be a number");return i(e)},s.allocUnsafeSlow=function(e){if("number"!=typeof e)throw new TypeError("Argument must be a number");return n.SlowBuffer(e)}},{buffer:"dskh"}],Q14w:[function(e,t,r){e("buffer").Buffer;var n=e("buffer").Buffer;function i(e){return Object.prototype.toString.call(e)}r.isArray=function(e){return Array.isArray?Array.isArray(e):"[object Array]"===i(e)},r.isBoolean=function(e){return"boolean"==typeof e},r.isNull=function(e){return null===e},r.isNullOrUndefined=function(e){return null==e},r.isNumber=function(e){return"number"==typeof e},r.isString=function(e){return"string"==typeof e},r.isSymbol=function(e){return"symbol"==typeof e},r.isUndefined=function(e){return void 0===e},r.isRegExp=function(e){return"[object RegExp]"===i(e)},r.isObject=function(e){return"object"==typeof e&&null!==e},r.isDate=function(e){return"[object Date]"===i(e)},r.isError=function(e){return"[object Error]"===i(e)||e instanceof Error},r.isFunction=function(e){return"function"==typeof e},r.isPrimitive=function(e){return null===e||"boolean"==typeof e||"number"==typeof e||"string"==typeof e||"symbol"==typeof e||void 0===e},r.isBuffer=n.isBuffer},{buffer:"dskh"}],Um5I:[function(e,t,r){"use strict";var n=e("safe-buffer").Buffer,i=e("util");function a(e,t,r){e.copy(t,r)}t.exports=function(){function e(){(function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")})(this,e),this.head=null,this.tail=null,this.length=0}return e.prototype.push=function(e){var t={data:e,next:null};this.length>0?this.tail.next=t:this.head=t,this.tail=t,++this.length},e.prototype.unshift=function(e){var t={data:e,next:this.head};0===this.length&&(this.tail=t),this.head=t,++this.length},e.prototype.shift=function(){if(0!==this.length){var e=this.head.data;return 1===this.length?this.head=this.tail=null:this.head=this.head.next,--this.length,e}},e.prototype.clear=function(){this.head=this.tail=null,this.length=0},e.prototype.join=function(e){if(0===this.length)return"";for(var t=this.head,r=""+t.data;t=t.next;)r+=e+t.data;return r},e.prototype.concat=function(e){if(0===this.length)return n.alloc(0);if(1===this.length)return this.head.data;for(var t=n.allocUnsafe(e>>>0),r=this.head,i=0;r;)a(r.data,t,i),i+=r.data.length,r=r.next;return t},e}(),i&&i.inspect&&i.inspect.custom&&(t.exports.prototype[i.inspect.custom]=function(){var e=i.inspect({length:this.length});return this.constructor.name+" "+e})},{"safe-buffer":"38Wu",util:"70rD"}],avqi:[function(e,t,r){"use strict";var n=e("process-nextick-args");function i(e,t){e.emit("error",t)}t.exports={destroy:function(e,t){var r=this,a=this._readableState&&this._readableState.destroyed,s=this._writableState&&this._writableState.destroyed;return a||s?(t?t(e):!e||this._writableState&&this._writableState.errorEmitted||n.nextTick(i,this,e),this):(this._readableState&&(this._readableState.destroyed=!0),this._writableState&&(this._writableState.destroyed=!0),this._destroy(e||null,function(e){!t&&e?(n.nextTick(i,r,e),r._writableState&&(r._writableState.errorEmitted=!0)):t&&t(e)}),this)},undestroy:function(){this._readableState&&(this._readableState.destroyed=!1,this._readableState.reading=!1,this._readableState.ended=!1,this._readableState.endEmitted=!1),this._writableState&&(this._writableState.destroyed=!1,this._writableState.ended=!1,this._writableState.ending=!1,this._writableState.finished=!1,this._writableState.errorEmitted=!1)}}},{"process-nextick-args":"Yj0v"}],yM1o:[function(e,t,r){arguments[3];var n=arguments[3];function i(e){try{if(!n.localStorage)return!1}catch(r){return!1}var t=n.localStorage[e];return null!=t&&"true"===String(t).toLowerCase()}t.exports=function(e,t){if(i("noDeprecation"))return e;var r=!1;return function(){if(!r){if(i("throwDeprecation"))throw new Error(t);i("traceDeprecation")?console.trace(t):console.warn(t),r=!0}return e.apply(this,arguments)}}},{}],"3I0x":[function(e,t,r){e("process"),arguments[3],e("process");var n=arguments[3],i=e("process-nextick-args");function a(e){var t=this;this.next=null,this.entry=null,this.finish=function(){!function(e,t,r){var n=e.entry;for(e.entry=null;n;){var i=n.callback;t.pendingcb--,i(r),n=n.next}t.corkedRequestsFree?t.corkedRequestsFree.next=e:t.corkedRequestsFree=e}(t,e)}}t.exports=v;var s,o=i.nextTick;v.WritableState=g;var u=e("core-util-is");u.inherits=e("inherits");var l={deprecate:e("util-deprecate")},h=e("./internal/streams/stream"),c=e("safe-buffer").Buffer,f=n.Uint8Array||function(){};var d,p=e("./internal/streams/destroy");function m(){}function g(t,r){s=s||e("./_stream_duplex"),t=t||{};var n=r instanceof s;this.objectMode=!!t.objectMode,n&&(this.objectMode=this.objectMode||!!t.writableObjectMode);var i=t.highWaterMark,o=t.writableHighWaterMark,u=this.objectMode?16:16384;this.highWaterMark=i||0===i?i:n&&(o||0===o)?o:u,this.highWaterMark=Math.floor(this.highWaterMark),this.finalCalled=!1,this.needDrain=!1,this.ending=!1,this.ended=!1,this.finished=!1,this.destroyed=!1;var l=!1===t.decodeStrings;this.decodeStrings=!l,this.defaultEncoding=t.defaultEncoding||"utf8",this.length=0,this.writing=!1,this.corked=0,this.sync=!0,this.bufferProcessing=!1,this.onwrite=function(e){x(r,e)},this.writecb=null,this.writelen=0,this.bufferedRequest=null,this.lastBufferedRequest=null,this.pendingcb=0,this.prefinished=!1,this.errorEmitted=!1,this.bufferedRequestCount=0,this.corkedRequestsFree=new a(this)}function v(t){if(s=s||e("./_stream_duplex"),!(d.call(v,this)||this instanceof s))return new v(t);this._writableState=new g(t,this),this.writable=!0,t&&("function"==typeof t.write&&(this._write=t.write),"function"==typeof t.writev&&(this._writev=t.writev),"function"==typeof t.destroy&&(this._destroy=t.destroy),"function"==typeof t.final&&(this._final=t.final)),h.call(this)}function _(e,t){var r=new Error("write after end");e.emit("error",r),i.nextTick(t,r)}function b(e,t,r,n){var a=!0,s=!1;return null===r?s=new TypeError("May not write null values to stream"):"string"==typeof r||void 0===r||t.objectMode||(s=new TypeError("Invalid non-string/buffer chunk")),s&&(e.emit("error",s),i.nextTick(n,s),a=!1),a}function y(e,t,r,n,i,a){if(!r){var s=function(e,t,r){return e.objectMode||!1===e.decodeStrings||"string"!=typeof t||(t=c.from(t,r)),t}(t,n,i);n!==s&&(r=!0,i="buffer",n=s)}var o=t.objectMode?1:n.length;t.length+=o;var u=t.length<t.highWaterMark;if(u||(t.needDrain=!0),t.writing||t.corked){var l=t.lastBufferedRequest;t.lastBufferedRequest={chunk:n,encoding:i,isBuf:r,callback:a,next:null},l?l.next=t.lastBufferedRequest:t.bufferedRequest=t.lastBufferedRequest,t.bufferedRequestCount+=1}else w(e,t,!1,o,n,i,a);return u}function w(e,t,r,n,i,a,s){t.writelen=n,t.writecb=s,t.writing=!0,t.sync=!0,r?e._writev(i,t.onwrite):e._write(i,a,t.onwrite),t.sync=!1}function E(e,t,r,n,a){--t.pendingcb,r?(i.nextTick(a,n),i.nextTick(C,e,t),e._writableState.errorEmitted=!0,e.emit("error",n)):(a(n),e._writableState.errorEmitted=!0,e.emit("error",n),C(e,t))}function x(e,t){var r=e._writableState,n=r.sync,i=r.writecb;if(function(e){e.writing=!1,e.writecb=null,e.length-=e.writelen,e.writelen=0}(r),t)E(e,r,n,t,i);else{var a=S(r);a||r.corked||r.bufferProcessing||!r.bufferedRequest||T(e,r),n?o(A,e,r,a,i):A(e,r,a,i)}}function A(e,t,r,n){r||function(e,t){0===t.length&&t.needDrain&&(t.needDrain=!1,e.emit("drain"))}(e,t),t.pendingcb--,n(),C(e,t)}function T(e,t){t.bufferProcessing=!0;var r=t.bufferedRequest;if(e._writev&&r&&r.next){var n=t.bufferedRequestCount,i=new Array(n),s=t.corkedRequestsFree;s.entry=r;for(var o=0,u=!0;r;)i[o]=r,r.isBuf||(u=!1),r=r.next,o+=1;i.allBuffers=u,w(e,t,!0,t.length,i,"",s.finish),t.pendingcb++,t.lastBufferedRequest=null,s.next?(t.corkedRequestsFree=s.next,s.next=null):t.corkedRequestsFree=new a(t),t.bufferedRequestCount=0}else{for(;r;){var l=r.chunk,h=r.encoding,c=r.callback;if(w(e,t,!1,t.objectMode?1:l.length,l,h,c),r=r.next,t.bufferedRequestCount--,t.writing)break}null===r&&(t.lastBufferedRequest=null)}t.bufferedRequest=r,t.bufferProcessing=!1}function S(e){return e.ending&&0===e.length&&null===e.bufferedRequest&&!e.finished&&!e.writing}function R(e,t){e._final(function(r){t.pendingcb--,r&&e.emit("error",r),t.prefinished=!0,e.emit("prefinish"),C(e,t)})}function k(e,t){t.prefinished||t.finalCalled||("function"==typeof e._final?(t.pendingcb++,t.finalCalled=!0,i.nextTick(R,e,t)):(t.prefinished=!0,e.emit("prefinish")))}function C(e,t){var r=S(t);return r&&(k(e,t),0===t.pendingcb&&(t.finished=!0,e.emit("finish"))),r}function M(e,t,r){t.ending=!0,C(e,t),r&&(t.finished?i.nextTick(r):e.once("finish",r)),t.ended=!0,e.writable=!1}u.inherits(v,h),g.prototype.getBuffer=function(){for(var e=this.bufferedRequest,t=[];e;)t.push(e),e=e.next;return t},function(){try{Object.defineProperty(g.prototype,"buffer",{get:l.deprecate(function(){return this.getBuffer()},"_writableState.buffer is deprecated. Use _writableState.getBuffer instead.","DEP0003")})}catch(e){}}(),"function"==typeof Symbol&&Symbol.hasInstance&&"function"==typeof Function.prototype[Symbol.hasInstance]?(d=Function.prototype[Symbol.hasInstance],Object.defineProperty(v,Symbol.hasInstance,{value:function(e){return!!d.call(this,e)||this===v&&e&&e._writableState instanceof g}})):d=function(e){return e instanceof this},v.prototype.pipe=function(){this.emit("error",new Error("Cannot pipe, not readable"))},v.prototype.write=function(e,t,r){var n=this._writableState,i=!1,a=!n.objectMode&&function(e){return c.isBuffer(e)||e instanceof f}(e);return a&&!c.isBuffer(e)&&(e=function(e){return c.from(e)}(e)),"function"==typeof t&&(r=t,t=null),a?t="buffer":t||(t=n.defaultEncoding),"function"!=typeof r&&(r=m),n.ended?_(this,r):(a||b(this,n,e,r))&&(n.pendingcb++,i=y(this,n,a,e,t,r)),i},v.prototype.cork=function(){this._writableState.corked++},v.prototype.uncork=function(){var e=this._writableState;e.corked&&(e.corked--,e.writing||e.corked||e.finished||e.bufferProcessing||!e.bufferedRequest||T(this,e))},v.prototype.setDefaultEncoding=function(e){if("string"==typeof e&&(e=e.toLowerCase()),!(["hex","utf8","utf-8","ascii","binary","base64","ucs2","ucs-2","utf16le","utf-16le","raw"].indexOf((e+"").toLowerCase())>-1))throw new TypeError("Unknown encoding: "+e);return this._writableState.defaultEncoding=e,this},Object.defineProperty(v.prototype,"writableHighWaterMark",{enumerable:!1,get:function(){return this._writableState.highWaterMark}}),v.prototype._write=function(e,t,r){r(new Error("_write() is not implemented"))},v.prototype._writev=null,v.prototype.end=function(e,t,r){var n=this._writableState;"function"==typeof e?(r=e,e=null,t=null):"function"==typeof t&&(r=t,t=null),null!=e&&this.write(e,t),n.corked&&(n.corked=1,this.uncork()),n.ending||n.finished||M(this,n,r)},Object.defineProperty(v.prototype,"destroyed",{get:function(){return void 0!==this._writableState&&this._writableState.destroyed},set:function(e){this._writableState&&(this._writableState.destroyed=e)}}),v.prototype.destroy=p.destroy,v.prototype._undestroy=p.undestroy,v.prototype._destroy=function(e,t){this.end(),t(e)}},{"process-nextick-args":"Yj0v","core-util-is":"Q14w",inherits:"4Bm0","util-deprecate":"yM1o","./internal/streams/stream":"Q8A6","safe-buffer":"38Wu","./internal/streams/destroy":"avqi","./_stream_duplex":"wldW",process:"pBGv"}],wldW:[function(e,t,r){"use strict";var n=e("process-nextick-args"),i=Object.keys||function(e){var t=[];for(var r in e)t.push(r);return t};t.exports=c;var a=e("core-util-is");a.inherits=e("inherits");var s=e("./_stream_readable"),o=e("./_stream_writable");a.inherits(c,s);for(var u=i(o.prototype),l=0;l<u.length;l++){var h=u[l];c.prototype[h]||(c.prototype[h]=o.prototype[h])}function c(e){if(!(this instanceof c))return new c(e);s.call(this,e),o.call(this,e),e&&!1===e.readable&&(this.readable=!1),e&&!1===e.writable&&(this.writable=!1),this.allowHalfOpen=!0,e&&!1===e.allowHalfOpen&&(this.allowHalfOpen=!1),this.once("end",f)}function f(){this.allowHalfOpen||this._writableState.ended||n.nextTick(d,this)}function d(e){e.end()}Object.defineProperty(c.prototype,"writableHighWaterMark",{enumerable:!1,get:function(){return this._writableState.highWaterMark}}),Object.defineProperty(c.prototype,"destroyed",{get:function(){return void 0!==this._readableState&&void 0!==this._writableState&&this._readableState.destroyed&&this._writableState.destroyed},set:function(e){void 0!==this._readableState&&void 0!==this._writableState&&(this._readableState.destroyed=e,this._writableState.destroyed=e)}}),c.prototype._destroy=function(e,t){this.push(null),this.end(),n.nextTick(t,e)}},{"process-nextick-args":"Yj0v","core-util-is":"Q14w",inherits:"4Bm0","./_stream_readable":"Ogwm","./_stream_writable":"3I0x"}],"3+3F":[function(e,t,r){"use strict";var n=e("safe-buffer").Buffer,i=n.isEncoding||function(e){switch((e=""+e)&&e.toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":case"raw":return!0;default:return!1}};function a(e){var t=function(e){if(!e)return"utf8";for(var t;;)switch(e){case"utf8":case"utf-8":return"utf8";case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return"utf16le";case"latin1":case"binary":return"latin1";case"base64":case"ascii":case"hex":return e;default:if(t)return;e=(""+e).toLowerCase(),t=!0}}(e);if("string"!=typeof t&&(n.isEncoding===i||!i(e)))throw new Error("Unknown encoding: "+e);return t||e}function s(e){var t;switch(this.encoding=a(e),this.encoding){case"utf16le":this.text=l,this.end=h,t=4;break;case"utf8":this.fillLast=u,t=4;break;case"base64":this.text=c,this.end=f,t=3;break;default:return this.write=d,void(this.end=p)}this.lastNeed=0,this.lastTotal=0,this.lastChar=n.allocUnsafe(t)}function o(e){return e<=127?0:e>>5==6?2:e>>4==14?3:e>>3==30?4:e>>6==2?-1:-2}function u(e){var t=this.lastTotal-this.lastNeed,r=function(e,t,r){if(128!=(192&t[0]))return e.lastNeed=0,"ï¿½";if(e.lastNeed>1&&t.length>1){if(128!=(192&t[1]))return e.lastNeed=1,"ï¿½";if(e.lastNeed>2&&t.length>2&&128!=(192&t[2]))return e.lastNeed=2,"ï¿½"}}(this,e);return void 0!==r?r:this.lastNeed<=e.length?(e.copy(this.lastChar,t,0,this.lastNeed),this.lastChar.toString(this.encoding,0,this.lastTotal)):(e.copy(this.lastChar,t,0,e.length),void(this.lastNeed-=e.length))}function l(e,t){if((e.length-t)%2==0){var r=e.toString("utf16le",t);if(r){var n=r.charCodeAt(r.length-1);if(n>=55296&&n<=56319)return this.lastNeed=2,this.lastTotal=4,this.lastChar[0]=e[e.length-2],this.lastChar[1]=e[e.length-1],r.slice(0,-1)}return r}return this.lastNeed=1,this.lastTotal=2,this.lastChar[0]=e[e.length-1],e.toString("utf16le",t,e.length-1)}function h(e){var t=e&&e.length?this.write(e):"";if(this.lastNeed){var r=this.lastTotal-this.lastNeed;return t+this.lastChar.toString("utf16le",0,r)}return t}function c(e,t){var r=(e.length-t)%3;return 0===r?e.toString("base64",t):(this.lastNeed=3-r,this.lastTotal=3,1===r?this.lastChar[0]=e[e.length-1]:(this.lastChar[0]=e[e.length-2],this.lastChar[1]=e[e.length-1]),e.toString("base64",t,e.length-r))}function f(e){var t=e&&e.length?this.write(e):"";return this.lastNeed?t+this.lastChar.toString("base64",0,3-this.lastNeed):t}function d(e){return e.toString(this.encoding)}function p(e){return e&&e.length?this.write(e):""}r.StringDecoder=s,s.prototype.write=function(e){if(0===e.length)return"";var t,r;if(this.lastNeed){if(void 0===(t=this.fillLast(e)))return"";r=this.lastNeed,this.lastNeed=0}else r=0;return r<e.length?t?t+this.text(e,r):this.text(e,r):t||""},s.prototype.end=function(e){var t=e&&e.length?this.write(e):"";return this.lastNeed?t+"ï¿½":t},s.prototype.text=function(e,t){var r=function(e,t,r){var n=t.length-1;if(n<r)return 0;var i=o(t[n]);return i>=0?(i>0&&(e.lastNeed=i-1),i):--n<r||-2===i?0:(i=o(t[n]))>=0?(i>0&&(e.lastNeed=i-2),i):--n<r||-2===i?0:(i=o(t[n]))>=0?(i>0&&(2===i?i=0:e.lastNeed=i-3),i):0}(this,e,t);if(!this.lastNeed)return e.toString("utf8",t);this.lastTotal=r;var n=e.length-(r-this.lastNeed);return e.copy(this.lastChar,0,n),e.toString("utf8",t,n)},s.prototype.fillLast=function(e){if(this.lastNeed<=e.length)return e.copy(this.lastChar,this.lastTotal-this.lastNeed,0,this.lastNeed),this.lastChar.toString(this.encoding,0,this.lastTotal);e.copy(this.lastChar,this.lastTotal-this.lastNeed,0,e.length),this.lastNeed-=e.length}},{"safe-buffer":"38Wu"}],Ogwm:[function(e,t,r){arguments[3],e("process");var n=arguments[3],i=e("process"),a=e("process-nextick-args");t.exports=w;var s,o=e("isarray");w.ReadableState=y;e("events").EventEmitter;var u=function(e,t){return e.listeners(t).length},l=e("./internal/streams/stream"),h=e("safe-buffer").Buffer,c=n.Uint8Array||function(){};var f=e("core-util-is");f.inherits=e("inherits");var d=e("util"),p=void 0;p=d&&d.debuglog?d.debuglog("stream"):function(){};var m,g=e("./internal/streams/BufferList"),v=e("./internal/streams/destroy");f.inherits(w,l);var _=["error","close","destroy","pause","resume"];function b(e,t,r){if("function"==typeof e.prependListener)return e.prependListener(t,r);e._events&&e._events[t]?o(e._events[t])?e._events[t].unshift(r):e._events[t]=[r,e._events[t]]:e.on(t,r)}function y(t,r){t=t||{};var n=r instanceof(s=s||e("./_stream_duplex"));this.objectMode=!!t.objectMode,n&&(this.objectMode=this.objectMode||!!t.readableObjectMode);var i=t.highWaterMark,a=t.readableHighWaterMark,o=this.objectMode?16:16384;this.highWaterMark=i||0===i?i:n&&(a||0===a)?a:o,this.highWaterMark=Math.floor(this.highWaterMark),this.buffer=new g,this.length=0,this.pipes=null,this.pipesCount=0,this.flowing=null,this.ended=!1,this.endEmitted=!1,this.reading=!1,this.sync=!0,this.needReadable=!1,this.emittedReadable=!1,this.readableListening=!1,this.resumeScheduled=!1,this.destroyed=!1,this.defaultEncoding=t.defaultEncoding||"utf8",this.awaitDrain=0,this.readingMore=!1,this.decoder=null,this.encoding=null,t.encoding&&(m||(m=e("string_decoder/").StringDecoder),this.decoder=new m(t.encoding),this.encoding=t.encoding)}function w(t){if(s=s||e("./_stream_duplex"),!(this instanceof w))return new w(t);this._readableState=new y(t,this),this.readable=!0,t&&("function"==typeof t.read&&(this._read=t.read),"function"==typeof t.destroy&&(this._destroy=t.destroy)),l.call(this)}function E(e,t,r,n,i){var a,s=e._readableState;return null===t?(s.reading=!1,function(e,t){if(!t.ended){if(t.decoder){var r=t.decoder.end();r&&r.length&&(t.buffer.push(r),t.length+=t.objectMode?1:r.length)}t.ended=!0,S(e)}}(e,s)):(i||(a=function(e,t){var r;return function(e){return h.isBuffer(e)||e instanceof c}(t)||"string"==typeof t||void 0===t||e.objectMode||(r=new TypeError("Invalid non-string/buffer chunk")),r}(s,t)),a?e.emit("error",a):s.objectMode||t&&t.length>0?("string"==typeof t||s.objectMode||Object.getPrototypeOf(t)===h.prototype||(t=function(e){return h.from(e)}(t)),n?s.endEmitted?e.emit("error",new Error("stream.unshift() after end event")):x(e,s,t,!0):s.ended?e.emit("error",new Error("stream.push() after EOF")):(s.reading=!1,s.decoder&&!r?(t=s.decoder.write(t),s.objectMode||0!==t.length?x(e,s,t,!1):k(e,s)):x(e,s,t,!1))):n||(s.reading=!1)),function(e){return!e.ended&&(e.needReadable||e.length<e.highWaterMark||0===e.length)}(s)}function x(e,t,r,n){t.flowing&&0===t.length&&!t.sync?(e.emit("data",r),e.read(0)):(t.length+=t.objectMode?1:r.length,n?t.buffer.unshift(r):t.buffer.push(r),t.needReadable&&S(e)),k(e,t)}Object.defineProperty(w.prototype,"destroyed",{get:function(){return void 0!==this._readableState&&this._readableState.destroyed},set:function(e){this._readableState&&(this._readableState.destroyed=e)}}),w.prototype.destroy=v.destroy,w.prototype._undestroy=v.undestroy,w.prototype._destroy=function(e,t){this.push(null),t(e)},w.prototype.push=function(e,t){var r,n=this._readableState;return n.objectMode?r=!0:"string"==typeof e&&((t=t||n.defaultEncoding)!==n.encoding&&(e=h.from(e,t),t=""),r=!0),E(this,e,t,!1,r)},w.prototype.unshift=function(e){return E(this,e,null,!0,!1)},w.prototype.isPaused=function(){return!1===this._readableState.flowing},w.prototype.setEncoding=function(t){return m||(m=e("string_decoder/").StringDecoder),this._readableState.decoder=new m(t),this._readableState.encoding=t,this};var A=8388608;function T(e,t){return e<=0||0===t.length&&t.ended?0:t.objectMode?1:e!=e?t.flowing&&t.length?t.buffer.head.data.length:t.length:(e>t.highWaterMark&&(t.highWaterMark=function(e){return e>=A?e=A:(e--,e|=e>>>1,e|=e>>>2,e|=e>>>4,e|=e>>>8,e|=e>>>16,e++),e}(e)),e<=t.length?e:t.ended?t.length:(t.needReadable=!0,0))}function S(e){var t=e._readableState;t.needReadable=!1,t.emittedReadable||(p("emitReadable",t.flowing),t.emittedReadable=!0,t.sync?a.nextTick(R,e):R(e))}function R(e){p("emit readable"),e.emit("readable"),L(e)}function k(e,t){t.readingMore||(t.readingMore=!0,a.nextTick(C,e,t))}function C(e,t){for(var r=t.length;!t.reading&&!t.flowing&&!t.ended&&t.length<t.highWaterMark&&(p("maybeReadMore read 0"),e.read(0),r!==t.length);)r=t.length;t.readingMore=!1}function M(e){p("readable nexttick read 0"),e.read(0)}function I(e,t){t.reading||(p("resume read 0"),e.read(0)),t.resumeScheduled=!1,t.awaitDrain=0,e.emit("resume"),L(e),t.flowing&&!t.reading&&e.read(0)}function L(e){var t=e._readableState;for(p("flow",t.flowing);t.flowing&&null!==e.read(););}function N(e,t){return 0===t.length?null:(t.objectMode?r=t.buffer.shift():!e||e>=t.length?(r=t.decoder?t.buffer.join(""):1===t.buffer.length?t.buffer.head.data:t.buffer.concat(t.length),t.buffer.clear()):r=function(e,t,r){var n;return e<t.head.data.length?(n=t.head.data.slice(0,e),t.head.data=t.head.data.slice(e)):n=e===t.head.data.length?t.shift():r?function(e,t){var r=t.head,n=1,i=r.data;for(e-=i.length;r=r.next;){var a=r.data,s=e>a.length?a.length:e;if(s===a.length?i+=a:i+=a.slice(0,e),0==(e-=s)){s===a.length?(++n,r.next?t.head=r.next:t.head=t.tail=null):(t.head=r,r.data=a.slice(s));break}++n}return t.length-=n,i}(e,t):function(e,t){var r=h.allocUnsafe(e),n=t.head,i=1;for(n.data.copy(r),e-=n.data.length;n=n.next;){var a=n.data,s=e>a.length?a.length:e;if(a.copy(r,r.length-e,0,s),0==(e-=s)){s===a.length?(++i,n.next?t.head=n.next:t.head=t.tail=null):(t.head=n,n.data=a.slice(s));break}++i}return t.length-=i,r}(e,t),n}(e,t.buffer,t.decoder),r);var r}function O(e){var t=e._readableState;if(t.length>0)throw new Error('"endReadable()" called on non-empty stream');t.endEmitted||(t.ended=!0,a.nextTick(P,t,e))}function P(e,t){e.endEmitted||0!==e.length||(e.endEmitted=!0,t.readable=!1,t.emit("end"))}function D(e,t){for(var r=0,n=e.length;r<n;r++)if(e[r]===t)return r;return-1}w.prototype.read=function(e){p("read",e),e=parseInt(e,10);var t=this._readableState,r=e;if(0!==e&&(t.emittedReadable=!1),0===e&&t.needReadable&&(t.length>=t.highWaterMark||t.ended))return p("read: emitReadable",t.length,t.ended),0===t.length&&t.ended?O(this):S(this),null;if(0===(e=T(e,t))&&t.ended)return 0===t.length&&O(this),null;var n,i=t.needReadable;return p("need readable",i),(0===t.length||t.length-e<t.highWaterMark)&&p("length less than watermark",i=!0),t.ended||t.reading?p("reading or ended",i=!1):i&&(p("do read"),t.reading=!0,t.sync=!0,0===t.length&&(t.needReadable=!0),this._read(t.highWaterMark),t.sync=!1,t.reading||(e=T(r,t))),null===(n=e>0?N(e,t):null)?(t.needReadable=!0,e=0):t.length-=e,0===t.length&&(t.ended||(t.needReadable=!0),r!==e&&t.ended&&O(this)),null!==n&&this.emit("data",n),n},w.prototype._read=function(e){this.emit("error",new Error("_read() is not implemented"))},w.prototype.pipe=function(e,t){var r=this,n=this._readableState;switch(n.pipesCount){case 0:n.pipes=e;break;case 1:n.pipes=[n.pipes,e];break;default:n.pipes.push(e)}n.pipesCount+=1,p("pipe count=%d opts=%j",n.pipesCount,t);var s=t&&!1===t.end||e===i.stdout||e===i.stderr?v:o;function o(){p("onend"),e.end()}n.endEmitted?a.nextTick(s):r.once("end",s),e.on("unpipe",function t(i,a){p("onunpipe"),i===r&&a&&!1===a.hasUnpiped&&(a.hasUnpiped=!0,p("cleanup"),e.removeListener("close",m),e.removeListener("finish",g),e.removeListener("drain",l),e.removeListener("error",d),e.removeListener("unpipe",t),r.removeListener("end",o),r.removeListener("end",v),r.removeListener("data",f),h=!0,!n.awaitDrain||e._writableState&&!e._writableState.needDrain||l())});var l=function(e){return function(){var t=e._readableState;p("pipeOnDrain",t.awaitDrain),t.awaitDrain&&t.awaitDrain--,0===t.awaitDrain&&u(e,"data")&&(t.flowing=!0,L(e))}}(r);e.on("drain",l);var h=!1,c=!1;function f(t){p("ondata"),c=!1,!1!==e.write(t)||c||((1===n.pipesCount&&n.pipes===e||n.pipesCount>1&&-1!==D(n.pipes,e))&&!h&&(p("false write response, pause",r._readableState.awaitDrain),r._readableState.awaitDrain++,c=!0),r.pause())}function d(t){p("onerror",t),v(),e.removeListener("error",d),0===u(e,"error")&&e.emit("error",t)}function m(){e.removeListener("finish",g),v()}function g(){p("onfinish"),e.removeListener("close",m),v()}function v(){p("unpipe"),r.unpipe(e)}return r.on("data",f),b(e,"error",d),e.once("close",m),e.once("finish",g),e.emit("pipe",r),n.flowing||(p("pipe resume"),r.resume()),e},w.prototype.unpipe=function(e){var t=this._readableState,r={hasUnpiped:!1};if(0===t.pipesCount)return this;if(1===t.pipesCount)return e&&e!==t.pipes?this:(e||(e=t.pipes),t.pipes=null,t.pipesCount=0,t.flowing=!1,e&&e.emit("unpipe",this,r),this);if(!e){var n=t.pipes,i=t.pipesCount;t.pipes=null,t.pipesCount=0,t.flowing=!1;for(var a=0;a<i;a++)n[a].emit("unpipe",this,r);return this}var s=D(t.pipes,e);return-1===s?this:(t.pipes.splice(s,1),t.pipesCount-=1,1===t.pipesCount&&(t.pipes=t.pipes[0]),e.emit("unpipe",this,r),this)},w.prototype.on=function(e,t){var r=l.prototype.on.call(this,e,t);if("data"===e)!1!==this._readableState.flowing&&this.resume();else if("readable"===e){var n=this._readableState;n.endEmitted||n.readableListening||(n.readableListening=n.needReadable=!0,n.emittedReadable=!1,n.reading?n.length&&S(this):a.nextTick(M,this))}return r},w.prototype.addListener=w.prototype.on,w.prototype.resume=function(){var e=this._readableState;return e.flowing||(p("resume"),e.flowing=!0,function(e,t){t.resumeScheduled||(t.resumeScheduled=!0,a.nextTick(I,e,t))}(this,e)),this},w.prototype.pause=function(){return p("call pause flowing=%j",this._readableState.flowing),!1!==this._readableState.flowing&&(p("pause"),this._readableState.flowing=!1,this.emit("pause")),this},w.prototype.wrap=function(e){var t=this,r=this._readableState,n=!1;for(var i in e.on("end",function(){if(p("wrapped end"),r.decoder&&!r.ended){var e=r.decoder.end();e&&e.length&&t.push(e)}t.push(null)}),e.on("data",function(i){p("wrapped data"),r.decoder&&(i=r.decoder.write(i)),r.objectMode&&null==i||(r.objectMode||i&&i.length)&&(t.push(i)||(n=!0,e.pause()))}),e)void 0===this[i]&&"function"==typeof e[i]&&(this[i]=function(t){return function(){return e[t].apply(e,arguments)}}(i));for(var a=0;a<_.length;a++)e.on(_[a],this.emit.bind(this,_[a]));return this._read=function(t){p("wrapped _read",t),n&&(n=!1,e.resume())},this},Object.defineProperty(w.prototype,"readableHighWaterMark",{enumerable:!1,get:function(){return this._readableState.highWaterMark}}),w._fromList=N},{"process-nextick-args":"Yj0v",isarray:"seLU",events:"T2os","./internal/streams/stream":"Q8A6","safe-buffer":"38Wu","core-util-is":"Q14w",inherits:"4Bm0",util:"70rD","./internal/streams/BufferList":"Um5I","./internal/streams/destroy":"avqi","./_stream_duplex":"wldW","string_decoder/":"3+3F",process:"pBGv"}],I3bg:[function(e,t,r){"use strict";t.exports=s;var n=e("./_stream_duplex"),i=e("core-util-is");function a(e,t){var r=this._transformState;r.transforming=!1;var n=r.writecb;if(!n)return this.emit("error",new Error("write callback called multiple times"));r.writechunk=null,r.writecb=null,null!=t&&this.push(t),n(e);var i=this._readableState;i.reading=!1,(i.needReadable||i.length<i.highWaterMark)&&this._read(i.highWaterMark)}function s(e){if(!(this instanceof s))return new s(e);n.call(this,e),this._transformState={afterTransform:a.bind(this),needTransform:!1,transforming:!1,writecb:null,writechunk:null,writeencoding:null},this._readableState.needReadable=!0,this._readableState.sync=!1,e&&("function"==typeof e.transform&&(this._transform=e.transform),"function"==typeof e.flush&&(this._flush=e.flush)),this.on("prefinish",o)}function o(){var e=this;"function"==typeof this._flush?this._flush(function(t,r){u(e,t,r)}):u(this,null,null)}function u(e,t,r){if(t)return e.emit("error",t);if(null!=r&&e.push(r),e._writableState.length)throw new Error("Calling transform done when ws.length != 0");if(e._transformState.transforming)throw new Error("Calling transform done when still transforming");return e.push(null)}i.inherits=e("inherits"),i.inherits(s,n),s.prototype.push=function(e,t){return this._transformState.needTransform=!1,n.prototype.push.call(this,e,t)},s.prototype._transform=function(e,t,r){throw new Error("_transform() is not implemented")},s.prototype._write=function(e,t,r){var n=this._transformState;if(n.writecb=r,n.writechunk=e,n.writeencoding=t,!n.transforming){var i=this._readableState;(n.needTransform||i.needReadable||i.length<i.highWaterMark)&&this._read(i.highWaterMark)}},s.prototype._read=function(e){var t=this._transformState;null!==t.writechunk&&t.writecb&&!t.transforming?(t.transforming=!0,this._transform(t.writechunk,t.writeencoding,t.afterTransform)):t.needTransform=!0},s.prototype._destroy=function(e,t){var r=this;n.prototype._destroy.call(this,e,function(e){t(e),r.emit("close")})}},{"./_stream_duplex":"wldW","core-util-is":"Q14w",inherits:"4Bm0"}],kQBK:[function(e,t,r){"use strict";t.exports=a;var n=e("./_stream_transform"),i=e("core-util-is");function a(e){if(!(this instanceof a))return new a(e);n.call(this,e)}i.inherits=e("inherits"),i.inherits(a,n),a.prototype._transform=function(e,t,r){r(null,e)}},{"./_stream_transform":"I3bg","core-util-is":"Q14w",inherits:"4Bm0"}],uwsL:[function(e,t,r){(r=t.exports=e("./lib/_stream_readable.js")).Stream=r,r.Readable=r,r.Writable=e("./lib/_stream_writable.js"),r.Duplex=e("./lib/_stream_duplex.js"),r.Transform=e("./lib/_stream_transform.js"),r.PassThrough=e("./lib/_stream_passthrough.js")},{"./lib/_stream_readable.js":"Ogwm","./lib/_stream_writable.js":"3I0x","./lib/_stream_duplex.js":"wldW","./lib/_stream_transform.js":"I3bg","./lib/_stream_passthrough.js":"kQBK"}],GAH2:[function(e,t,r){t.exports=e("./lib/_stream_writable.js")},{"./lib/_stream_writable.js":"3I0x"}],dMbb:[function(e,t,r){t.exports=e("./lib/_stream_duplex.js")},{"./lib/_stream_duplex.js":"wldW"}],yG3q:[function(e,t,r){t.exports=e("./readable").Transform},{"./readable":"uwsL"}],jlpe:[function(e,t,r){t.exports=e("./readable").PassThrough},{"./readable":"uwsL"}],fnRj:[function(e,t,r){t.exports=i;var n=e("events").EventEmitter;function i(){n.call(this)}e("inherits")(i,n),i.Readable=e("readable-stream/readable.js"),i.Writable=e("readable-stream/writable.js"),i.Duplex=e("readable-stream/duplex.js"),i.Transform=e("readable-stream/transform.js"),i.PassThrough=e("readable-stream/passthrough.js"),i.Stream=i,i.prototype.pipe=function(e,t){var r=this;function i(t){e.writable&&!1===e.write(t)&&r.pause&&r.pause()}function a(){r.readable&&r.resume&&r.resume()}r.on("data",i),e.on("drain",a),e._isStdio||t&&!1===t.end||(r.on("end",o),r.on("close",u));var s=!1;function o(){s||(s=!0,e.end())}function u(){s||(s=!0,"function"==typeof e.destroy&&e.destroy())}function l(e){if(h(),0===n.listenerCount(this,"error"))throw e}function h(){r.removeListener("data",i),e.removeListener("drain",a),r.removeListener("end",o),r.removeListener("close",u),r.removeListener("error",l),e.removeListener("error",l),r.removeListener("end",h),r.removeListener("close",h),e.removeListener("close",h)}return r.on("error",l),e.on("error",l),r.on("end",h),r.on("close",h),e.on("close",h),e.emit("pipe",r),e}},{events:"T2os",inherits:"4Bm0","readable-stream/readable.js":"uwsL","readable-stream/writable.js":"GAH2","readable-stream/duplex.js":"dMbb","readable-stream/transform.js":"yG3q","readable-stream/passthrough.js":"jlpe"}],fOjT:[function(e,t,r){t.exports=e("stream")},{stream:"fnRj"}],untT:[function(e,t,r){e("buffer").Buffer;var n=e("buffer").Buffer;if(r.base64=!0,r.array=!0,r.string=!0,r.arraybuffer="undefined"!=typeof ArrayBuffer&&"undefined"!=typeof Uint8Array,r.nodebuffer=void 0!==n,r.uint8array="undefined"!=typeof Uint8Array,"undefined"==typeof ArrayBuffer)r.blob=!1;else{var i=new ArrayBuffer(0);try{r.blob=0===new Blob([i],{type:"application/zip"}).size}catch(s){try{var a=new(self.BlobBuilder||self.WebKitBlobBuilder||self.MozBlobBuilder||self.MSBlobBuilder);a.append(i),r.blob=0===a.getBlob("application/zip").size}catch(s){r.blob=!1}}}try{r.nodestream=!!e("readable-stream").Readable}catch(s){r.nodestream=!1}},{"readable-stream":"fOjT",buffer:"dskh"}],Ps3q:[function(e,t,r){"use strict";var n=e("./utils"),i=e("./support"),a="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=";r.encode=function(e){for(var t,r,i,s,o,u,l,h=[],c=0,f=e.length,d=f,p="string"!==n.getTypeOf(e);c<e.length;)d=f-c,p?(t=e[c++],r=c<f?e[c++]:0,i=c<f?e[c++]:0):(t=e.charCodeAt(c++),r=c<f?e.charCodeAt(c++):0,i=c<f?e.charCodeAt(c++):0),s=t>>2,o=(3&t)<<4|r>>4,u=d>1?(15&r)<<2|i>>6:64,l=d>2?63&i:64,h.push(a.charAt(s)+a.charAt(o)+a.charAt(u)+a.charAt(l));return h.join("")},r.decode=function(e){var t,r,n,s,o,u,l=0,h=0;if("data:"===e.substr(0,"data:".length))throw new Error("Invalid base64 input, it looks like a data url.");var c,f=3*(e=e.replace(/[^A-Za-z0-9\+\/\=]/g,"")).length/4;if(e.charAt(e.length-1)===a.charAt(64)&&f--,e.charAt(e.length-2)===a.charAt(64)&&f--,f%1!=0)throw new Error("Invalid base64 input, bad content length.");for(c=i.uint8array?new Uint8Array(0|f):new Array(0|f);l<e.length;)t=a.indexOf(e.charAt(l++))<<2|(s=a.indexOf(e.charAt(l++)))>>4,r=(15&s)<<4|(o=a.indexOf(e.charAt(l++)))>>2,n=(3&o)<<6|(u=a.indexOf(e.charAt(l++))),c[h++]=t,64!==o&&(c[h++]=r),64!==u&&(c[h++]=n);return c}},{"./utils":"dvMn","./support":"untT"}],c5OX:[function(e,t,r){e("buffer").Buffer;var n=e("buffer").Buffer;t.exports={isNode:void 0!==n,newBufferFrom:function(e,t){if(n.from&&n.from!==Uint8Array.from)return n.from(e,t);if("number"==typeof e)throw new Error('The "data" argument must not be a number');return new n(e,t)},allocBuffer:function(e){if(n.alloc)return n.alloc(e);var t=new n(e);return t.fill(0),t},isBuffer:function(e){return n.isBuffer(e)},isStream:function(e){return e&&"function"==typeof e.on&&"function"==typeof e.pause&&"function"==typeof e.resume}}},{buffer:"dskh"}],e0Yl:[function(e,t,r){"use strict";t.exports="function"==typeof setImmediate?setImmediate:function(){var e=[].slice.apply(arguments);e.splice(1,0,0),setTimeout.apply(null,e)}},{}],uUPe:[function(e,t,r){arguments[3];var n,i,a=arguments[3],s=a.MutationObserver||a.WebKitMutationObserver;if(s){var o=0,u=new s(f),l=a.document.createTextNode("");u.observe(l,{characterData:!0}),n=function(){l.data=o=++o%2}}else if(a.setImmediate||void 0===a.MessageChannel)n="document"in a&&"onreadystatechange"in a.document.createElement("script")?function(){var e=a.document.createElement("script");e.onreadystatechange=function(){f(),e.onreadystatechange=null,e.parentNode.removeChild(e),e=null},a.document.documentElement.appendChild(e)}:function(){setTimeout(f,0)};else{var h=new a.MessageChannel;h.port1.onmessage=f,n=function(){h.port2.postMessage(0)}}var c=[];function f(){var e,t;i=!0;for(var r=c.length;r;){for(t=c,c=[],e=-1;++e<r;)t[e]();r=c.length}i=!1}t.exports=function(e){1!==c.push(e)||i||n()}},{}],xz3w:[function(e,t,r){"use strict";var n=e("immediate");function i(){}var a={},s=["REJECTED"],o=["FULFILLED"],u=["PENDING"];function l(e){if("function"!=typeof e)throw new TypeError("resolver must be a function");this.state=u,this.queue=[],this.outcome=void 0,e!==i&&d(this,e)}function h(e,t,r){this.promise=e,"function"==typeof t&&(this.onFulfilled=t,this.callFulfilled=this.otherCallFulfilled),"function"==typeof r&&(this.onRejected=r,this.callRejected=this.otherCallRejected)}function c(e,t,r){n(function(){var n;try{n=t(r)}catch(u){return a.reject(e,u)}n===e?a.reject(e,new TypeError("Cannot resolve promise with itself")):a.resolve(e,n)})}function f(e){var t=e&&e.then;if(e&&("object"==typeof e||"function"==typeof e)&&"function"==typeof t)return function(){t.apply(e,arguments)}}function d(e,t){var r=!1;function n(t){r||(r=!0,a.reject(e,t))}function i(t){r||(r=!0,a.resolve(e,t))}var s=p(function(){t(i,n)});"error"===s.status&&n(s.value)}function p(e,t){var r={};try{r.value=e(t),r.status="success"}catch(s){r.status="error",r.value=s}return r}t.exports=l,l.prototype.finally=function(e){if("function"!=typeof e)return this;var t=this.constructor;return this.then(function(r){return t.resolve(e()).then(function(){return r})},function(r){return t.resolve(e()).then(function(){throw r})})},l.prototype.catch=function(e){return this.then(null,e)},l.prototype.then=function(e,t){if("function"!=typeof e&&this.state===o||"function"!=typeof t&&this.state===s)return this;var r=new this.constructor(i);return this.state!==u?c(r,this.state===o?e:t,this.outcome):this.queue.push(new h(r,e,t)),r},h.prototype.callFulfilled=function(e){a.resolve(this.promise,e)},h.prototype.otherCallFulfilled=function(e){c(this.promise,this.onFulfilled,e)},h.prototype.callRejected=function(e){a.reject(this.promise,e)},h.prototype.otherCallRejected=function(e){c(this.promise,this.onRejected,e)},a.resolve=function(e,t){var r=p(f,t);if("error"===r.status)return a.reject(e,r.value);var n=r.value;if(n)d(e,n);else{e.state=o,e.outcome=t;for(var i=-1,s=e.queue.length;++i<s;)e.queue[i].callFulfilled(t)}return e},a.reject=function(e,t){e.state=s,e.outcome=t;for(var r=-1,n=e.queue.length;++r<n;)e.queue[r].callRejected(t);return e},l.resolve=function(e){return e instanceof this?e:a.resolve(new this(i),e)},l.reject=function(e){var t=new this(i);return a.reject(t,e)},l.all=function(e){var t=this;if("[object Array]"!==Object.prototype.toString.call(e))return this.reject(new TypeError("must be an array"));var r=e.length,n=!1;if(!r)return this.resolve([]);for(var s=new Array(r),o=0,u=-1,l=new this(i);++u<r;)h(e[u],u);return l;function h(e,i){t.resolve(e).then(function(e){s[i]=e,++o!==r||n||(n=!0,a.resolve(l,s))},function(e){n||(n=!0,a.reject(l,e))})}},l.race=function(e){if("[object Array]"!==Object.prototype.toString.call(e))return this.reject(new TypeError("must be an array"));var t=e.length,r=!1;if(!t)return this.resolve([]);for(var n,s=-1,o=new this(i);++s<t;)n=e[s],this.resolve(n).then(function(e){r||(r=!0,a.resolve(o,e))},function(e){r||(r=!0,a.reject(o,e))});return o}},{immediate:"uUPe"}],"8JlO":[function(e,t,r){"use strict";var n;n="undefined"!=typeof Promise?Promise:e("lie"),t.exports={Promise:n}},{lie:"xz3w"}],dvMn:[function(e,t,r){"use strict";var n=e("./support"),i=e("./base64"),a=e("./nodejsUtils"),s=e("set-immediate-shim"),o=e("./external");function u(e){return h(e,n.uint8array?new Uint8Array(e.length):new Array(e.length))}function l(e){return e}function h(e,t){for(var r=0;r<e.length;++r)t[r]=255&e.charCodeAt(r);return t}r.newBlob=function(e,t){r.checkSupport("blob");try{return new Blob([e],{type:t})}catch(s){try{var n=new(self.BlobBuilder||self.WebKitBlobBuilder||self.MozBlobBuilder||self.MSBlobBuilder);return n.append(e),n.getBlob(t)}catch(s){throw new Error("Bug : can't construct the Blob.")}}};var c={stringifyByChunk:function(e,t,r){var n=[],i=0,a=e.length;if(a<=r)return String.fromCharCode.apply(null,e);for(;i<a;)"array"===t||"nodebuffer"===t?n.push(String.fromCharCode.apply(null,e.slice(i,Math.min(i+r,a)))):n.push(String.fromCharCode.apply(null,e.subarray(i,Math.min(i+r,a)))),i+=r;return n.join("")},stringifyByChar:function(e){for(var t="",r=0;r<e.length;r++)t+=String.fromCharCode(e[r]);return t},applyCanBeUsed:{uint8array:function(){try{return n.uint8array&&1===String.fromCharCode.apply(null,new Uint8Array(1)).length}catch(i){return!1}}(),nodebuffer:function(){try{return n.nodebuffer&&1===String.fromCharCode.apply(null,a.allocBuffer(1)).length}catch(i){return!1}}()}};function f(e){var t=65536,n=r.getTypeOf(e),i=!0;if("uint8array"===n?i=c.applyCanBeUsed.uint8array:"nodebuffer"===n&&(i=c.applyCanBeUsed.nodebuffer),i)for(;t>1;)try{return c.stringifyByChunk(e,n,t)}catch(o){t=Math.floor(t/2)}return c.stringifyByChar(e)}function d(e,t){for(var r=0;r<e.length;r++)t[r]=e[r];return t}r.applyFromCharCode=f;var p={};p.string={string:l,array:function(e){return h(e,new Array(e.length))},arraybuffer:function(e){return p.string.uint8array(e).buffer},uint8array:function(e){return h(e,new Uint8Array(e.length))},nodebuffer:function(e){return h(e,a.allocBuffer(e.length))}},p.array={string:f,array:l,arraybuffer:function(e){return new Uint8Array(e).buffer},uint8array:function(e){return new Uint8Array(e)},nodebuffer:function(e){return a.newBufferFrom(e)}},p.arraybuffer={string:function(e){return f(new Uint8Array(e))},array:function(e){return d(new Uint8Array(e),new Array(e.byteLength))},arraybuffer:l,uint8array:function(e){return new Uint8Array(e)},nodebuffer:function(e){return a.newBufferFrom(new Uint8Array(e))}},p.uint8array={string:f,array:function(e){return d(e,new Array(e.length))},arraybuffer:function(e){return e.buffer},uint8array:l,nodebuffer:function(e){return a.newBufferFrom(e)}},p.nodebuffer={string:f,array:function(e){return d(e,new Array(e.length))},arraybuffer:function(e){return p.nodebuffer.uint8array(e).buffer},uint8array:function(e){return d(e,new Uint8Array(e.length))},nodebuffer:l},r.transformTo=function(e,t){if(t||(t=""),!e)return t;r.checkSupport(e);var n=r.getTypeOf(t);return p[n][e](t)},r.getTypeOf=function(e){return"string"==typeof e?"string":"[object Array]"===Object.prototype.toString.call(e)?"array":n.nodebuffer&&a.isBuffer(e)?"nodebuffer":n.uint8array&&e instanceof Uint8Array?"uint8array":n.arraybuffer&&e instanceof ArrayBuffer?"arraybuffer":void 0},r.checkSupport=function(e){if(!n[e.toLowerCase()])throw new Error(e+" is not supported by this platform")},r.MAX_VALUE_16BITS=65535,r.MAX_VALUE_32BITS=-1,r.pretty=function(e){var t,r,n="";for(r=0;r<(e||"").length;r++)n+="\\x"+((t=e.charCodeAt(r))<16?"0":"")+t.toString(16).toUpperCase();return n},r.delay=function(e,t,r){s(function(){e.apply(r||null,t||[])})},r.inherits=function(e,t){var r=function(){};r.prototype=t.prototype,e.prototype=new r},r.extend=function(){var e,t,r={};for(e=0;e<arguments.length;e++)for(t in arguments[e])arguments[e].hasOwnProperty(t)&&void 0===r[t]&&(r[t]=arguments[e][t]);return r},r.prepareContent=function(e,t,a,s,l){return o.Promise.resolve(t).then(function(e){return n.blob&&(e instanceof Blob||-1!==["[object File]","[object Blob]"].indexOf(Object.prototype.toString.call(e)))&&"undefined"!=typeof FileReader?new o.Promise(function(t,r){var n=new FileReader;n.onload=function(e){t(e.target.result)},n.onerror=function(e){r(e.target.error)},n.readAsArrayBuffer(e)}):e}).then(function(t){var n=r.getTypeOf(t);return n?("arraybuffer"===n?t=r.transformTo("uint8array",t):"string"===n&&(l?t=i.decode(t):a&&!0!==s&&(t=u(t))),t):o.Promise.reject(new Error("Can't read the data of '"+e+"'. Is it in a supported JavaScript type (String, Blob, ArrayBuffer, etc) ?"))})}},{"./support":"untT","./base64":"Ps3q","./nodejsUtils":"c5OX","set-immediate-shim":"e0Yl","./external":"8JlO"}],ZKdc:[function(e,t,r){"use strict";function n(e){this.name=e||"default",this.streamInfo={},this.generatedError=null,this.extraStreamInfo={},this.isPaused=!0,this.isFinished=!1,this.isLocked=!1,this._listeners={data:[],end:[],error:[]},this.previous=null}n.prototype={push:function(e){this.emit("data",e)},end:function(){if(this.isFinished)return!1;this.flush();try{this.emit("end"),this.cleanUp(),this.isFinished=!0}catch(n){this.emit("error",n)}return!0},error:function(e){return!this.isFinished&&(this.isPaused?this.generatedError=e:(this.isFinished=!0,this.emit("error",e),this.previous&&this.previous.error(e),this.cleanUp()),!0)},on:function(e,t){return this._listeners[e].push(t),this},cleanUp:function(){this.streamInfo=this.generatedError=this.extraStreamInfo=null,this._listeners=[]},emit:function(e,t){if(this._listeners[e])for(var r=0;r<this._listeners[e].length;r++)this._listeners[e][r].call(this,t)},pipe:function(e){return e.registerPrevious(this)},registerPrevious:function(e){if(this.isLocked)throw new Error("The stream '"+this+"' has already been used.");this.streamInfo=e.streamInfo,this.mergeStreamInfo(),this.previous=e;var t=this;return e.on("data",function(e){t.processChunk(e)}),e.on("end",function(){t.end()}),e.on("error",function(e){t.error(e)}),this},pause:function(){return!this.isPaused&&!this.isFinished&&(this.isPaused=!0,this.previous&&this.previous.pause(),!0)},resume:function(){if(!this.isPaused||this.isFinished)return!1;this.isPaused=!1;var e=!1;return this.generatedError&&(this.error(this.generatedError),e=!0),this.previous&&this.previous.resume(),!e},flush:function(){},processChunk:function(e){this.push(e)},withStreamInfo:function(e,t){return this.extraStreamInfo[e]=t,this.mergeStreamInfo(),this},mergeStreamInfo:function(){for(var e in this.extraStreamInfo)this.extraStreamInfo.hasOwnProperty(e)&&(this.streamInfo[e]=this.extraStreamInfo[e])},lock:function(){if(this.isLocked)throw new Error("The stream '"+this+"' has already been used.");this.isLocked=!0,this.previous&&this.previous.lock()},toString:function(){var e="Worker "+this.name;return this.previous?this.previous+" -> "+e:e}},t.exports=n},{}],"Sm7/":[function(e,t,r){"use strict";for(var n=e("./utils"),i=e("./support"),a=e("./nodejsUtils"),s=e("./stream/GenericWorker"),o=new Array(256),u=0;u<256;u++)o[u]=u>=252?6:u>=248?5:u>=240?4:u>=224?3:u>=192?2:1;o[254]=o[254]=1;var l=function(e,t){var r;for((t=t||e.length)>e.length&&(t=e.length),r=t-1;r>=0&&128==(192&e[r]);)r--;return r<0?t:0===r?t:r+o[e[r]]>t?r:t};function h(){s.call(this,"utf-8 decode"),this.leftOver=null}function c(){s.call(this,"utf-8 encode")}r.utf8encode=function(e){return i.nodebuffer?a.newBufferFrom(e,"utf-8"):function(e){var t,r,n,a,s,o=e.length,u=0;for(a=0;a<o;a++)55296==(64512&(r=e.charCodeAt(a)))&&a+1<o&&56320==(64512&(n=e.charCodeAt(a+1)))&&(r=65536+(r-55296<<10)+(n-56320),a++),u+=r<128?1:r<2048?2:r<65536?3:4;for(t=i.uint8array?new Uint8Array(u):new Array(u),s=0,a=0;s<u;a++)55296==(64512&(r=e.charCodeAt(a)))&&a+1<o&&56320==(64512&(n=e.charCodeAt(a+1)))&&(r=65536+(r-55296<<10)+(n-56320),a++),r<128?t[s++]=r:r<2048?(t[s++]=192|r>>>6,t[s++]=128|63&r):r<65536?(t[s++]=224|r>>>12,t[s++]=128|r>>>6&63,t[s++]=128|63&r):(t[s++]=240|r>>>18,t[s++]=128|r>>>12&63,t[s++]=128|r>>>6&63,t[s++]=128|63&r);return t}(e)},r.utf8decode=function(e){return i.nodebuffer?n.transformTo("nodebuffer",e).toString("utf-8"):function(e){var t,r,i,a,s=e.length,u=new Array(2*s);for(r=0,t=0;t<s;)if((i=e[t++])<128)u[r++]=i;else if((a=o[i])>4)u[r++]=65533,t+=a-1;else{for(i&=2===a?31:3===a?15:7;a>1&&t<s;)i=i<<6|63&e[t++],a--;a>1?u[r++]=65533:i<65536?u[r++]=i:(i-=65536,u[r++]=55296|i>>10&1023,u[r++]=56320|1023&i)}return u.length!==r&&(u.subarray?u=u.subarray(0,r):u.length=r),n.applyFromCharCode(u)}(e=n.transformTo(i.uint8array?"uint8array":"array",e))},n.inherits(h,s),h.prototype.processChunk=function(e){var t=n.transformTo(i.uint8array?"uint8array":"array",e.data);if(this.leftOver&&this.leftOver.length){if(i.uint8array){var a=t;(t=new Uint8Array(a.length+this.leftOver.length)).set(this.leftOver,0),t.set(a,this.leftOver.length)}else t=this.leftOver.concat(t);this.leftOver=null}var s=l(t),o=t;s!==t.length&&(i.uint8array?(o=t.subarray(0,s),this.leftOver=t.subarray(s,t.length)):(o=t.slice(0,s),this.leftOver=t.slice(s,t.length))),this.push({data:r.utf8decode(o),meta:e.meta})},h.prototype.flush=function(){this.leftOver&&this.leftOver.length&&(this.push({data:r.utf8decode(this.leftOver),meta:{}}),this.leftOver=null)},r.Utf8DecodeWorker=h,n.inherits(c,s),c.prototype.processChunk=function(e){this.push({data:r.utf8encode(e.data),meta:e.meta})},r.Utf8EncodeWorker=c},{"./utils":"dvMn","./support":"untT","./nodejsUtils":"c5OX","./stream/GenericWorker":"ZKdc"}],yPXq:[function(e,t,r){"use strict";var n=e("./GenericWorker"),i=e("../utils");function a(e){n.call(this,"ConvertWorker to "+e),this.destType=e}i.inherits(a,n),a.prototype.processChunk=function(e){this.push({data:i.transformTo(this.destType,e.data),meta:e.meta})},t.exports=a},{"./GenericWorker":"ZKdc","../utils":"dvMn"}],LZfN:[function(e,t,r){"use strict";var n=e("readable-stream").Readable;function i(e,t,r){n.call(this,t),this._helper=e;var i=this;e.on("data",function(e,t){i.push(e)||i._helper.pause(),r&&r(t)}).on("error",function(e){i.emit("error",e)}).on("end",function(){i.push(null)})}e("../utils").inherits(i,n),i.prototype._read=function(){this._helper.resume()},t.exports=i},{"readable-stream":"fOjT","../utils":"dvMn"}],"2P9T":[function(e,t,r){e("buffer").Buffer;var n=e("buffer").Buffer,i=e("../utils"),a=e("./ConvertWorker"),s=e("./GenericWorker"),o=e("../base64"),u=e("../support"),l=e("../external"),h=null;if(u.nodestream)try{h=e("../nodejs/NodejsStreamOutputAdapter")}catch(p){}function c(e,t,r){switch(e){case"blob":return i.newBlob(i.transformTo("arraybuffer",t),r);case"base64":return o.encode(t);default:return i.transformTo(e,t)}}function f(e,t){var r,i=0,a=null,s=0;for(r=0;r<t.length;r++)s+=t[r].length;switch(e){case"string":return t.join("");case"array":return Array.prototype.concat.apply([],t);case"uint8array":for(a=new Uint8Array(s),r=0;r<t.length;r++)a.set(t[r],i),i+=t[r].length;return a;case"nodebuffer":return n.concat(t);default:throw new Error("concat : unsupported type '"+e+"'")}}function d(e,t,r){var n=t;switch(t){case"blob":case"arraybuffer":n="uint8array";break;case"base64":n="string"}try{this._internalType=n,this._outputType=t,this._mimeType=r,i.checkSupport(n),this._worker=e.pipe(new a(n)),e.lock()}catch(p){this._worker=new s("error"),this._worker.error(p)}}d.prototype={accumulate:function(e){return function(e,t){return new l.Promise(function(r,n){var i=[],a=e._internalType,s=e._outputType,o=e._mimeType;e.on("data",function(e,r){i.push(e),t&&t(r)}).on("error",function(e){i=[],n(e)}).on("end",function(){try{var e=c(s,f(a,i),o);r(e)}catch(p){n(p)}i=[]}).resume()})}(this,e)},on:function(e,t){var r=this;return"data"===e?this._worker.on(e,function(e){t.call(r,e.data,e.meta)}):this._worker.on(e,function(){i.delay(t,arguments,r)}),this},resume:function(){return i.delay(this._worker.resume,[],this._worker),this},pause:function(){return this._worker.pause(),this},toNodejsStream:function(e){if(i.checkSupport("nodestream"),"nodebuffer"!==this._outputType)throw new Error(this._outputType+" is not supported by this method");return new h(this,{objectMode:"nodebuffer"!==this._outputType},e)}},t.exports=d},{"../utils":"dvMn","./ConvertWorker":"yPXq","./GenericWorker":"ZKdc","../base64":"Ps3q","../support":"untT","../external":"8JlO","../nodejs/NodejsStreamOutputAdapter":"LZfN",buffer:"dskh"}],lUr3:[function(e,t,r){"use strict";r.base64=!1,r.binary=!1,r.dir=!1,r.createFolders=!0,r.date=null,r.compression=null,r.compressionOptions=null,r.comment=null,r.unixPermissions=null,r.dosPermissions=null},{}],ABU1:[function(e,t,r){"use strict";var n=e("../utils"),i=e("./GenericWorker");function a(e){i.call(this,"DataWorker");var t=this;this.dataIsReady=!1,this.index=0,this.max=0,this.data=null,this.type="",this._tickScheduled=!1,e.then(function(e){t.dataIsReady=!0,t.data=e,t.max=e&&e.length||0,t.type=n.getTypeOf(e),t.isPaused||t._tickAndRepeat()},function(e){t.error(e)})}n.inherits(a,i),a.prototype.cleanUp=function(){i.prototype.cleanUp.call(this),this.data=null},a.prototype.resume=function(){return!!i.prototype.resume.call(this)&&(!this._tickScheduled&&this.dataIsReady&&(this._tickScheduled=!0,n.delay(this._tickAndRepeat,[],this)),!0)},a.prototype._tickAndRepeat=function(){this._tickScheduled=!1,this.isPaused||this.isFinished||(this._tick(),this.isFinished||(n.delay(this._tickAndRepeat,[],this),this._tickScheduled=!0))},a.prototype._tick=function(){if(this.isPaused||this.isFinished)return!1;var e=null,t=Math.min(this.max,this.index+16384);if(this.index>=this.max)return this.end();switch(this.type){case"string":e=this.data.substring(this.index,t);break;case"uint8array":e=this.data.subarray(this.index,t);break;case"array":case"nodebuffer":e=this.data.slice(this.index,t)}return this.index=t,this.push({data:e,meta:{percent:this.max?this.index/this.max*100:0}})},t.exports=a},{"../utils":"dvMn","./GenericWorker":"ZKdc"}],S9RN:[function(e,t,r){"use strict";var n=e("../utils"),i=e("./GenericWorker");function a(e){i.call(this,"DataLengthProbe for "+e),this.propName=e,this.withStreamInfo(e,0)}n.inherits(a,i),a.prototype.processChunk=function(e){if(e){var t=this.streamInfo[this.propName]||0;this.streamInfo[this.propName]=t+e.data.length}i.prototype.processChunk.call(this,e)},t.exports=a},{"../utils":"dvMn","./GenericWorker":"ZKdc"}],cvyR:[function(e,t,r){"use strict";var n=e("./utils");var i=function(){for(var e,t=[],r=0;r<256;r++){e=r;for(var n=0;n<8;n++)e=1&e?3988292384^e>>>1:e>>>1;t[r]=e}return t}();function a(e,t,r,n){var a=i,s=n+r;e^=-1;for(var o=n;o<s;o++)e=e>>>8^a[255&(e^t[o])];return-1^e}function s(e,t,r,n){var a=i,s=n+r;e^=-1;for(var o=n;o<s;o++)e=e>>>8^a[255&(e^t.charCodeAt(o))];return-1^e}t.exports=function(e,t){return void 0!==e&&e.length?"string"!==n.getTypeOf(e)?a(0|t,e,e.length,0):s(0|t,e,e.length,0):0}},{"./utils":"dvMn"}],gpbE:[function(e,t,r){"use strict";var n=e("./GenericWorker"),i=e("../crc32");function a(){n.call(this,"Crc32Probe"),this.withStreamInfo("crc32",0)}e("../utils").inherits(a,n),a.prototype.processChunk=function(e){this.streamInfo.crc32=i(e.data,this.streamInfo.crc32||0),this.push(e)},t.exports=a},{"./GenericWorker":"ZKdc","../crc32":"cvyR","../utils":"dvMn"}],PO9O:[function(e,t,r){"use strict";var n=e("./external"),i=e("./stream/DataWorker"),a=e("./stream/DataLengthProbe"),s=e("./stream/Crc32Probe");function o(e,t,r,n,i){this.compressedSize=e,this.uncompressedSize=t,this.crc32=r,this.compression=n,this.compressedContent=i}a=e("./stream/DataLengthProbe"),o.prototype={getContentWorker:function(){var e=new i(n.Promise.resolve(this.compressedContent)).pipe(this.compression.uncompressWorker()).pipe(new a("data_length")),t=this;return e.on("end",function(){if(this.streamInfo.data_length!==t.uncompressedSize)throw new Error("Bug : uncompressed data size mismatch")}),e},getCompressedWorker:function(){return new i(n.Promise.resolve(this.compressedContent)).withStreamInfo("compressedSize",this.compressedSize).withStreamInfo("uncompressedSize",this.uncompressedSize).withStreamInfo("crc32",this.crc32).withStreamInfo("compression",this.compression)}},o.createWorkerFrom=function(e,t,r){return e.pipe(new s).pipe(new a("uncompressedSize")).pipe(t.compressWorker(r)).pipe(new a("compressedSize")).withStreamInfo("compression",t)},t.exports=o},{"./external":"8JlO","./stream/DataWorker":"ABU1","./stream/DataLengthProbe":"S9RN","./stream/Crc32Probe":"gpbE"}],"geN+":[function(e,t,r){"use strict";var n=e("./stream/StreamHelper"),i=e("./stream/DataWorker"),a=e("./utf8"),s=e("./compressedObject"),o=e("./stream/GenericWorker"),u=function(e,t,r){this.name=e,this.dir=r.dir,this.date=r.date,this.comment=r.comment,this.unixPermissions=r.unixPermissions,this.dosPermissions=r.dosPermissions,this._data=t,this._dataBinary=r.binary,this.options={compression:r.compression,compressionOptions:r.compressionOptions}};u.prototype={internalStream:function(e){var t=null,r="string";try{if(!e)throw new Error("No output type specified.");var i="string"===(r=e.toLowerCase())||"text"===r;"binarystring"!==r&&"text"!==r||(r="string"),t=this._decompressWorker();var s=!this._dataBinary;s&&!i&&(t=t.pipe(new a.Utf8EncodeWorker)),!s&&i&&(t=t.pipe(new a.Utf8DecodeWorker))}catch(c){(t=new o("error")).error(c)}return new n(t,r,"")},async:function(e,t){return this.internalStream(e).accumulate(t)},nodeStream:function(e,t){return this.internalStream(e||"nodebuffer").toNodejsStream(t)},_compressWorker:function(e,t){if(this._data instanceof s&&this._data.compression.magic===e.magic)return this._data.getCompressedWorker();var r=this._decompressWorker();return this._dataBinary||(r=r.pipe(new a.Utf8EncodeWorker)),s.createWorkerFrom(r,e,t)},_decompressWorker:function(){return this._data instanceof s?this._data.getContentWorker():this._data instanceof o?this._data:new i(this._data)}};for(var l=["asText","asBinary","asNodeBuffer","asUint8Array","asArrayBuffer"],h=function(){throw new Error("This method has been removed in JSZip 3.0, please check the upgrade guide.")},c=0;c<l.length;c++)u.prototype[l[c]]=h;t.exports=u},{"./stream/StreamHelper":"2P9T","./stream/DataWorker":"ABU1","./utf8":"Sm7/","./compressedObject":"PO9O","./stream/GenericWorker":"ZKdc"}],tbG5:[function(e,t,r){"use strict";var n="undefined"!=typeof Uint8Array&&"undefined"!=typeof Uint16Array&&"undefined"!=typeof Int32Array;function i(e,t){return Object.prototype.hasOwnProperty.call(e,t)}r.assign=function(e){for(var t=Array.prototype.slice.call(arguments,1);t.length;){var r=t.shift();if(r){if("object"!=typeof r)throw new TypeError(r+"must be non-object");for(var n in r)i(r,n)&&(e[n]=r[n])}}return e},r.shrinkBuf=function(e,t){return e.length===t?e:e.subarray?e.subarray(0,t):(e.length=t,e)};var a={arraySet:function(e,t,r,n,i){if(t.subarray&&e.subarray)e.set(t.subarray(r,r+n),i);else for(var a=0;a<n;a++)e[i+a]=t[r+a]},flattenChunks:function(e){var t,r,n,i,a,s;for(n=0,t=0,r=e.length;t<r;t++)n+=e[t].length;for(s=new Uint8Array(n),i=0,t=0,r=e.length;t<r;t++)a=e[t],s.set(a,i),i+=a.length;return s}},s={arraySet:function(e,t,r,n,i){for(var a=0;a<n;a++)e[i+a]=t[r+a]},flattenChunks:function(e){return[].concat.apply([],e)}};r.setTyped=function(e){e?(r.Buf8=Uint8Array,r.Buf16=Uint16Array,r.Buf32=Int32Array,r.assign(r,a)):(r.Buf8=Array,r.Buf16=Array,r.Buf32=Array,r.assign(r,s))},r.setTyped(n)},{}],"+sRJ":[function(e,t,r){"use strict";var n=e("../utils/common"),i=4,a=0,s=1,o=2;function u(e){for(var t=e.length;--t>=0;)e[t]=0}var l=0,h=1,c=2,f=29,d=256,p=d+1+f,m=30,g=19,v=2*p+1,_=15,b=16,y=7,w=256,E=16,x=17,A=18,T=[0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0],S=[0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13],R=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,2,3,7],k=[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15],C=new Array(2*(p+2));u(C);var M=new Array(2*m);u(M);var I=new Array(512);u(I);var L=new Array(256);u(L);var N=new Array(f);u(N);var O,P,D,U=new Array(m);function B(e,t,r,n,i){this.static_tree=e,this.extra_bits=t,this.extra_base=r,this.elems=n,this.max_length=i,this.has_stree=e&&e.length}function F(e,t){this.dyn_tree=e,this.max_code=0,this.stat_desc=t}function j(e){return e<256?I[e]:I[256+(e>>>7)]}function z(e,t){e.pending_buf[e.pending++]=255&t,e.pending_buf[e.pending++]=t>>>8&255}function V(e,t,r){e.bi_valid>b-r?(e.bi_buf|=t<<e.bi_valid&65535,z(e,e.bi_buf),e.bi_buf=t>>b-e.bi_valid,e.bi_valid+=r-b):(e.bi_buf|=t<<e.bi_valid&65535,e.bi_valid+=r)}function X(e,t,r){V(e,r[2*t],r[2*t+1])}function H(e,t){var r=0;do{r|=1&e,e>>>=1,r<<=1}while(--t>0);return r>>>1}function G(e,t,r){var n,i,a=new Array(_+1),s=0;for(n=1;n<=_;n++)a[n]=s=s+r[n-1]<<1;for(i=0;i<=t;i++){var o=e[2*i+1];0!==o&&(e[2*i]=H(a[o]++,o))}}function W(e){var t;for(t=0;t<p;t++)e.dyn_ltree[2*t]=0;for(t=0;t<m;t++)e.dyn_dtree[2*t]=0;for(t=0;t<g;t++)e.bl_tree[2*t]=0;e.dyn_ltree[2*w]=1,e.opt_len=e.static_len=0,e.last_lit=e.matches=0}function Y(e){e.bi_valid>8?z(e,e.bi_buf):e.bi_valid>0&&(e.pending_buf[e.pending++]=e.bi_buf),e.bi_buf=0,e.bi_valid=0}function q(e,t,r,i){Y(e),i&&(z(e,r),z(e,~r)),n.arraySet(e.pending_buf,e.window,t,r,e.pending),e.pending+=r}function Z(e,t,r,n){var i=2*t,a=2*r;return e[i]<e[a]||e[i]===e[a]&&n[t]<=n[r]}function K(e,t,r){for(var n=e.heap[r],i=r<<1;i<=e.heap_len&&(i<e.heap_len&&Z(t,e.heap[i+1],e.heap[i],e.depth)&&i++,!Z(t,n,e.heap[i],e.depth));)e.heap[r]=e.heap[i],r=i,i<<=1;e.heap[r]=n}function J(e,t,r){var n,i,a,s,o=0;if(0!==e.last_lit)do{n=e.pending_buf[e.d_buf+2*o]<<8|e.pending_buf[e.d_buf+2*o+1],i=e.pending_buf[e.l_buf+o],o++,0===n?X(e,i,t):(X(e,(a=L[i])+d+1,t),0!==(s=T[a])&&V(e,i-=N[a],s),X(e,a=j(--n),r),0!==(s=S[a])&&V(e,n-=U[a],s))}while(o<e.last_lit);X(e,w,t)}function Q(e,t){var r,n,i,a=t.dyn_tree,s=t.stat_desc.static_tree,o=t.stat_desc.has_stree,u=t.stat_desc.elems,l=-1;for(e.heap_len=0,e.heap_max=v,r=0;r<u;r++)0!==a[2*r]?(e.heap[++e.heap_len]=l=r,e.depth[r]=0):a[2*r+1]=0;for(;e.heap_len<2;)a[2*(i=e.heap[++e.heap_len]=l<2?++l:0)]=1,e.depth[i]=0,e.opt_len--,o&&(e.static_len-=s[2*i+1]);for(t.max_code=l,r=e.heap_len>>1;r>=1;r--)K(e,a,r);i=u;do{r=e.heap[1],e.heap[1]=e.heap[e.heap_len--],K(e,a,1),n=e.heap[1],e.heap[--e.heap_max]=r,e.heap[--e.heap_max]=n,a[2*i]=a[2*r]+a[2*n],e.depth[i]=(e.depth[r]>=e.depth[n]?e.depth[r]:e.depth[n])+1,a[2*r+1]=a[2*n+1]=i,e.heap[1]=i++,K(e,a,1)}while(e.heap_len>=2);e.heap[--e.heap_max]=e.heap[1],function(e,t){var r,n,i,a,s,o,u=t.dyn_tree,l=t.max_code,h=t.stat_desc.static_tree,c=t.stat_desc.has_stree,f=t.stat_desc.extra_bits,d=t.stat_desc.extra_base,p=t.stat_desc.max_length,m=0;for(a=0;a<=_;a++)e.bl_count[a]=0;for(u[2*e.heap[e.heap_max]+1]=0,r=e.heap_max+1;r<v;r++)(a=u[2*u[2*(n=e.heap[r])+1]+1]+1)>p&&(a=p,m++),u[2*n+1]=a,n>l||(e.bl_count[a]++,s=0,n>=d&&(s=f[n-d]),o=u[2*n],e.opt_len+=o*(a+s),c&&(e.static_len+=o*(h[2*n+1]+s)));if(0!==m){do{for(a=p-1;0===e.bl_count[a];)a--;e.bl_count[a]--,e.bl_count[a+1]+=2,e.bl_count[p]--,m-=2}while(m>0);for(a=p;0!==a;a--)for(n=e.bl_count[a];0!==n;)(i=e.heap[--r])>l||(u[2*i+1]!==a&&(e.opt_len+=(a-u[2*i+1])*u[2*i],u[2*i+1]=a),n--)}}(e,t),G(a,l,e.bl_count)}function $(e,t,r){var n,i,a=-1,s=t[1],o=0,u=7,l=4;for(0===s&&(u=138,l=3),t[2*(r+1)+1]=65535,n=0;n<=r;n++)i=s,s=t[2*(n+1)+1],++o<u&&i===s||(o<l?e.bl_tree[2*i]+=o:0!==i?(i!==a&&e.bl_tree[2*i]++,e.bl_tree[2*E]++):o<=10?e.bl_tree[2*x]++:e.bl_tree[2*A]++,o=0,a=i,0===s?(u=138,l=3):i===s?(u=6,l=3):(u=7,l=4))}function ee(e,t,r){var n,i,a=-1,s=t[1],o=0,u=7,l=4;for(0===s&&(u=138,l=3),n=0;n<=r;n++)if(i=s,s=t[2*(n+1)+1],!(++o<u&&i===s)){if(o<l)do{X(e,i,e.bl_tree)}while(0!=--o);else 0!==i?(i!==a&&(X(e,i,e.bl_tree),o--),X(e,E,e.bl_tree),V(e,o-3,2)):o<=10?(X(e,x,e.bl_tree),V(e,o-3,3)):(X(e,A,e.bl_tree),V(e,o-11,7));o=0,a=i,0===s?(u=138,l=3):i===s?(u=6,l=3):(u=7,l=4)}}function te(e){var t,r=4093624447;for(t=0;t<=31;t++,r>>>=1)if(1&r&&0!==e.dyn_ltree[2*t])return a;if(0!==e.dyn_ltree[18]||0!==e.dyn_ltree[20]||0!==e.dyn_ltree[26])return s;for(t=32;t<d;t++)if(0!==e.dyn_ltree[2*t])return s;return a}u(U);var re=!1;function ne(e,t,r,n){V(e,(l<<1)+(n?1:0),3),q(e,t,r,!0)}r._tr_init=function(e){re||(function(){var e,t,r,n,i,a=new Array(_+1);for(r=0,n=0;n<f-1;n++)for(N[n]=r,e=0;e<1<<T[n];e++)L[r++]=n;for(L[r-1]=n,i=0,n=0;n<16;n++)for(U[n]=i,e=0;e<1<<S[n];e++)I[i++]=n;for(i>>=7;n<m;n++)for(U[n]=i<<7,e=0;e<1<<S[n]-7;e++)I[256+i++]=n;for(t=0;t<=_;t++)a[t]=0;for(e=0;e<=143;)C[2*e+1]=8,e++,a[8]++;for(;e<=255;)C[2*e+1]=9,e++,a[9]++;for(;e<=279;)C[2*e+1]=7,e++,a[7]++;for(;e<=287;)C[2*e+1]=8,e++,a[8]++;for(G(C,p+1,a),e=0;e<m;e++)M[2*e+1]=5,M[2*e]=H(e,5);O=new B(C,T,d+1,p,_),P=new B(M,S,0,m,_),D=new B(new Array(0),R,0,g,y)}(),re=!0),e.l_desc=new F(e.dyn_ltree,O),e.d_desc=new F(e.dyn_dtree,P),e.bl_desc=new F(e.bl_tree,D),e.bi_buf=0,e.bi_valid=0,W(e)},r._tr_stored_block=ne,r._tr_flush_block=function(e,t,r,n){var a,s,u=0;e.level>0?(e.strm.data_type===o&&(e.strm.data_type=te(e)),Q(e,e.l_desc),Q(e,e.d_desc),u=function(e){var t;for($(e,e.dyn_ltree,e.l_desc.max_code),$(e,e.dyn_dtree,e.d_desc.max_code),Q(e,e.bl_desc),t=g-1;t>=3&&0===e.bl_tree[2*k[t]+1];t--);return e.opt_len+=3*(t+1)+5+5+4,t}(e),a=e.opt_len+3+7>>>3,(s=e.static_len+3+7>>>3)<=a&&(a=s)):a=s=r+5,r+4<=a&&-1!==t?ne(e,t,r,n):e.strategy===i||s===a?(V(e,(h<<1)+(n?1:0),3),J(e,C,M)):(V(e,(c<<1)+(n?1:0),3),function(e,t,r,n){var i;for(V(e,t-257,5),V(e,r-1,5),V(e,n-4,4),i=0;i<n;i++)V(e,e.bl_tree[2*k[i]+1],3);ee(e,e.dyn_ltree,t-1),ee(e,e.dyn_dtree,r-1)}(e,e.l_desc.max_code+1,e.d_desc.max_code+1,u+1),J(e,e.dyn_ltree,e.dyn_dtree)),W(e),n&&Y(e)},r._tr_tally=function(e,t,r){return e.pending_buf[e.d_buf+2*e.last_lit]=t>>>8&255,e.pending_buf[e.d_buf+2*e.last_lit+1]=255&t,e.pending_buf[e.l_buf+e.last_lit]=255&r,e.last_lit++,0===t?e.dyn_ltree[2*r]++:(e.matches++,t--,e.dyn_ltree[2*(L[r]+d+1)]++,e.dyn_dtree[2*j(t)]++),e.last_lit===e.lit_bufsize-1},r._tr_align=function(e){V(e,h<<1,3),X(e,w,C),function(e){16===e.bi_valid?(z(e,e.bi_buf),e.bi_buf=0,e.bi_valid=0):e.bi_valid>=8&&(e.pending_buf[e.pending++]=255&e.bi_buf,e.bi_buf>>=8,e.bi_valid-=8)}(e)}},{"../utils/common":"tbG5"}],uxo6:[function(e,t,r){"use strict";t.exports=function(e,t,r,n){for(var i=65535&e|0,a=e>>>16&65535|0,s=0;0!==r;){r-=s=r>2e3?2e3:r;do{a=a+(i=i+t[n++]|0)|0}while(--s);i%=65521,a%=65521}return i|a<<16|0}},{}],X4kj:[function(e,t,r){"use strict";var n=function(){for(var e,t=[],r=0;r<256;r++){e=r;for(var n=0;n<8;n++)e=1&e?3988292384^e>>>1:e>>>1;t[r]=e}return t}();t.exports=function(e,t,r,i){var a=n,s=i+r;e^=-1;for(var o=i;o<s;o++)e=e>>>8^a[255&(e^t[o])];return-1^e}},{}],gMAY:[function(e,t,r){"use strict";t.exports={2:"need dictionary",1:"stream end",0:"","-1":"file error","-2":"stream error","-3":"data error","-4":"insufficient memory","-5":"buffer error","-6":"incompatible version"}},{}],"+BLB":[function(e,t,r){"use strict";var n,i=e("../utils/common"),a=e("./trees"),s=e("./adler32"),o=e("./crc32"),u=e("./messages"),l=0,h=1,c=3,f=4,d=5,p=0,m=1,g=-2,v=-3,_=-5,b=-1,y=1,w=2,E=3,x=4,A=0,T=2,S=8,R=9,k=15,C=8,M=286,I=30,L=19,N=2*M+1,O=15,P=3,D=258,U=D+P+1,B=32,F=42,j=69,z=73,V=91,X=103,H=113,G=666,W=1,Y=2,q=3,Z=4,K=3;function J(e,t){return e.msg=u[t],t}function Q(e){return(e<<1)-(e>4?9:0)}function $(e){for(var t=e.length;--t>=0;)e[t]=0}function ee(e){var t=e.state,r=t.pending;r>e.avail_out&&(r=e.avail_out),0!==r&&(i.arraySet(e.output,t.pending_buf,t.pending_out,r,e.next_out),e.next_out+=r,t.pending_out+=r,e.total_out+=r,e.avail_out-=r,t.pending-=r,0===t.pending&&(t.pending_out=0))}function te(e,t){a._tr_flush_block(e,e.block_start>=0?e.block_start:-1,e.strstart-e.block_start,t),e.block_start=e.strstart,ee(e.strm)}function re(e,t){e.pending_buf[e.pending++]=t}function ne(e,t){e.pending_buf[e.pending++]=t>>>8&255,e.pending_buf[e.pending++]=255&t}function ie(e,t,r,n){var a=e.avail_in;return a>n&&(a=n),0===a?0:(e.avail_in-=a,i.arraySet(t,e.input,e.next_in,a,r),1===e.state.wrap?e.adler=s(e.adler,t,a,r):2===e.state.wrap&&(e.adler=o(e.adler,t,a,r)),e.next_in+=a,e.total_in+=a,a)}function ae(e,t){var r,n,i=e.max_chain_length,a=e.strstart,s=e.prev_length,o=e.nice_match,u=e.strstart>e.w_size-U?e.strstart-(e.w_size-U):0,l=e.window,h=e.w_mask,c=e.prev,f=e.strstart+D,d=l[a+s-1],p=l[a+s];e.prev_length>=e.good_match&&(i>>=2),o>e.lookahead&&(o=e.lookahead);do{if(l[(r=t)+s]===p&&l[r+s-1]===d&&l[r]===l[a]&&l[++r]===l[a+1]){a+=2,r++;do{}while(l[++a]===l[++r]&&l[++a]===l[++r]&&l[++a]===l[++r]&&l[++a]===l[++r]&&l[++a]===l[++r]&&l[++a]===l[++r]&&l[++a]===l[++r]&&l[++a]===l[++r]&&a<f);if(n=D-(f-a),a=f-D,n>s){if(e.match_start=t,s=n,n>=o)break;d=l[a+s-1],p=l[a+s]}}}while((t=c[t&h])>u&&0!=--i);return s<=e.lookahead?s:e.lookahead}function se(e){var t,r,n,a,s,o=e.w_size;do{if(a=e.window_size-e.lookahead-e.strstart,e.strstart>=o+(o-U)){i.arraySet(e.window,e.window,o,o,0),e.match_start-=o,e.strstart-=o,e.block_start-=o,t=r=e.hash_size;do{n=e.head[--t],e.head[t]=n>=o?n-o:0}while(--r);t=r=o;do{n=e.prev[--t],e.prev[t]=n>=o?n-o:0}while(--r);a+=o}if(0===e.strm.avail_in)break;if(r=ie(e.strm,e.window,e.strstart+e.lookahead,a),e.lookahead+=r,e.lookahead+e.insert>=P)for(s=e.strstart-e.insert,e.ins_h=e.window[s],e.ins_h=(e.ins_h<<e.hash_shift^e.window[s+1])&e.hash_mask;e.insert&&(e.ins_h=(e.ins_h<<e.hash_shift^e.window[s+P-1])&e.hash_mask,e.prev[s&e.w_mask]=e.head[e.ins_h],e.head[e.ins_h]=s,s++,e.insert--,!(e.lookahead+e.insert<P)););}while(e.lookahead<U&&0!==e.strm.avail_in)}function oe(e,t){for(var r,n;;){if(e.lookahead<U){if(se(e),e.lookahead<U&&t===l)return W;if(0===e.lookahead)break}if(r=0,e.lookahead>=P&&(e.ins_h=(e.ins_h<<e.hash_shift^e.window[e.strstart+P-1])&e.hash_mask,r=e.prev[e.strstart&e.w_mask]=e.head[e.ins_h],e.head[e.ins_h]=e.strstart),0!==r&&e.strstart-r<=e.w_size-U&&(e.match_length=ae(e,r)),e.match_length>=P)if(n=a._tr_tally(e,e.strstart-e.match_start,e.match_length-P),e.lookahead-=e.match_length,e.match_length<=e.max_lazy_match&&e.lookahead>=P){e.match_length--;do{e.strstart++,e.ins_h=(e.ins_h<<e.hash_shift^e.window[e.strstart+P-1])&e.hash_mask,r=e.prev[e.strstart&e.w_mask]=e.head[e.ins_h],e.head[e.ins_h]=e.strstart}while(0!=--e.match_length);e.strstart++}else e.strstart+=e.match_length,e.match_length=0,e.ins_h=e.window[e.strstart],e.ins_h=(e.ins_h<<e.hash_shift^e.window[e.strstart+1])&e.hash_mask;else n=a._tr_tally(e,0,e.window[e.strstart]),e.lookahead--,e.strstart++;if(n&&(te(e,!1),0===e.strm.avail_out))return W}return e.insert=e.strstart<P-1?e.strstart:P-1,t===f?(te(e,!0),0===e.strm.avail_out?q:Z):e.last_lit&&(te(e,!1),0===e.strm.avail_out)?W:Y}function ue(e,t){for(var r,n,i;;){if(e.lookahead<U){if(se(e),e.lookahead<U&&t===l)return W;if(0===e.lookahead)break}if(r=0,e.lookahead>=P&&(e.ins_h=(e.ins_h<<e.hash_shift^e.window[e.strstart+P-1])&e.hash_mask,r=e.prev[e.strstart&e.w_mask]=e.head[e.ins_h],e.head[e.ins_h]=e.strstart),e.prev_length=e.match_length,e.prev_match=e.match_start,e.match_length=P-1,0!==r&&e.prev_length<e.max_lazy_match&&e.strstart-r<=e.w_size-U&&(e.match_length=ae(e,r),e.match_length<=5&&(e.strategy===y||e.match_length===P&&e.strstart-e.match_start>4096)&&(e.match_length=P-1)),e.prev_length>=P&&e.match_length<=e.prev_length){i=e.strstart+e.lookahead-P,n=a._tr_tally(e,e.strstart-1-e.prev_match,e.prev_length-P),e.lookahead-=e.prev_length-1,e.prev_length-=2;do{++e.strstart<=i&&(e.ins_h=(e.ins_h<<e.hash_shift^e.window[e.strstart+P-1])&e.hash_mask,r=e.prev[e.strstart&e.w_mask]=e.head[e.ins_h],e.head[e.ins_h]=e.strstart)}while(0!=--e.prev_length);if(e.match_available=0,e.match_length=P-1,e.strstart++,n&&(te(e,!1),0===e.strm.avail_out))return W}else if(e.match_available){if((n=a._tr_tally(e,0,e.window[e.strstart-1]))&&te(e,!1),e.strstart++,e.lookahead--,0===e.strm.avail_out)return W}else e.match_available=1,e.strstart++,e.lookahead--}return e.match_available&&(n=a._tr_tally(e,0,e.window[e.strstart-1]),e.match_available=0),e.insert=e.strstart<P-1?e.strstart:P-1,t===f?(te(e,!0),0===e.strm.avail_out?q:Z):e.last_lit&&(te(e,!1),0===e.strm.avail_out)?W:Y}function le(e,t,r,n,i){this.good_length=e,this.max_lazy=t,this.nice_length=r,this.max_chain=n,this.func=i}function he(e){e.window_size=2*e.w_size,$(e.head),e.max_lazy_match=n[e.level].max_lazy,e.good_match=n[e.level].good_length,e.nice_match=n[e.level].nice_length,e.max_chain_length=n[e.level].max_chain,e.strstart=0,e.block_start=0,e.lookahead=0,e.insert=0,e.match_length=e.prev_length=P-1,e.match_available=0,e.ins_h=0}function ce(){this.strm=null,this.status=0,this.pending_buf=null,this.pending_buf_size=0,this.pending_out=0,this.pending=0,this.wrap=0,this.gzhead=null,this.gzindex=0,this.method=S,this.last_flush=-1,this.w_size=0,this.w_bits=0,this.w_mask=0,this.window=null,this.window_size=0,this.prev=null,this.head=null,this.ins_h=0,this.hash_size=0,this.hash_bits=0,this.hash_mask=0,this.hash_shift=0,this.block_start=0,this.match_length=0,this.prev_match=0,this.match_available=0,this.strstart=0,this.match_start=0,this.lookahead=0,this.prev_length=0,this.max_chain_length=0,this.max_lazy_match=0,this.level=0,this.strategy=0,this.good_match=0,this.nice_match=0,this.dyn_ltree=new i.Buf16(2*N),this.dyn_dtree=new i.Buf16(2*(2*I+1)),this.bl_tree=new i.Buf16(2*(2*L+1)),$(this.dyn_ltree),$(this.dyn_dtree),$(this.bl_tree),this.l_desc=null,this.d_desc=null,this.bl_desc=null,this.bl_count=new i.Buf16(O+1),this.heap=new i.Buf16(2*M+1),$(this.heap),this.heap_len=0,this.heap_max=0,this.depth=new i.Buf16(2*M+1),$(this.depth),this.l_buf=0,this.lit_bufsize=0,this.last_lit=0,this.d_buf=0,this.opt_len=0,this.static_len=0,this.matches=0,this.insert=0,this.bi_buf=0,this.bi_valid=0}function fe(e){var t;return e&&e.state?(e.total_in=e.total_out=0,e.data_type=T,(t=e.state).pending=0,t.pending_out=0,t.wrap<0&&(t.wrap=-t.wrap),t.status=t.wrap?F:H,e.adler=2===t.wrap?0:1,t.last_flush=l,a._tr_init(t),p):J(e,g)}function de(e){var t=fe(e);return t===p&&he(e.state),t}function pe(e,t,r,n,a,s){if(!e)return g;var o=1;if(t===b&&(t=6),n<0?(o=0,n=-n):n>15&&(o=2,n-=16),a<1||a>R||r!==S||n<8||n>15||t<0||t>9||s<0||s>x)return J(e,g);8===n&&(n=9);var u=new ce;return e.state=u,u.strm=e,u.wrap=o,u.gzhead=null,u.w_bits=n,u.w_size=1<<u.w_bits,u.w_mask=u.w_size-1,u.hash_bits=a+7,u.hash_size=1<<u.hash_bits,u.hash_mask=u.hash_size-1,u.hash_shift=~~((u.hash_bits+P-1)/P),u.window=new i.Buf8(2*u.w_size),u.head=new i.Buf16(u.hash_size),u.prev=new i.Buf16(u.w_size),u.lit_bufsize=1<<a+6,u.pending_buf_size=4*u.lit_bufsize,u.pending_buf=new i.Buf8(u.pending_buf_size),u.d_buf=1*u.lit_bufsize,u.l_buf=3*u.lit_bufsize,u.level=t,u.strategy=s,u.method=r,de(e)}n=[new le(0,0,0,0,function(e,t){var r=65535;for(r>e.pending_buf_size-5&&(r=e.pending_buf_size-5);;){if(e.lookahead<=1){if(se(e),0===e.lookahead&&t===l)return W;if(0===e.lookahead)break}e.strstart+=e.lookahead,e.lookahead=0;var n=e.block_start+r;if((0===e.strstart||e.strstart>=n)&&(e.lookahead=e.strstart-n,e.strstart=n,te(e,!1),0===e.strm.avail_out))return W;if(e.strstart-e.block_start>=e.w_size-U&&(te(e,!1),0===e.strm.avail_out))return W}return e.insert=0,t===f?(te(e,!0),0===e.strm.avail_out?q:Z):(e.strstart>e.block_start&&(te(e,!1),e.strm.avail_out),W)}),new le(4,4,8,4,oe),new le(4,5,16,8,oe),new le(4,6,32,32,oe),new le(4,4,16,16,ue),new le(8,16,32,32,ue),new le(8,16,128,128,ue),new le(8,32,128,256,ue),new le(32,128,258,1024,ue),new le(32,258,258,4096,ue)],r.deflateInit=function(e,t){return pe(e,t,S,k,C,A)},r.deflateInit2=pe,r.deflateReset=de,r.deflateResetKeep=fe,r.deflateSetHeader=function(e,t){return e&&e.state?2!==e.state.wrap?g:(e.state.gzhead=t,p):g},r.deflate=function(e,t){var r,i,s,u;if(!e||!e.state||t>d||t<0)return e?J(e,g):g;if(i=e.state,!e.output||!e.input&&0!==e.avail_in||i.status===G&&t!==f)return J(e,0===e.avail_out?_:g);if(i.strm=e,r=i.last_flush,i.last_flush=t,i.status===F)if(2===i.wrap)e.adler=0,re(i,31),re(i,139),re(i,8),i.gzhead?(re(i,(i.gzhead.text?1:0)+(i.gzhead.hcrc?2:0)+(i.gzhead.extra?4:0)+(i.gzhead.name?8:0)+(i.gzhead.comment?16:0)),re(i,255&i.gzhead.time),re(i,i.gzhead.time>>8&255),re(i,i.gzhead.time>>16&255),re(i,i.gzhead.time>>24&255),re(i,9===i.level?2:i.strategy>=w||i.level<2?4:0),re(i,255&i.gzhead.os),i.gzhead.extra&&i.gzhead.extra.length&&(re(i,255&i.gzhead.extra.length),re(i,i.gzhead.extra.length>>8&255)),i.gzhead.hcrc&&(e.adler=o(e.adler,i.pending_buf,i.pending,0)),i.gzindex=0,i.status=j):(re(i,0),re(i,0),re(i,0),re(i,0),re(i,0),re(i,9===i.level?2:i.strategy>=w||i.level<2?4:0),re(i,K),i.status=H);else{var v=S+(i.w_bits-8<<4)<<8;v|=(i.strategy>=w||i.level<2?0:i.level<6?1:6===i.level?2:3)<<6,0!==i.strstart&&(v|=B),v+=31-v%31,i.status=H,ne(i,v),0!==i.strstart&&(ne(i,e.adler>>>16),ne(i,65535&e.adler)),e.adler=1}if(i.status===j)if(i.gzhead.extra){for(s=i.pending;i.gzindex<(65535&i.gzhead.extra.length)&&(i.pending!==i.pending_buf_size||(i.gzhead.hcrc&&i.pending>s&&(e.adler=o(e.adler,i.pending_buf,i.pending-s,s)),ee(e),s=i.pending,i.pending!==i.pending_buf_size));)re(i,255&i.gzhead.extra[i.gzindex]),i.gzindex++;i.gzhead.hcrc&&i.pending>s&&(e.adler=o(e.adler,i.pending_buf,i.pending-s,s)),i.gzindex===i.gzhead.extra.length&&(i.gzindex=0,i.status=z)}else i.status=z;if(i.status===z)if(i.gzhead.name){s=i.pending;do{if(i.pending===i.pending_buf_size&&(i.gzhead.hcrc&&i.pending>s&&(e.adler=o(e.adler,i.pending_buf,i.pending-s,s)),ee(e),s=i.pending,i.pending===i.pending_buf_size)){u=1;break}u=i.gzindex<i.gzhead.name.length?255&i.gzhead.name.charCodeAt(i.gzindex++):0,re(i,u)}while(0!==u);i.gzhead.hcrc&&i.pending>s&&(e.adler=o(e.adler,i.pending_buf,i.pending-s,s)),0===u&&(i.gzindex=0,i.status=V)}else i.status=V;if(i.status===V)if(i.gzhead.comment){s=i.pending;do{if(i.pending===i.pending_buf_size&&(i.gzhead.hcrc&&i.pending>s&&(e.adler=o(e.adler,i.pending_buf,i.pending-s,s)),ee(e),s=i.pending,i.pending===i.pending_buf_size)){u=1;break}u=i.gzindex<i.gzhead.comment.length?255&i.gzhead.comment.charCodeAt(i.gzindex++):0,re(i,u)}while(0!==u);i.gzhead.hcrc&&i.pending>s&&(e.adler=o(e.adler,i.pending_buf,i.pending-s,s)),0===u&&(i.status=X)}else i.status=X;if(i.status===X&&(i.gzhead.hcrc?(i.pending+2>i.pending_buf_size&&ee(e),i.pending+2<=i.pending_buf_size&&(re(i,255&e.adler),re(i,e.adler>>8&255),e.adler=0,i.status=H)):i.status=H),0!==i.pending){if(ee(e),0===e.avail_out)return i.last_flush=-1,p}else if(0===e.avail_in&&Q(t)<=Q(r)&&t!==f)return J(e,_);if(i.status===G&&0!==e.avail_in)return J(e,_);if(0!==e.avail_in||0!==i.lookahead||t!==l&&i.status!==G){var b=i.strategy===w?function(e,t){for(var r;;){if(0===e.lookahead&&(se(e),0===e.lookahead)){if(t===l)return W;break}if(e.match_length=0,r=a._tr_tally(e,0,e.window[e.strstart]),e.lookahead--,e.strstart++,r&&(te(e,!1),0===e.strm.avail_out))return W}return e.insert=0,t===f?(te(e,!0),0===e.strm.avail_out?q:Z):e.last_lit&&(te(e,!1),0===e.strm.avail_out)?W:Y}(i,t):i.strategy===E?function(e,t){for(var r,n,i,s,o=e.window;;){if(e.lookahead<=D){if(se(e),e.lookahead<=D&&t===l)return W;if(0===e.lookahead)break}if(e.match_length=0,e.lookahead>=P&&e.strstart>0&&(n=o[i=e.strstart-1])===o[++i]&&n===o[++i]&&n===o[++i]){s=e.strstart+D;do{}while(n===o[++i]&&n===o[++i]&&n===o[++i]&&n===o[++i]&&n===o[++i]&&n===o[++i]&&n===o[++i]&&n===o[++i]&&i<s);e.match_length=D-(s-i),e.match_length>e.lookahead&&(e.match_length=e.lookahead)}if(e.match_length>=P?(r=a._tr_tally(e,1,e.match_length-P),e.lookahead-=e.match_length,e.strstart+=e.match_length,e.match_length=0):(r=a._tr_tally(e,0,e.window[e.strstart]),e.lookahead--,e.strstart++),r&&(te(e,!1),0===e.strm.avail_out))return W}return e.insert=0,t===f?(te(e,!0),0===e.strm.avail_out?q:Z):e.last_lit&&(te(e,!1),0===e.strm.avail_out)?W:Y}(i,t):n[i.level].func(i,t);if(b!==q&&b!==Z||(i.status=G),b===W||b===q)return 0===e.avail_out&&(i.last_flush=-1),p;if(b===Y&&(t===h?a._tr_align(i):t!==d&&(a._tr_stored_block(i,0,0,!1),t===c&&($(i.head),0===i.lookahead&&(i.strstart=0,i.block_start=0,i.insert=0))),ee(e),0===e.avail_out))return i.last_flush=-1,p}return t!==f?p:i.wrap<=0?m:(2===i.wrap?(re(i,255&e.adler),re(i,e.adler>>8&255),re(i,e.adler>>16&255),re(i,e.adler>>24&255),re(i,255&e.total_in),re(i,e.total_in>>8&255),re(i,e.total_in>>16&255),re(i,e.total_in>>24&255)):(ne(i,e.adler>>>16),ne(i,65535&e.adler)),ee(e),i.wrap>0&&(i.wrap=-i.wrap),0!==i.pending?p:m)},r.deflateEnd=function(e){var t;return e&&e.state?(t=e.state.status)!==F&&t!==j&&t!==z&&t!==V&&t!==X&&t!==H&&t!==G?J(e,g):(e.state=null,t===H?J(e,v):p):g},r.deflateSetDictionary=function(e,t){var r,n,a,o,u,l,h,c,f=t.length;if(!e||!e.state)return g;if(2===(o=(r=e.state).wrap)||1===o&&r.status!==F||r.lookahead)return g;for(1===o&&(e.adler=s(e.adler,t,f,0)),r.wrap=0,f>=r.w_size&&(0===o&&($(r.head),r.strstart=0,r.block_start=0,r.insert=0),c=new i.Buf8(r.w_size),i.arraySet(c,t,f-r.w_size,r.w_size,0),t=c,f=r.w_size),u=e.avail_in,l=e.next_in,h=e.input,e.avail_in=f,e.next_in=0,e.input=t,se(r);r.lookahead>=P;){n=r.strstart,a=r.lookahead-(P-1);do{r.ins_h=(r.ins_h<<r.hash_shift^r.window[n+P-1])&r.hash_mask,r.prev[n&r.w_mask]=r.head[r.ins_h],r.head[r.ins_h]=n,n++}while(--a);r.strstart=n,r.lookahead=P-1,se(r)}return r.strstart+=r.lookahead,r.block_start=r.strstart,r.insert=r.lookahead,r.lookahead=0,r.match_length=r.prev_length=P-1,r.match_available=0,e.next_in=l,e.input=h,e.avail_in=u,r.wrap=o,p},r.deflateInfo="pako deflate (from Nodeca project)"},{"../utils/common":"tbG5","./trees":"+sRJ","./adler32":"uxo6","./crc32":"X4kj","./messages":"gMAY"}],"34Q3":[function(e,t,r){"use strict";var n=e("./common"),i=!0,a=!0;try{String.fromCharCode.apply(null,[0])}catch(l){i=!1}try{String.fromCharCode.apply(null,new Uint8Array(1))}catch(l){a=!1}for(var s=new n.Buf8(256),o=0;o<256;o++)s[o]=o>=252?6:o>=248?5:o>=240?4:o>=224?3:o>=192?2:1;function u(e,t){if(t<65534&&(e.subarray&&a||!e.subarray&&i))return String.fromCharCode.apply(null,n.shrinkBuf(e,t));for(var r="",s=0;s<t;s++)r+=String.fromCharCode(e[s]);return r}s[254]=s[254]=1,r.string2buf=function(e){var t,r,i,a,s,o=e.length,u=0;for(a=0;a<o;a++)55296==(64512&(r=e.charCodeAt(a)))&&a+1<o&&56320==(64512&(i=e.charCodeAt(a+1)))&&(r=65536+(r-55296<<10)+(i-56320),a++),u+=r<128?1:r<2048?2:r<65536?3:4;for(t=new n.Buf8(u),s=0,a=0;s<u;a++)55296==(64512&(r=e.charCodeAt(a)))&&a+1<o&&56320==(64512&(i=e.charCodeAt(a+1)))&&(r=65536+(r-55296<<10)+(i-56320),a++),r<128?t[s++]=r:r<2048?(t[s++]=192|r>>>6,t[s++]=128|63&r):r<65536?(t[s++]=224|r>>>12,t[s++]=128|r>>>6&63,t[s++]=128|63&r):(t[s++]=240|r>>>18,t[s++]=128|r>>>12&63,t[s++]=128|r>>>6&63,t[s++]=128|63&r);return t},r.buf2binstring=function(e){return u(e,e.length)},r.binstring2buf=function(e){for(var t=new n.Buf8(e.length),r=0,i=t.length;r<i;r++)t[r]=e.charCodeAt(r);return t},r.buf2string=function(e,t){var r,n,i,a,o=t||e.length,l=new Array(2*o);for(n=0,r=0;r<o;)if((i=e[r++])<128)l[n++]=i;else if((a=s[i])>4)l[n++]=65533,r+=a-1;else{for(i&=2===a?31:3===a?15:7;a>1&&r<o;)i=i<<6|63&e[r++],a--;a>1?l[n++]=65533:i<65536?l[n++]=i:(i-=65536,l[n++]=55296|i>>10&1023,l[n++]=56320|1023&i)}return u(l,n)},r.utf8border=function(e,t){var r;for((t=t||e.length)>e.length&&(t=e.length),r=t-1;r>=0&&128==(192&e[r]);)r--;return r<0?t:0===r?t:r+s[e[r]]>t?r:t}},{"./common":"tbG5"}],bdtv:[function(e,t,r){"use strict";t.exports=function(){this.input=null,this.next_in=0,this.avail_in=0,this.total_in=0,this.output=null,this.next_out=0,this.avail_out=0,this.total_out=0,this.msg="",this.state=null,this.data_type=2,this.adler=0}},{}],nFS2:[function(e,t,r){"use strict";var n=e("./zlib/deflate"),i=e("./utils/common"),a=e("./utils/strings"),s=e("./zlib/messages"),o=e("./zlib/zstream"),u=Object.prototype.toString,l=0,h=-1,c=0,f=8;function d(e){if(!(this instanceof d))return new d(e);this.options=i.assign({level:h,method:f,chunkSize:16384,windowBits:15,memLevel:8,strategy:c,to:""},e||{});var t=this.options;t.raw&&t.windowBits>0?t.windowBits=-t.windowBits:t.gzip&&t.windowBits>0&&t.windowBits<16&&(t.windowBits+=16),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new o,this.strm.avail_out=0;var r=n.deflateInit2(this.strm,t.level,t.method,t.windowBits,t.memLevel,t.strategy);if(r!==l)throw new Error(s[r]);if(t.header&&n.deflateSetHeader(this.strm,t.header),t.dictionary){var p;if(p="string"==typeof t.dictionary?a.string2buf(t.dictionary):"[object ArrayBuffer]"===u.call(t.dictionary)?new Uint8Array(t.dictionary):t.dictionary,(r=n.deflateSetDictionary(this.strm,p))!==l)throw new Error(s[r]);this._dict_set=!0}}function p(e,t){var r=new d(t);if(r.push(e,!0),r.err)throw r.msg||s[r.err];return r.result}d.prototype.push=function(e,t){var r,s,o=this.strm,h=this.options.chunkSize;if(this.ended)return!1;s=t===~~t?t:!0===t?4:0,"string"==typeof e?o.input=a.string2buf(e):"[object ArrayBuffer]"===u.call(e)?o.input=new Uint8Array(e):o.input=e,o.next_in=0,o.avail_in=o.input.length;do{if(0===o.avail_out&&(o.output=new i.Buf8(h),o.next_out=0,o.avail_out=h),1!==(r=n.deflate(o,s))&&r!==l)return this.onEnd(r),this.ended=!0,!1;0!==o.avail_out&&(0!==o.avail_in||4!==s&&2!==s)||("string"===this.options.to?this.onData(a.buf2binstring(i.shrinkBuf(o.output,o.next_out))):this.onData(i.shrinkBuf(o.output,o.next_out)))}while((o.avail_in>0||0===o.avail_out)&&1!==r);return 4===s?(r=n.deflateEnd(this.strm),this.onEnd(r),this.ended=!0,r===l):2!==s||(this.onEnd(l),o.avail_out=0,!0)},d.prototype.onData=function(e){this.chunks.push(e)},d.prototype.onEnd=function(e){e===l&&("string"===this.options.to?this.result=this.chunks.join(""):this.result=i.flattenChunks(this.chunks)),this.chunks=[],this.err=e,this.msg=this.strm.msg},r.Deflate=d,r.deflate=p,r.deflateRaw=function(e,t){return(t=t||{}).raw=!0,p(e,t)},r.gzip=function(e,t){return(t=t||{}).gzip=!0,p(e,t)}},{"./zlib/deflate":"+BLB","./utils/common":"tbG5","./utils/strings":"34Q3","./zlib/messages":"gMAY","./zlib/zstream":"bdtv"}],LP5M:[function(e,t,r){"use strict";t.exports=function(e,t){var r,n,i,a,s,o,u,l,h,c,f,d,p,m,g,v,_,b,y,w,E,x,A,T,S;r=e.state,n=e.next_in,T=e.input,i=n+(e.avail_in-5),a=e.next_out,S=e.output,s=a-(t-e.avail_out),o=a+(e.avail_out-257),u=r.dmax,l=r.wsize,h=r.whave,c=r.wnext,f=r.window,d=r.hold,p=r.bits,m=r.lencode,g=r.distcode,v=(1<<r.lenbits)-1,_=(1<<r.distbits)-1;e:do{p<15&&(d+=T[n++]<<p,p+=8,d+=T[n++]<<p,p+=8),b=m[d&v];t:for(;;){if(d>>>=y=b>>>24,p-=y,0==(y=b>>>16&255))S[a++]=65535&b;else{if(!(16&y)){if(0==(64&y)){b=m[(65535&b)+(d&(1<<y)-1)];continue t}if(32&y){r.mode=12;break e}e.msg="invalid literal/length code",r.mode=30;break e}w=65535&b,(y&=15)&&(p<y&&(d+=T[n++]<<p,p+=8),w+=d&(1<<y)-1,d>>>=y,p-=y),p<15&&(d+=T[n++]<<p,p+=8,d+=T[n++]<<p,p+=8),b=g[d&_];r:for(;;){if(d>>>=y=b>>>24,p-=y,!(16&(y=b>>>16&255))){if(0==(64&y)){b=g[(65535&b)+(d&(1<<y)-1)];continue r}e.msg="invalid distance code",r.mode=30;break e}if(E=65535&b,p<(y&=15)&&(d+=T[n++]<<p,(p+=8)<y&&(d+=T[n++]<<p,p+=8)),(E+=d&(1<<y)-1)>u){e.msg="invalid distance too far back",r.mode=30;break e}if(d>>>=y,p-=y,E>(y=a-s)){if((y=E-y)>h&&r.sane){e.msg="invalid distance too far back",r.mode=30;break e}if(x=0,A=f,0===c){if(x+=l-y,y<w){w-=y;do{S[a++]=f[x++]}while(--y);x=a-E,A=S}}else if(c<y){if(x+=l+c-y,(y-=c)<w){w-=y;do{S[a++]=f[x++]}while(--y);if(x=0,c<w){w-=y=c;do{S[a++]=f[x++]}while(--y);x=a-E,A=S}}}else if(x+=c-y,y<w){w-=y;do{S[a++]=f[x++]}while(--y);x=a-E,A=S}for(;w>2;)S[a++]=A[x++],S[a++]=A[x++],S[a++]=A[x++],w-=3;w&&(S[a++]=A[x++],w>1&&(S[a++]=A[x++]))}else{x=a-E;do{S[a++]=S[x++],S[a++]=S[x++],S[a++]=S[x++],w-=3}while(w>2);w&&(S[a++]=S[x++],w>1&&(S[a++]=S[x++]))}break}}break}}while(n<i&&a<o);n-=w=p>>3,d&=(1<<(p-=w<<3))-1,e.next_in=n,e.next_out=a,e.avail_in=n<i?i-n+5:5-(n-i),e.avail_out=a<o?o-a+257:257-(a-o),r.hold=d,r.bits=p}},{}],"2u+n":[function(e,t,r){"use strict";var n=e("../utils/common"),i=15,a=[3,4,5,6,7,8,9,10,11,13,15,17,19,23,27,31,35,43,51,59,67,83,99,115,131,163,195,227,258,0,0],s=[16,16,16,16,16,16,16,16,17,17,17,17,18,18,18,18,19,19,19,19,20,20,20,20,21,21,21,21,16,72,78],o=[1,2,3,4,5,7,9,13,17,25,33,49,65,97,129,193,257,385,513,769,1025,1537,2049,3073,4097,6145,8193,12289,16385,24577,0,0],u=[16,16,16,16,17,17,18,18,19,19,20,20,21,21,22,22,23,23,24,24,25,25,26,26,27,27,28,28,29,29,64,64];t.exports=function(e,t,r,l,h,c,f,d){var p,m,g,v,_,b,y,w,E,x=d.bits,A=0,T=0,S=0,R=0,k=0,C=0,M=0,I=0,L=0,N=0,O=null,P=0,D=new n.Buf16(16),U=new n.Buf16(16),B=null,F=0;for(A=0;A<=i;A++)D[A]=0;for(T=0;T<l;T++)D[t[r+T]]++;for(k=x,R=i;R>=1&&0===D[R];R--);if(k>R&&(k=R),0===R)return h[c++]=20971520,h[c++]=20971520,d.bits=1,0;for(S=1;S<R&&0===D[S];S++);for(k<S&&(k=S),I=1,A=1;A<=i;A++)if(I<<=1,(I-=D[A])<0)return-1;if(I>0&&(0===e||1!==R))return-1;for(U[1]=0,A=1;A<i;A++)U[A+1]=U[A]+D[A];for(T=0;T<l;T++)0!==t[r+T]&&(f[U[t[r+T]]++]=T);if(0===e?(O=B=f,b=19):1===e?(O=a,P-=257,B=s,F-=257,b=256):(O=o,B=u,b=-1),N=0,T=0,A=S,_=c,C=k,M=0,g=-1,v=(L=1<<k)-1,1===e&&L>852||2===e&&L>592)return 1;for(;;){y=A-M,f[T]<b?(w=0,E=f[T]):f[T]>b?(w=B[F+f[T]],E=O[P+f[T]]):(w=96,E=0),p=1<<A-M,S=m=1<<C;do{h[_+(N>>M)+(m-=p)]=y<<24|w<<16|E|0}while(0!==m);for(p=1<<A-1;N&p;)p>>=1;if(0!==p?(N&=p-1,N+=p):N=0,T++,0==--D[A]){if(A===R)break;A=t[r+f[T]]}if(A>k&&(N&v)!==g){for(0===M&&(M=k),_+=S,I=1<<(C=A-M);C+M<R&&!((I-=D[C+M])<=0);)C++,I<<=1;if(L+=1<<C,1===e&&L>852||2===e&&L>592)return 1;h[g=N&v]=k<<24|C<<16|_-c|0}}return 0!==N&&(h[_+N]=A-M<<24|64<<16|0),d.bits=k,0}},{"../utils/common":"tbG5"}],GIDK:[function(e,t,r){"use strict";var n=e("../utils/common"),i=e("./adler32"),a=e("./crc32"),s=e("./inffast"),o=e("./inftrees"),u=0,l=1,h=2,c=4,f=5,d=6,p=0,m=1,g=2,v=-2,_=-3,b=-4,y=-5,w=8,E=1,x=2,A=3,T=4,S=5,R=6,k=7,C=8,M=9,I=10,L=11,N=12,O=13,P=14,D=15,U=16,B=17,F=18,j=19,z=20,V=21,X=22,H=23,G=24,W=25,Y=26,q=27,Z=28,K=29,J=30,Q=31,$=32,ee=852,te=592,re=15;function ne(e){return(e>>>24&255)+(e>>>8&65280)+((65280&e)<<8)+((255&e)<<24)}function ie(){this.mode=0,this.last=!1,this.wrap=0,this.havedict=!1,this.flags=0,this.dmax=0,this.check=0,this.total=0,this.head=null,this.wbits=0,this.wsize=0,this.whave=0,this.wnext=0,this.window=null,this.hold=0,this.bits=0,this.length=0,this.offset=0,this.extra=0,this.lencode=null,this.distcode=null,this.lenbits=0,this.distbits=0,this.ncode=0,this.nlen=0,this.ndist=0,this.have=0,this.next=null,this.lens=new n.Buf16(320),this.work=new n.Buf16(288),this.lendyn=null,this.distdyn=null,this.sane=0,this.back=0,this.was=0}function ae(e){var t;return e&&e.state?(t=e.state,e.total_in=e.total_out=t.total=0,e.msg="",t.wrap&&(e.adler=1&t.wrap),t.mode=E,t.last=0,t.havedict=0,t.dmax=32768,t.head=null,t.hold=0,t.bits=0,t.lencode=t.lendyn=new n.Buf32(ee),t.distcode=t.distdyn=new n.Buf32(te),t.sane=1,t.back=-1,p):v}function se(e){var t;return e&&e.state?((t=e.state).wsize=0,t.whave=0,t.wnext=0,ae(e)):v}function oe(e,t){var r,n;return e&&e.state?(n=e.state,t<0?(r=0,t=-t):(r=1+(t>>4),t<48&&(t&=15)),t&&(t<8||t>15)?v:(null!==n.window&&n.wbits!==t&&(n.window=null),n.wrap=r,n.wbits=t,se(e))):v}function ue(e,t){var r,n;return e?(n=new ie,e.state=n,n.window=null,(r=oe(e,t))!==p&&(e.state=null),r):v}var le,he,ce=!0;function fe(e){if(ce){var t;for(le=new n.Buf32(512),he=new n.Buf32(32),t=0;t<144;)e.lens[t++]=8;for(;t<256;)e.lens[t++]=9;for(;t<280;)e.lens[t++]=7;for(;t<288;)e.lens[t++]=8;for(o(l,e.lens,0,288,le,0,e.work,{bits:9}),t=0;t<32;)e.lens[t++]=5;o(h,e.lens,0,32,he,0,e.work,{bits:5}),ce=!1}e.lencode=le,e.lenbits=9,e.distcode=he,e.distbits=5}function de(e,t,r,i){var a,s=e.state;return null===s.window&&(s.wsize=1<<s.wbits,s.wnext=0,s.whave=0,s.window=new n.Buf8(s.wsize)),i>=s.wsize?(n.arraySet(s.window,t,r-s.wsize,s.wsize,0),s.wnext=0,s.whave=s.wsize):((a=s.wsize-s.wnext)>i&&(a=i),n.arraySet(s.window,t,r-i,a,s.wnext),(i-=a)?(n.arraySet(s.window,t,r-i,i,0),s.wnext=i,s.whave=s.wsize):(s.wnext+=a,s.wnext===s.wsize&&(s.wnext=0),s.whave<s.wsize&&(s.whave+=a))),0}r.inflateReset=se,r.inflateReset2=oe,r.inflateResetKeep=ae,r.inflateInit=function(e){return ue(e,re)},r.inflateInit2=ue,r.inflate=function(e,t){var r,ee,te,re,ie,ae,se,oe,ue,le,he,ce,pe,me,ge,ve,_e,be,ye,we,Ee,xe,Ae,Te,Se=0,Re=new n.Buf8(4),ke=[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15];if(!e||!e.state||!e.output||!e.input&&0!==e.avail_in)return v;(r=e.state).mode===N&&(r.mode=O),ie=e.next_out,te=e.output,se=e.avail_out,re=e.next_in,ee=e.input,ae=e.avail_in,oe=r.hold,ue=r.bits,le=ae,he=se,xe=p;e:for(;;)switch(r.mode){case E:if(0===r.wrap){r.mode=O;break}for(;ue<16;){if(0===ae)break e;ae--,oe+=ee[re++]<<ue,ue+=8}if(2&r.wrap&&35615===oe){r.check=0,Re[0]=255&oe,Re[1]=oe>>>8&255,r.check=a(r.check,Re,2,0),oe=0,ue=0,r.mode=x;break}if(r.flags=0,r.head&&(r.head.done=!1),!(1&r.wrap)||(((255&oe)<<8)+(oe>>8))%31){e.msg="incorrect header check",r.mode=J;break}if((15&oe)!==w){e.msg="unknown compression method",r.mode=J;break}if(ue-=4,Ee=8+(15&(oe>>>=4)),0===r.wbits)r.wbits=Ee;else if(Ee>r.wbits){e.msg="invalid window size",r.mode=J;break}r.dmax=1<<Ee,e.adler=r.check=1,r.mode=512&oe?I:N,oe=0,ue=0;break;case x:for(;ue<16;){if(0===ae)break e;ae--,oe+=ee[re++]<<ue,ue+=8}if(r.flags=oe,(255&r.flags)!==w){e.msg="unknown compression method",r.mode=J;break}if(57344&r.flags){e.msg="unknown header flags set",r.mode=J;break}r.head&&(r.head.text=oe>>8&1),512&r.flags&&(Re[0]=255&oe,Re[1]=oe>>>8&255,r.check=a(r.check,Re,2,0)),oe=0,ue=0,r.mode=A;case A:for(;ue<32;){if(0===ae)break e;ae--,oe+=ee[re++]<<ue,ue+=8}r.head&&(r.head.time=oe),512&r.flags&&(Re[0]=255&oe,Re[1]=oe>>>8&255,Re[2]=oe>>>16&255,Re[3]=oe>>>24&255,r.check=a(r.check,Re,4,0)),oe=0,ue=0,r.mode=T;case T:for(;ue<16;){if(0===ae)break e;ae--,oe+=ee[re++]<<ue,ue+=8}r.head&&(r.head.xflags=255&oe,r.head.os=oe>>8),512&r.flags&&(Re[0]=255&oe,Re[1]=oe>>>8&255,r.check=a(r.check,Re,2,0)),oe=0,ue=0,r.mode=S;case S:if(1024&r.flags){for(;ue<16;){if(0===ae)break e;ae--,oe+=ee[re++]<<ue,ue+=8}r.length=oe,r.head&&(r.head.extra_len=oe),512&r.flags&&(Re[0]=255&oe,Re[1]=oe>>>8&255,r.check=a(r.check,Re,2,0)),oe=0,ue=0}else r.head&&(r.head.extra=null);r.mode=R;case R:if(1024&r.flags&&((ce=r.length)>ae&&(ce=ae),ce&&(r.head&&(Ee=r.head.extra_len-r.length,r.head.extra||(r.head.extra=new Array(r.head.extra_len)),n.arraySet(r.head.extra,ee,re,ce,Ee)),512&r.flags&&(r.check=a(r.check,ee,ce,re)),ae-=ce,re+=ce,r.length-=ce),r.length))break e;r.length=0,r.mode=k;case k:if(2048&r.flags){if(0===ae)break e;ce=0;do{Ee=ee[re+ce++],r.head&&Ee&&r.length<65536&&(r.head.name+=String.fromCharCode(Ee))}while(Ee&&ce<ae);if(512&r.flags&&(r.check=a(r.check,ee,ce,re)),ae-=ce,re+=ce,Ee)break e}else r.head&&(r.head.name=null);r.length=0,r.mode=C;case C:if(4096&r.flags){if(0===ae)break e;ce=0;do{Ee=ee[re+ce++],r.head&&Ee&&r.length<65536&&(r.head.comment+=String.fromCharCode(Ee))}while(Ee&&ce<ae);if(512&r.flags&&(r.check=a(r.check,ee,ce,re)),ae-=ce,re+=ce,Ee)break e}else r.head&&(r.head.comment=null);r.mode=M;case M:if(512&r.flags){for(;ue<16;){if(0===ae)break e;ae--,oe+=ee[re++]<<ue,ue+=8}if(oe!==(65535&r.check)){e.msg="header crc mismatch",r.mode=J;break}oe=0,ue=0}r.head&&(r.head.hcrc=r.flags>>9&1,r.head.done=!0),e.adler=r.check=0,r.mode=N;break;case I:for(;ue<32;){if(0===ae)break e;ae--,oe+=ee[re++]<<ue,ue+=8}e.adler=r.check=ne(oe),oe=0,ue=0,r.mode=L;case L:if(0===r.havedict)return e.next_out=ie,e.avail_out=se,e.next_in=re,e.avail_in=ae,r.hold=oe,r.bits=ue,g;e.adler=r.check=1,r.mode=N;case N:if(t===f||t===d)break e;case O:if(r.last){oe>>>=7&ue,ue-=7&ue,r.mode=q;break}for(;ue<3;){if(0===ae)break e;ae--,oe+=ee[re++]<<ue,ue+=8}switch(r.last=1&oe,ue-=1,3&(oe>>>=1)){case 0:r.mode=P;break;case 1:if(fe(r),r.mode=z,t===d){oe>>>=2,ue-=2;break e}break;case 2:r.mode=B;break;case 3:e.msg="invalid block type",r.mode=J}oe>>>=2,ue-=2;break;case P:for(oe>>>=7&ue,ue-=7&ue;ue<32;){if(0===ae)break e;ae--,oe+=ee[re++]<<ue,ue+=8}if((65535&oe)!=(oe>>>16^65535)){e.msg="invalid stored block lengths",r.mode=J;break}if(r.length=65535&oe,oe=0,ue=0,r.mode=D,t===d)break e;case D:r.mode=U;case U:if(ce=r.length){if(ce>ae&&(ce=ae),ce>se&&(ce=se),0===ce)break e;n.arraySet(te,ee,re,ce,ie),ae-=ce,re+=ce,se-=ce,ie+=ce,r.length-=ce;break}r.mode=N;break;case B:for(;ue<14;){if(0===ae)break e;ae--,oe+=ee[re++]<<ue,ue+=8}if(r.nlen=257+(31&oe),oe>>>=5,ue-=5,r.ndist=1+(31&oe),oe>>>=5,ue-=5,r.ncode=4+(15&oe),oe>>>=4,ue-=4,r.nlen>286||r.ndist>30){e.msg="too many length or distance symbols",r.mode=J;break}r.have=0,r.mode=F;case F:for(;r.have<r.ncode;){for(;ue<3;){if(0===ae)break e;ae--,oe+=ee[re++]<<ue,ue+=8}r.lens[ke[r.have++]]=7&oe,oe>>>=3,ue-=3}for(;r.have<19;)r.lens[ke[r.have++]]=0;if(r.lencode=r.lendyn,r.lenbits=7,Ae={bits:r.lenbits},xe=o(u,r.lens,0,19,r.lencode,0,r.work,Ae),r.lenbits=Ae.bits,xe){e.msg="invalid code lengths set",r.mode=J;break}r.have=0,r.mode=j;case j:for(;r.have<r.nlen+r.ndist;){for(;ve=(Se=r.lencode[oe&(1<<r.lenbits)-1])>>>16&255,_e=65535&Se,!((ge=Se>>>24)<=ue);){if(0===ae)break e;ae--,oe+=ee[re++]<<ue,ue+=8}if(_e<16)oe>>>=ge,ue-=ge,r.lens[r.have++]=_e;else{if(16===_e){for(Te=ge+2;ue<Te;){if(0===ae)break e;ae--,oe+=ee[re++]<<ue,ue+=8}if(oe>>>=ge,ue-=ge,0===r.have){e.msg="invalid bit length repeat",r.mode=J;break}Ee=r.lens[r.have-1],ce=3+(3&oe),oe>>>=2,ue-=2}else if(17===_e){for(Te=ge+3;ue<Te;){if(0===ae)break e;ae--,oe+=ee[re++]<<ue,ue+=8}ue-=ge,Ee=0,ce=3+(7&(oe>>>=ge)),oe>>>=3,ue-=3}else{for(Te=ge+7;ue<Te;){if(0===ae)break e;ae--,oe+=ee[re++]<<ue,ue+=8}ue-=ge,Ee=0,ce=11+(127&(oe>>>=ge)),oe>>>=7,ue-=7}if(r.have+ce>r.nlen+r.ndist){e.msg="invalid bit length repeat",r.mode=J;break}for(;ce--;)r.lens[r.have++]=Ee}}if(r.mode===J)break;if(0===r.lens[256]){e.msg="invalid code -- missing end-of-block",r.mode=J;break}if(r.lenbits=9,Ae={bits:r.lenbits},xe=o(l,r.lens,0,r.nlen,r.lencode,0,r.work,Ae),r.lenbits=Ae.bits,xe){e.msg="invalid literal/lengths set",r.mode=J;break}if(r.distbits=6,r.distcode=r.distdyn,Ae={bits:r.distbits},xe=o(h,r.lens,r.nlen,r.ndist,r.distcode,0,r.work,Ae),r.distbits=Ae.bits,xe){e.msg="invalid distances set",r.mode=J;break}if(r.mode=z,t===d)break e;case z:r.mode=V;case V:if(ae>=6&&se>=258){e.next_out=ie,e.avail_out=se,e.next_in=re,e.avail_in=ae,r.hold=oe,r.bits=ue,s(e,he),ie=e.next_out,te=e.output,se=e.avail_out,re=e.next_in,ee=e.input,ae=e.avail_in,oe=r.hold,ue=r.bits,r.mode===N&&(r.back=-1);break}for(r.back=0;ve=(Se=r.lencode[oe&(1<<r.lenbits)-1])>>>16&255,_e=65535&Se,!((ge=Se>>>24)<=ue);){if(0===ae)break e;ae--,oe+=ee[re++]<<ue,ue+=8}if(ve&&0==(240&ve)){for(be=ge,ye=ve,we=_e;ve=(Se=r.lencode[we+((oe&(1<<be+ye)-1)>>be)])>>>16&255,_e=65535&Se,!(be+(ge=Se>>>24)<=ue);){if(0===ae)break e;ae--,oe+=ee[re++]<<ue,ue+=8}oe>>>=be,ue-=be,r.back+=be}if(oe>>>=ge,ue-=ge,r.back+=ge,r.length=_e,0===ve){r.mode=Y;break}if(32&ve){r.back=-1,r.mode=N;break}if(64&ve){e.msg="invalid literal/length code",r.mode=J;break}r.extra=15&ve,r.mode=X;case X:if(r.extra){for(Te=r.extra;ue<Te;){if(0===ae)break e;ae--,oe+=ee[re++]<<ue,ue+=8}r.length+=oe&(1<<r.extra)-1,oe>>>=r.extra,ue-=r.extra,r.back+=r.extra}r.was=r.length,r.mode=H;case H:for(;ve=(Se=r.distcode[oe&(1<<r.distbits)-1])>>>16&255,_e=65535&Se,!((ge=Se>>>24)<=ue);){if(0===ae)break e;ae--,oe+=ee[re++]<<ue,ue+=8}if(0==(240&ve)){for(be=ge,ye=ve,we=_e;ve=(Se=r.distcode[we+((oe&(1<<be+ye)-1)>>be)])>>>16&255,_e=65535&Se,!(be+(ge=Se>>>24)<=ue);){if(0===ae)break e;ae--,oe+=ee[re++]<<ue,ue+=8}oe>>>=be,ue-=be,r.back+=be}if(oe>>>=ge,ue-=ge,r.back+=ge,64&ve){e.msg="invalid distance code",r.mode=J;break}r.offset=_e,r.extra=15&ve,r.mode=G;case G:if(r.extra){for(Te=r.extra;ue<Te;){if(0===ae)break e;ae--,oe+=ee[re++]<<ue,ue+=8}r.offset+=oe&(1<<r.extra)-1,oe>>>=r.extra,ue-=r.extra,r.back+=r.extra}if(r.offset>r.dmax){e.msg="invalid distance too far back",r.mode=J;break}r.mode=W;case W:if(0===se)break e;if(ce=he-se,r.offset>ce){if((ce=r.offset-ce)>r.whave&&r.sane){e.msg="invalid distance too far back",r.mode=J;break}ce>r.wnext?(ce-=r.wnext,pe=r.wsize-ce):pe=r.wnext-ce,ce>r.length&&(ce=r.length),me=r.window}else me=te,pe=ie-r.offset,ce=r.length;ce>se&&(ce=se),se-=ce,r.length-=ce;do{te[ie++]=me[pe++]}while(--ce);0===r.length&&(r.mode=V);break;case Y:if(0===se)break e;te[ie++]=r.length,se--,r.mode=V;break;case q:if(r.wrap){for(;ue<32;){if(0===ae)break e;ae--,oe|=ee[re++]<<ue,ue+=8}if(he-=se,e.total_out+=he,r.total+=he,he&&(e.adler=r.check=r.flags?a(r.check,te,he,ie-he):i(r.check,te,he,ie-he)),he=se,(r.flags?oe:ne(oe))!==r.check){e.msg="incorrect data check",r.mode=J;break}oe=0,ue=0}r.mode=Z;case Z:if(r.wrap&&r.flags){for(;ue<32;){if(0===ae)break e;ae--,oe+=ee[re++]<<ue,ue+=8}if(oe!==(4294967295&r.total)){e.msg="incorrect length check",r.mode=J;break}oe=0,ue=0}r.mode=K;case K:xe=m;break e;case J:xe=_;break e;case Q:return b;case $:default:return v}return e.next_out=ie,e.avail_out=se,e.next_in=re,e.avail_in=ae,r.hold=oe,r.bits=ue,(r.wsize||he!==e.avail_out&&r.mode<J&&(r.mode<q||t!==c))&&de(e,e.output,e.next_out,he-e.avail_out)?(r.mode=Q,b):(le-=e.avail_in,he-=e.avail_out,e.total_in+=le,e.total_out+=he,r.total+=he,r.wrap&&he&&(e.adler=r.check=r.flags?a(r.check,te,he,e.next_out-he):i(r.check,te,he,e.next_out-he)),e.data_type=r.bits+(r.last?64:0)+(r.mode===N?128:0)+(r.mode===z||r.mode===D?256:0),(0===le&&0===he||t===c)&&xe===p&&(xe=y),xe)},r.inflateEnd=function(e){if(!e||!e.state)return v;var t=e.state;return t.window&&(t.window=null),e.state=null,p},r.inflateGetHeader=function(e,t){var r;return e&&e.state?0==(2&(r=e.state).wrap)?v:(r.head=t,t.done=!1,p):v},r.inflateSetDictionary=function(e,t){var r,n=t.length;return e&&e.state?0!==(r=e.state).wrap&&r.mode!==L?v:r.mode===L&&i(1,t,n,0)!==r.check?_:de(e,t,n,n)?(r.mode=Q,b):(r.havedict=1,p):v},r.inflateInfo="pako inflate (from Nodeca project)"},{"../utils/common":"tbG5","./adler32":"uxo6","./crc32":"X4kj","./inffast":"LP5M","./inftrees":"2u+n"}],xUUw:[function(e,t,r){"use strict";t.exports={Z_NO_FLUSH:0,Z_PARTIAL_FLUSH:1,Z_SYNC_FLUSH:2,Z_FULL_FLUSH:3,Z_FINISH:4,Z_BLOCK:5,Z_TREES:6,Z_OK:0,Z_STREAM_END:1,Z_NEED_DICT:2,Z_ERRNO:-1,Z_STREAM_ERROR:-2,Z_DATA_ERROR:-3,Z_BUF_ERROR:-5,Z_NO_COMPRESSION:0,Z_BEST_SPEED:1,Z_BEST_COMPRESSION:9,Z_DEFAULT_COMPRESSION:-1,Z_FILTERED:1,Z_HUFFMAN_ONLY:2,Z_RLE:3,Z_FIXED:4,Z_DEFAULT_STRATEGY:0,Z_BINARY:0,Z_TEXT:1,Z_UNKNOWN:2,Z_DEFLATED:8}},{}],"/+WI":[function(e,t,r){"use strict";t.exports=function(){this.text=0,this.time=0,this.xflags=0,this.os=0,this.extra=null,this.extra_len=0,this.name="",this.comment="",this.hcrc=0,this.done=!1}},{}],faQk:[function(e,t,r){"use strict";var n=e("./zlib/inflate"),i=e("./utils/common"),a=e("./utils/strings"),s=e("./zlib/constants"),o=e("./zlib/messages"),u=e("./zlib/zstream"),l=e("./zlib/gzheader"),h=Object.prototype.toString;function c(e){if(!(this instanceof c))return new c(e);this.options=i.assign({chunkSize:16384,windowBits:0,to:""},e||{});var t=this.options;t.raw&&t.windowBits>=0&&t.windowBits<16&&(t.windowBits=-t.windowBits,0===t.windowBits&&(t.windowBits=-15)),!(t.windowBits>=0&&t.windowBits<16)||e&&e.windowBits||(t.windowBits+=32),t.windowBits>15&&t.windowBits<48&&0==(15&t.windowBits)&&(t.windowBits|=15),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new u,this.strm.avail_out=0;var r=n.inflateInit2(this.strm,t.windowBits);if(r!==s.Z_OK)throw new Error(o[r]);this.header=new l,n.inflateGetHeader(this.strm,this.header)}function f(e,t){var r=new c(t);if(r.push(e,!0),r.err)throw r.msg||o[r.err];return r.result}c.prototype.push=function(e,t){var r,o,u,l,c,f,d=this.strm,p=this.options.chunkSize,m=this.options.dictionary,g=!1;if(this.ended)return!1;o=t===~~t?t:!0===t?s.Z_FINISH:s.Z_NO_FLUSH,"string"==typeof e?d.input=a.binstring2buf(e):"[object ArrayBuffer]"===h.call(e)?d.input=new Uint8Array(e):d.input=e,d.next_in=0,d.avail_in=d.input.length;do{if(0===d.avail_out&&(d.output=new i.Buf8(p),d.next_out=0,d.avail_out=p),(r=n.inflate(d,s.Z_NO_FLUSH))===s.Z_NEED_DICT&&m&&(f="string"==typeof m?a.string2buf(m):"[object ArrayBuffer]"===h.call(m)?new Uint8Array(m):m,r=n.inflateSetDictionary(this.strm,f)),r===s.Z_BUF_ERROR&&!0===g&&(r=s.Z_OK,g=!1),r!==s.Z_STREAM_END&&r!==s.Z_OK)return this.onEnd(r),this.ended=!0,!1;d.next_out&&(0!==d.avail_out&&r!==s.Z_STREAM_END&&(0!==d.avail_in||o!==s.Z_FINISH&&o!==s.Z_SYNC_FLUSH)||("string"===this.options.to?(u=a.utf8border(d.output,d.next_out),l=d.next_out-u,c=a.buf2string(d.output,u),d.next_out=l,d.avail_out=p-l,l&&i.arraySet(d.output,d.output,u,l,0),this.onData(c)):this.onData(i.shrinkBuf(d.output,d.next_out)))),0===d.avail_in&&0===d.avail_out&&(g=!0)}while((d.avail_in>0||0===d.avail_out)&&r!==s.Z_STREAM_END);return r===s.Z_STREAM_END&&(o=s.Z_FINISH),o===s.Z_FINISH?(r=n.inflateEnd(this.strm),this.onEnd(r),this.ended=!0,r===s.Z_OK):o!==s.Z_SYNC_FLUSH||(this.onEnd(s.Z_OK),d.avail_out=0,!0)},c.prototype.onData=function(e){this.chunks.push(e)},c.prototype.onEnd=function(e){e===s.Z_OK&&("string"===this.options.to?this.result=this.chunks.join(""):this.result=i.flattenChunks(this.chunks)),this.chunks=[],this.err=e,this.msg=this.strm.msg},r.Inflate=c,r.inflate=f,r.inflateRaw=function(e,t){return(t=t||{}).raw=!0,f(e,t)},r.ungzip=f},{"./zlib/inflate":"GIDK","./utils/common":"tbG5","./utils/strings":"34Q3","./zlib/constants":"xUUw","./zlib/messages":"gMAY","./zlib/zstream":"bdtv","./zlib/gzheader":"/+WI"}],f4vO:[function(e,t,r){"use strict";var n={};(0,e("./lib/utils/common").assign)(n,e("./lib/deflate"),e("./lib/inflate"),e("./lib/zlib/constants")),t.exports=n},{"./lib/utils/common":"tbG5","./lib/deflate":"nFS2","./lib/inflate":"faQk","./lib/zlib/constants":"xUUw"}],p7rG:[function(e,t,r){"use strict";var n="undefined"!=typeof Uint8Array&&"undefined"!=typeof Uint16Array&&"undefined"!=typeof Uint32Array,i=e("pako"),a=e("./utils"),s=e("./stream/GenericWorker"),o=n?"uint8array":"array";function u(e,t){s.call(this,"FlateWorker/"+e),this._pako=null,this._pakoAction=e,this._pakoOptions=t,this.meta={}}r.magic="\b\0",a.inherits(u,s),u.prototype.processChunk=function(e){this.meta=e.meta,null===this._pako&&this._createPako(),this._pako.push(a.transformTo(o,e.data),!1)},u.prototype.flush=function(){s.prototype.flush.call(this),null===this._pako&&this._createPako(),this._pako.push([],!0)},u.prototype.cleanUp=function(){s.prototype.cleanUp.call(this),this._pako=null},u.prototype._createPako=function(){this._pako=new i[this._pakoAction]({raw:!0,level:this._pakoOptions.level||-1});var e=this;this._pako.onData=function(t){e.push({data:t,meta:e.meta})}},r.compressWorker=function(e){return new u("Deflate",e)},r.uncompressWorker=function(){return new u("Inflate",{})}},{pako:"f4vO","./utils":"dvMn","./stream/GenericWorker":"ZKdc"}],XfO6:[function(e,t,r){"use strict";var n=e("./stream/GenericWorker");r.STORE={magic:"\0\0",compressWorker:function(e){return new n("STORE compression")},uncompressWorker:function(){return new n("STORE decompression")}},r.DEFLATE=e("./flate")},{"./stream/GenericWorker":"ZKdc","./flate":"p7rG"}],Ctqd:[function(e,t,r){"use strict";r.LOCAL_FILE_HEADER="PK",r.CENTRAL_FILE_HEADER="PK",r.CENTRAL_DIRECTORY_END="PK",r.ZIP64_CENTRAL_DIRECTORY_LOCATOR="PK",r.ZIP64_CENTRAL_DIRECTORY_END="PK",r.DATA_DESCRIPTOR="PK\b"},{}],xtj2:[function(e,t,r){"use strict";var n=e("../utils"),i=e("../stream/GenericWorker"),a=e("../utf8"),s=e("../crc32"),o=e("../signature"),u=function(e,t){var r,n="";for(r=0;r<t;r++)n+=String.fromCharCode(255&e),e>>>=8;return n},l=function(e,t,r,i,l,h){var c,f,d=e.file,p=e.compression,m=h!==a.utf8encode,g=n.transformTo("string",h(d.name)),v=n.transformTo("string",a.utf8encode(d.name)),_=d.comment,b=n.transformTo("string",h(_)),y=n.transformTo("string",a.utf8encode(_)),w=v.length!==d.name.length,E=y.length!==_.length,x="",A="",T="",S=d.dir,R=d.date,k={crc32:0,compressedSize:0,uncompressedSize:0};t&&!r||(k.crc32=e.crc32,k.compressedSize=e.compressedSize,k.uncompressedSize=e.uncompressedSize);var C=0;t&&(C|=8),m||!w&&!E||(C|=2048);var M=0,I=0;S&&(M|=16),"UNIX"===l?(I=798,M|=function(e,t){var r=e;return e||(r=t?16893:33204),(65535&r)<<16}(d.unixPermissions,S)):(I=20,M|=function(e,t){return 63&(e||0)}(d.dosPermissions)),c=R.getUTCHours(),c<<=6,c|=R.getUTCMinutes(),c<<=5,c|=R.getUTCSeconds()/2,f=R.getUTCFullYear()-1980,f<<=4,f|=R.getUTCMonth()+1,f<<=5,f|=R.getUTCDate(),w&&(A=u(1,1)+u(s(g),4)+v,x+="up"+u(A.length,2)+A),E&&(T=u(1,1)+u(s(b),4)+y,x+="uc"+u(T.length,2)+T);var L="";return L+="\n\0",L+=u(C,2),L+=p.magic,L+=u(c,2),L+=u(f,2),L+=u(k.crc32,4),L+=u(k.compressedSize,4),L+=u(k.uncompressedSize,4),L+=u(g.length,2),L+=u(x.length,2),{fileRecord:o.LOCAL_FILE_HEADER+L+g+x,dirRecord:o.CENTRAL_FILE_HEADER+u(I,2)+L+u(b.length,2)+"\0\0\0\0"+u(M,4)+u(i,4)+g+x+b}},h=function(e,t,r,i,a){var s=n.transformTo("string",a(i));return o.CENTRAL_DIRECTORY_END+"\0\0\0\0"+u(e,2)+u(e,2)+u(t,4)+u(r,4)+u(s.length,2)+s},c=function(e){return o.DATA_DESCRIPTOR+u(e.crc32,4)+u(e.compressedSize,4)+u(e.uncompressedSize,4)};function f(e,t,r,n){i.call(this,"ZipFileWorker"),this.bytesWritten=0,this.zipComment=t,this.zipPlatform=r,this.encodeFileName=n,this.streamFiles=e,this.accumulate=!1,this.contentBuffer=[],this.dirRecords=[],this.currentSourceOffset=0,this.entriesCount=0,this.currentFile=null,this._sources=[]}n.inherits(f,i),f.prototype.push=function(e){var t=e.meta.percent||0,r=this.entriesCount,n=this._sources.length;this.accumulate?this.contentBuffer.push(e):(this.bytesWritten+=e.data.length,i.prototype.push.call(this,{data:e.data,meta:{currentFile:this.currentFile,percent:r?(t+100*(r-n-1))/r:100}}))},f.prototype.openedSource=function(e){this.currentSourceOffset=this.bytesWritten,this.currentFile=e.file.name;var t=this.streamFiles&&!e.file.dir;if(t){var r=l(e,t,!1,this.currentSourceOffset,this.zipPlatform,this.encodeFileName);this.push({data:r.fileRecord,meta:{percent:0}})}else this.accumulate=!0},f.prototype.closedSource=function(e){this.accumulate=!1;var t=this.streamFiles&&!e.file.dir,r=l(e,t,!0,this.currentSourceOffset,this.zipPlatform,this.encodeFileName);if(this.dirRecords.push(r.dirRecord),t)this.push({data:c(e),meta:{percent:100}});else for(this.push({data:r.fileRecord,meta:{percent:0}});this.contentBuffer.length;)this.push(this.contentBuffer.shift());this.currentFile=null},f.prototype.flush=function(){for(var e=this.bytesWritten,t=0;t<this.dirRecords.length;t++)this.push({data:this.dirRecords[t],meta:{percent:100}});var r=this.bytesWritten-e,n=h(this.dirRecords.length,r,e,this.zipComment,this.encodeFileName);this.push({data:n,meta:{percent:100}})},f.prototype.prepareNextSource=function(){this.previous=this._sources.shift(),this.openedSource(this.previous.streamInfo),this.isPaused?this.previous.pause():this.previous.resume()},f.prototype.registerPrevious=function(e){this._sources.push(e);var t=this;return e.on("data",function(e){t.processChunk(e)}),e.on("end",function(){t.closedSource(t.previous.streamInfo),t._sources.length?t.prepareNextSource():t.end()}),e.on("error",function(e){t.error(e)}),this},f.prototype.resume=function(){return!!i.prototype.resume.call(this)&&(!this.previous&&this._sources.length?(this.prepareNextSource(),!0):this.previous||this._sources.length||this.generatedError?void 0:(this.end(),!0))},f.prototype.error=function(e){var t=this._sources;if(!i.prototype.error.call(this,e))return!1;for(var r=0;r<t.length;r++)try{t[r].error(e)}catch(e){}return!0},f.prototype.lock=function(){i.prototype.lock.call(this);for(var e=this._sources,t=0;t<e.length;t++)e[t].lock()},t.exports=f},{"../utils":"dvMn","../stream/GenericWorker":"ZKdc","../utf8":"Sm7/","../crc32":"cvyR","../signature":"Ctqd"}],GTg1:[function(e,t,r){"use strict";var n=e("../compressions"),i=e("./ZipFileWorker"),a=function(e,t){var r=e||t,i=n[r];if(!i)throw new Error(r+" is not a valid compression method !");return i};r.generateWorker=function(e,t,r){var n=new i(t.streamFiles,r,t.platform,t.encodeFileName),s=0;try{e.forEach(function(e,r){s++;var i=a(r.options.compression,t.compression),o=r.options.compressionOptions||t.compressionOptions||{},u=r.dir,l=r.date;r._compressWorker(i,o).withStreamInfo("file",{name:e,dir:u,date:l,comment:r.comment||"",unixPermissions:r.unixPermissions,dosPermissions:r.dosPermissions}).pipe(n)}),n.entriesCount=s}catch(o){n.error(o)}return n}},{"../compressions":"XfO6","./ZipFileWorker":"xtj2"}],AsaI:[function(e,t,r){"use strict";var n=e("../utils"),i=e("../stream/GenericWorker");function a(e,t){i.call(this,"Nodejs stream input adapter for "+e),this._upstreamEnded=!1,this._bindStream(t)}n.inherits(a,i),a.prototype._bindStream=function(e){var t=this;this._stream=e,e.pause(),e.on("data",function(e){t.push({data:e,meta:{percent:0}})}).on("error",function(e){t.isPaused?this.generatedError=e:t.error(e)}).on("end",function(){t.isPaused?t._upstreamEnded=!0:t.end()})},a.prototype.pause=function(){return!!i.prototype.pause.call(this)&&(this._stream.pause(),!0)},a.prototype.resume=function(){return!!i.prototype.resume.call(this)&&(this._upstreamEnded?this.end():this._stream.resume(),!0)},t.exports=a},{"../utils":"dvMn","../stream/GenericWorker":"ZKdc"}],e4aZ:[function(e,t,r){"use strict";var n=e("./utf8"),i=e("./utils"),a=e("./stream/GenericWorker"),s=e("./stream/StreamHelper"),o=e("./defaults"),u=e("./compressedObject"),l=e("./zipObject"),h=e("./generate"),c=e("./nodejsUtils"),f=e("./nodejs/NodejsStreamInputAdapter"),d=function(e,t,r){var n,s=i.getTypeOf(t),h=i.extend(r||{},o);h.date=h.date||new Date,null!==h.compression&&(h.compression=h.compression.toUpperCase()),"string"==typeof h.unixPermissions&&(h.unixPermissions=parseInt(h.unixPermissions,8)),h.unixPermissions&&16384&h.unixPermissions&&(h.dir=!0),h.dosPermissions&&16&h.dosPermissions&&(h.dir=!0),h.dir&&(e=m(e)),h.createFolders&&(n=p(e))&&g.call(this,n,!0);var d="string"===s&&!1===h.binary&&!1===h.base64;r&&void 0!==r.binary||(h.binary=!d),(t instanceof u&&0===t.uncompressedSize||h.dir||!t||0===t.length)&&(h.base64=!1,h.binary=!0,t="",h.compression="STORE",s="string");var v;v=t instanceof u||t instanceof a?t:c.isNode&&c.isStream(t)?new f(e,t):i.prepareContent(e,t,h.binary,h.optimizedBinaryString,h.base64);var _=new l(e,v,h);this.files[e]=_},p=function(e){"/"===e.slice(-1)&&(e=e.substring(0,e.length-1));var t=e.lastIndexOf("/");return t>0?e.substring(0,t):""},m=function(e){return"/"!==e.slice(-1)&&(e+="/"),e},g=function(e,t){return t=void 0!==t?t:o.createFolders,e=m(e),this.files[e]||d.call(this,e,null,{dir:!0,createFolders:t}),this.files[e]};function v(e){return"[object RegExp]"===Object.prototype.toString.call(e)}var _={load:function(){throw new Error("This method has been removed in JSZip 3.0, please check the upgrade guide.")},forEach:function(e){var t,r,n;for(t in this.files)this.files.hasOwnProperty(t)&&(n=this.files[t],(r=t.slice(this.root.length,t.length))&&t.slice(0,this.root.length)===this.root&&e(r,n))},filter:function(e){var t=[];return this.forEach(function(r,n){e(r,n)&&t.push(n)}),t},file:function(e,t,r){if(1===arguments.length){if(v(e)){var n=e;return this.filter(function(e,t){return!t.dir&&n.test(e)})}var i=this.files[this.root+e];return i&&!i.dir?i:null}return e=this.root+e,d.call(this,e,t,r),this},folder:function(e){if(!e)return this;if(v(e))return this.filter(function(t,r){return r.dir&&e.test(t)});var t=this.root+e,r=g.call(this,t),n=this.clone();return n.root=r.name,n},remove:function(e){e=this.root+e;var t=this.files[e];if(t||("/"!==e.slice(-1)&&(e+="/"),t=this.files[e]),t&&!t.dir)delete this.files[e];else for(var r=this.filter(function(t,r){return r.name.slice(0,e.length)===e}),n=0;n<r.length;n++)delete this.files[r[n].name];return this},generate:function(e){throw new Error("This method has been removed in JSZip 3.0, please check the upgrade guide.")},generateInternalStream:function(e){var t,r={};try{if((r=i.extend(e||{},{streamFiles:!1,compression:"STORE",compressionOptions:null,type:"",platform:"DOS",comment:null,mimeType:"application/zip",encodeFileName:n.utf8encode})).type=r.type.toLowerCase(),r.compression=r.compression.toUpperCase(),"binarystring"===r.type&&(r.type="string"),!r.type)throw new Error("No output type specified.");i.checkSupport(r.type),"darwin"!==r.platform&&"freebsd"!==r.platform&&"linux"!==r.platform&&"sunos"!==r.platform||(r.platform="UNIX"),"win32"===r.platform&&(r.platform="DOS");var o=r.comment||this.comment||"";t=h.generateWorker(this,r,o)}catch(f){(t=new a("error")).error(f)}return new s(t,r.type||"string",r.mimeType)},generateAsync:function(e,t){return this.generateInternalStream(e).accumulate(t)},generateNodeStream:function(e,t){return(e=e||{}).type||(e.type="nodebuffer"),this.generateInternalStream(e).toNodejsStream(t)}};t.exports=_},{"./utf8":"Sm7/","./utils":"dvMn","./stream/GenericWorker":"ZKdc","./stream/StreamHelper":"2P9T","./defaults":"lUr3","./compressedObject":"PO9O","./zipObject":"geN+","./generate":"GTg1","./nodejsUtils":"c5OX","./nodejs/NodejsStreamInputAdapter":"AsaI"}],"ML/b":[function(e,t,r){"use strict";var n=e("../utils");function i(e){this.data=e,this.length=e.length,this.index=0,this.zero=0}i.prototype={checkOffset:function(e){this.checkIndex(this.index+e)},checkIndex:function(e){if(this.length<this.zero+e||e<0)throw new Error("End of data reached (data length = "+this.length+", asked index = "+e+"). Corrupted zip ?")},setIndex:function(e){this.checkIndex(e),this.index=e},skip:function(e){this.setIndex(this.index+e)},byteAt:function(e){},readInt:function(e){var t,r=0;for(this.checkOffset(e),t=this.index+e-1;t>=this.index;t--)r=(r<<8)+this.byteAt(t);return this.index+=e,r},readString:function(e){return n.transformTo("string",this.readData(e))},readData:function(e){},lastIndexOfSignature:function(e){},readAndCheckSignature:function(e){},readDate:function(){var e=this.readInt(4);return new Date(Date.UTC(1980+(e>>25&127),(e>>21&15)-1,e>>16&31,e>>11&31,e>>5&63,(31&e)<<1))}},t.exports=i},{"../utils":"dvMn"}],TCoK:[function(e,t,r){"use strict";var n=e("./DataReader");function i(e){n.call(this,e);for(var t=0;t<this.data.length;t++)e[t]=255&e[t]}e("../utils").inherits(i,n),i.prototype.byteAt=function(e){return this.data[this.zero+e]},i.prototype.lastIndexOfSignature=function(e){for(var t=e.charCodeAt(0),r=e.charCodeAt(1),n=e.charCodeAt(2),i=e.charCodeAt(3),a=this.length-4;a>=0;--a)if(this.data[a]===t&&this.data[a+1]===r&&this.data[a+2]===n&&this.data[a+3]===i)return a-this.zero;return-1},i.prototype.readAndCheckSignature=function(e){var t=e.charCodeAt(0),r=e.charCodeAt(1),n=e.charCodeAt(2),i=e.charCodeAt(3),a=this.readData(4);return t===a[0]&&r===a[1]&&n===a[2]&&i===a[3]},i.prototype.readData=function(e){if(this.checkOffset(e),0===e)return[];var t=this.data.slice(this.zero+this.index,this.zero+this.index+e);return this.index+=e,t},t.exports=i},{"./DataReader":"ML/b","../utils":"dvMn"}],wOgZ:[function(e,t,r){"use strict";var n=e("./DataReader");function i(e){n.call(this,e)}e("../utils").inherits(i,n),i.prototype.byteAt=function(e){return this.data.charCodeAt(this.zero+e)},i.prototype.lastIndexOfSignature=function(e){return this.data.lastIndexOf(e)-this.zero},i.prototype.readAndCheckSignature=function(e){return e===this.readData(4)},i.prototype.readData=function(e){this.checkOffset(e);var t=this.data.slice(this.zero+this.index,this.zero+this.index+e);return this.index+=e,t},t.exports=i},{"./DataReader":"ML/b","../utils":"dvMn"}],nR4t:[function(e,t,r){"use strict";var n=e("./ArrayReader");function i(e){n.call(this,e)}e("../utils").inherits(i,n),i.prototype.readData=function(e){if(this.checkOffset(e),0===e)return new Uint8Array(0);var t=this.data.subarray(this.zero+this.index,this.zero+this.index+e);return this.index+=e,t},t.exports=i},{"./ArrayReader":"TCoK","../utils":"dvMn"}],daDe:[function(e,t,r){"use strict";var n=e("./Uint8ArrayReader");function i(e){n.call(this,e)}e("../utils").inherits(i,n),i.prototype.readData=function(e){this.checkOffset(e);var t=this.data.slice(this.zero+this.index,this.zero+this.index+e);return this.index+=e,t},t.exports=i},{"./Uint8ArrayReader":"nR4t","../utils":"dvMn"}],"9Uuy":[function(e,t,r){"use strict";var n=e("../utils"),i=e("../support"),a=e("./ArrayReader"),s=e("./StringReader"),o=e("./NodeBufferReader"),u=e("./Uint8ArrayReader");t.exports=function(e){var t=n.getTypeOf(e);return n.checkSupport(t),"string"!==t||i.uint8array?"nodebuffer"===t?new o(e):i.uint8array?new u(n.transformTo("uint8array",e)):new a(n.transformTo("array",e)):new s(e)}},{"../utils":"dvMn","../support":"untT","./ArrayReader":"TCoK","./StringReader":"wOgZ","./NodeBufferReader":"daDe","./Uint8ArrayReader":"nR4t"}],dFUs:[function(e,t,r){"use strict";var n=e("./reader/readerFor"),i=e("./utils"),a=e("./compressedObject"),s=e("./crc32"),o=e("./utf8"),u=e("./compressions"),l=e("./support");function h(e,t){this.options=e,this.loadOptions=t}h.prototype={isEncrypted:function(){return 1==(1&this.bitFlag)},useUTF8:function(){return 2048==(2048&this.bitFlag)},readLocalPart:function(e){var t,r;if(e.skip(22),this.fileNameLength=e.readInt(2),r=e.readInt(2),this.fileName=e.readData(this.fileNameLength),e.skip(r),-1===this.compressedSize||-1===this.uncompressedSize)throw new Error("Bug or corrupted zip : didn't get enough informations from the central directory (compressedSize === -1 || uncompressedSize === -1)");if(null===(t=function(e){for(var t in u)if(u.hasOwnProperty(t)&&u[t].magic===e)return u[t];return null}(this.compressionMethod)))throw new Error("Corrupted zip : compression "+i.pretty(this.compressionMethod)+" unknown (inner file : "+i.transformTo("string",this.fileName)+")");this.decompressed=new a(this.compressedSize,this.uncompressedSize,this.crc32,t,e.readData(this.compressedSize))},readCentralPart:function(e){this.versionMadeBy=e.readInt(2),e.skip(2),this.bitFlag=e.readInt(2),this.compressionMethod=e.readString(2),this.date=e.readDate(),this.crc32=e.readInt(4),this.compressedSize=e.readInt(4),this.uncompressedSize=e.readInt(4);var t=e.readInt(2);if(this.extraFieldsLength=e.readInt(2),this.fileCommentLength=e.readInt(2),this.diskNumberStart=e.readInt(2),this.internalFileAttributes=e.readInt(2),this.externalFileAttributes=e.readInt(4),this.localHeaderOffset=e.readInt(4),this.isEncrypted())throw new Error("Encrypted zip are not supported");e.skip(t),this.readExtraFields(e),this.parseZIP64ExtraField(e),this.fileComment=e.readData(this.fileCommentLength)},processAttributes:function(){this.unixPermissions=null,this.dosPermissions=null;var e=this.versionMadeBy>>8;this.dir=!!(16&this.externalFileAttributes),0===e&&(this.dosPermissions=63&this.externalFileAttributes),3===e&&(this.unixPermissions=this.externalFileAttributes>>16&65535),this.dir||"/"!==this.fileNameStr.slice(-1)||(this.dir=!0)},parseZIP64ExtraField:function(e){if(this.extraFields[1]){var t=n(this.extraFields[1].value);this.uncompressedSize===i.MAX_VALUE_32BITS&&(this.uncompressedSize=t.readInt(8)),this.compressedSize===i.MAX_VALUE_32BITS&&(this.compressedSize=t.readInt(8)),this.localHeaderOffset===i.MAX_VALUE_32BITS&&(this.localHeaderOffset=t.readInt(8)),this.diskNumberStart===i.MAX_VALUE_32BITS&&(this.diskNumberStart=t.readInt(4))}},readExtraFields:function(e){var t,r,n,i=e.index+this.extraFieldsLength;for(this.extraFields||(this.extraFields={});e.index<i;)t=e.readInt(2),r=e.readInt(2),n=e.readData(r),this.extraFields[t]={id:t,length:r,value:n}},handleUTF8:function(){var e=l.uint8array?"uint8array":"array";if(this.useUTF8())this.fileNameStr=o.utf8decode(this.fileName),this.fileCommentStr=o.utf8decode(this.fileComment);else{var t=this.findExtraFieldUnicodePath();if(null!==t)this.fileNameStr=t;else{var r=i.transformTo(e,this.fileName);this.fileNameStr=this.loadOptions.decodeFileName(r)}var n=this.findExtraFieldUnicodeComment();if(null!==n)this.fileCommentStr=n;else{var a=i.transformTo(e,this.fileComment);this.fileCommentStr=this.loadOptions.decodeFileName(a)}}},findExtraFieldUnicodePath:function(){var e=this.extraFields[28789];if(e){var t=n(e.value);return 1!==t.readInt(1)?null:s(this.fileName)!==t.readInt(4)?null:o.utf8decode(t.readData(e.length-5))}return null},findExtraFieldUnicodeComment:function(){var e=this.extraFields[25461];if(e){var t=n(e.value);return 1!==t.readInt(1)?null:s(this.fileComment)!==t.readInt(4)?null:o.utf8decode(t.readData(e.length-5))}return null}},t.exports=h},{"./reader/readerFor":"9Uuy","./utils":"dvMn","./compressedObject":"PO9O","./crc32":"cvyR","./utf8":"Sm7/","./compressions":"XfO6","./support":"untT"}],rAgE:[function(e,t,r){"use strict";var n=e("./reader/readerFor"),i=e("./utils"),a=e("./signature"),s=e("./zipEntry"),o=(e("./utf8"),e("./support"));function u(e){this.files=[],this.loadOptions=e}u.prototype={checkSignature:function(e){if(!this.reader.readAndCheckSignature(e)){this.reader.index-=4;var t=this.reader.readString(4);throw new Error("Corrupted zip or bug: unexpected signature ("+i.pretty(t)+", expected "+i.pretty(e)+")")}},isSignature:function(e,t){var r=this.reader.index;this.reader.setIndex(e);var n=this.reader.readString(4)===t;return this.reader.setIndex(r),n},readBlockEndOfCentral:function(){this.diskNumber=this.reader.readInt(2),this.diskWithCentralDirStart=this.reader.readInt(2),this.centralDirRecordsOnThisDisk=this.reader.readInt(2),this.centralDirRecords=this.reader.readInt(2),this.centralDirSize=this.reader.readInt(4),this.centralDirOffset=this.reader.readInt(4),this.zipCommentLength=this.reader.readInt(2);var e=this.reader.readData(this.zipCommentLength),t=o.uint8array?"uint8array":"array",r=i.transformTo(t,e);this.zipComment=this.loadOptions.decodeFileName(r)},readBlockZip64EndOfCentral:function(){this.zip64EndOfCentralSize=this.reader.readInt(8),this.reader.skip(4),this.diskNumber=this.reader.readInt(4),this.diskWithCentralDirStart=this.reader.readInt(4),this.centralDirRecordsOnThisDisk=this.reader.readInt(8),this.centralDirRecords=this.reader.readInt(8),this.centralDirSize=this.reader.readInt(8),this.centralDirOffset=this.reader.readInt(8),this.zip64ExtensibleData={};for(var e,t,r,n=this.zip64EndOfCentralSize-44;0<n;)e=this.reader.readInt(2),t=this.reader.readInt(4),r=this.reader.readData(t),this.zip64ExtensibleData[e]={id:e,length:t,value:r}},readBlockZip64EndOfCentralLocator:function(){if(this.diskWithZip64CentralDirStart=this.reader.readInt(4),this.relativeOffsetEndOfZip64CentralDir=this.reader.readInt(8),this.disksCount=this.reader.readInt(4),this.disksCount>1)throw new Error("Multi-volumes zip are not supported")},readLocalFiles:function(){var e,t;for(e=0;e<this.files.length;e++)t=this.files[e],this.reader.setIndex(t.localHeaderOffset),this.checkSignature(a.LOCAL_FILE_HEADER),t.readLocalPart(this.reader),t.handleUTF8(),t.processAttributes()},readCentralDir:function(){var e;for(this.reader.setIndex(this.centralDirOffset);this.reader.readAndCheckSignature(a.CENTRAL_FILE_HEADER);)(e=new s({zip64:this.zip64},this.loadOptions)).readCentralPart(this.reader),this.files.push(e);if(this.centralDirRecords!==this.files.length&&0!==this.centralDirRecords&&0===this.files.length)throw new Error("Corrupted zip or bug: expected "+this.centralDirRecords+" records in central dir, got "+this.files.length)},readEndOfCentral:function(){var e=this.reader.lastIndexOfSignature(a.CENTRAL_DIRECTORY_END);if(e<0)throw this.isSignature(0,a.LOCAL_FILE_HEADER)?new Error("Corrupted zip: can't find end of central directory"):new Error("Can't find end of central directory : is this a zip file ? If it is, see https://stuk.github.io/jszip/documentation/howto/read_zip.html");this.reader.setIndex(e);var t=e;if(this.checkSignature(a.CENTRAL_DIRECTORY_END),this.readBlockEndOfCentral(),this.diskNumber===i.MAX_VALUE_16BITS||this.diskWithCentralDirStart===i.MAX_VALUE_16BITS||this.centralDirRecordsOnThisDisk===i.MAX_VALUE_16BITS||this.centralDirRecords===i.MAX_VALUE_16BITS||this.centralDirSize===i.MAX_VALUE_32BITS||this.centralDirOffset===i.MAX_VALUE_32BITS){if(this.zip64=!0,(e=this.reader.lastIndexOfSignature(a.ZIP64_CENTRAL_DIRECTORY_LOCATOR))<0)throw new Error("Corrupted zip: can't find the ZIP64 end of central directory locator");if(this.reader.setIndex(e),this.checkSignature(a.ZIP64_CENTRAL_DIRECTORY_LOCATOR),this.readBlockZip64EndOfCentralLocator(),!this.isSignature(this.relativeOffsetEndOfZip64CentralDir,a.ZIP64_CENTRAL_DIRECTORY_END)&&(this.relativeOffsetEndOfZip64CentralDir=this.reader.lastIndexOfSignature(a.ZIP64_CENTRAL_DIRECTORY_END),this.relativeOffsetEndOfZip64CentralDir<0))throw new Error("Corrupted zip: can't find the ZIP64 end of central directory");this.reader.setIndex(this.relativeOffsetEndOfZip64CentralDir),this.checkSignature(a.ZIP64_CENTRAL_DIRECTORY_END),this.readBlockZip64EndOfCentral()}var r=this.centralDirOffset+this.centralDirSize;this.zip64&&(r+=20,r+=12+this.zip64EndOfCentralSize);var n=t-r;if(n>0)this.isSignature(t,a.CENTRAL_FILE_HEADER)||(this.reader.zero=n);else if(n<0)throw new Error("Corrupted zip: missing "+Math.abs(n)+" bytes.")},prepareReader:function(e){this.reader=n(e)},load:function(e){this.prepareReader(e),this.readEndOfCentral(),this.readCentralDir(),this.readLocalFiles()}},t.exports=u},{"./reader/readerFor":"9Uuy","./utils":"dvMn","./signature":"Ctqd","./zipEntry":"dFUs","./utf8":"Sm7/","./support":"untT"}],"2/gt":[function(e,t,r){"use strict";var n=e("./utils"),i=e("./external"),a=e("./utf8"),s=(n=e("./utils"),e("./zipEntries")),o=e("./stream/Crc32Probe"),u=e("./nodejsUtils");function l(e){return new i.Promise(function(t,r){var n=e.decompressed.getContentWorker().pipe(new o);n.on("error",function(e){r(e)}).on("end",function(){n.streamInfo.crc32!==e.decompressed.crc32?r(new Error("Corrupted zip : CRC32 mismatch")):t()}).resume()})}t.exports=function(e,t){var r=this;return t=n.extend(t||{},{base64:!1,checkCRC32:!1,optimizedBinaryString:!1,createFolders:!1,decodeFileName:a.utf8decode}),u.isNode&&u.isStream(e)?i.Promise.reject(new Error("JSZip can't accept a stream when loading a zip file.")):n.prepareContent("the loaded zip file",e,!0,t.optimizedBinaryString,t.base64).then(function(e){var r=new s(t);return r.load(e),r}).then(function(e){var r=[i.Promise.resolve(e)],n=e.files;if(t.checkCRC32)for(var a=0;a<n.length;a++)r.push(l(n[a]));return i.Promise.all(r)}).then(function(e){for(var n=e.shift(),i=n.files,a=0;a<i.length;a++){var s=i[a];r.file(s.fileNameStr,s.decompressed,{binary:!0,optimizedBinaryString:!0,date:s.date,dir:s.dir,comment:s.fileCommentStr.length?s.fileCommentStr:null,unixPermissions:s.unixPermissions,dosPermissions:s.dosPermissions,createFolders:t.createFolders})}return n.zipComment.length&&(r.comment=n.zipComment),r})}},{"./utils":"dvMn","./external":"8JlO","./utf8":"Sm7/","./zipEntries":"rAgE","./stream/Crc32Probe":"gpbE","./nodejsUtils":"c5OX"}],"1miM":[function(e,t,r){"use strict";function n(){if(!(this instanceof n))return new n;if(arguments.length)throw new Error("The constructor with parameters has been removed in JSZip 3.0, please check the upgrade guide.");this.files={},this.comment=null,this.root="",this.clone=function(){var e=new n;for(var t in this)"function"!=typeof this[t]&&(e[t]=this[t]);return e}}n.prototype=e("./object"),n.prototype.loadAsync=e("./load"),n.support=e("./support"),n.defaults=e("./defaults"),n.version="3.2.0",n.loadAsync=function(e,t){return(new n).loadAsync(e,t)},n.external=e("./external"),t.exports=n},{"./object":"e4aZ","./load":"2/gt","./support":"untT","./defaults":"lUr3","./external":"8JlO"}],"7QCb":[function(e,t,r){"use strict";var n=this&&this.__awaiter||function(e,t,r,n){return new(r||(r=Promise))(function(i,a){function s(e){try{u(n.next(e))}catch(t){a(t)}}function o(e){try{u(n.throw(e))}catch(t){a(t)}}function u(e){e.done?i(e.value):new r(function(t){t(e.value)}).then(s,o)}u((n=n.apply(e,t||[])).next())})},i=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(r,"__esModule",{value:!0});const a=i(e("./manifest")),s=i(e("./mask/index")),o=i(e("./promisable")),u=i(e("./x3p")),l=i(e("jszip"));r.default=class extends o.default{constructor(e){super(),this.root="",this.options=e,this.name=e.file.name||e.name||"file.x3p",this.promise=new Promise(this.load.bind(this))}hasFile(e){return this.zip&&null!==this.zip.file(e)}read(e,t="text"){if(!this.zip)return;let r=this.zip.file(this.root+e);return null!==r?r.async(t):void 0}write(e,t){this.zip&&this.zip.file(this.root+e,t)}toBlob(){if(this.zip)return this.zip.generateAsync({type:"blob",compression:"DEFLATE",compressionOptions:{level:9}})}load(e,t){return n(this,void 0,void 0,function*(){let r=l.default();try{this.zip=yield r.loadAsync(this.options.file)}catch(f){return t("Invalid X3P File Specified")}const n=this.zip.file(/main\.xml$/g);if(0===n.length)return t("X3P files must contain a main.xml file");let i=n[0];n.length>0&&"main.xml"!==n[0].name&&(this.root=i.name.replace("main.xml","")),this.manifest=new a.default(yield i.async("text"));let s=yield this.getPointBuffer(),o=yield this.getMask();return e(new u.default({loader:this,manifest:this.manifest,mask:o,name:this.name,pointBuffer:s}))})}getPointBuffer(){return n(this,void 0,void 0,function*(){if(!this.manifest)return;let e=this.manifest.get("Record3 DataLink PointDataLink");return void 0!==e?yield this.read(e,"arraybuffer"):void 0})}getMask(){return n(this,void 0,void 0,function*(){if(!this.manifest||!this.zip)return;let e=yield this.getMaskData();return new s.default({manifest:this.manifest,data:e})})}getMaskData(e){let t=e?e.querySelector("Link"):null,r=null!==t?t.nodeValue:"bindata/mask.png";return this.read(r,"arraybuffer")}};var h=e("./x3p");r.X3P=h.default;var c=e("./axis");r.Axis=c.default;var f=e("./mask");r.Mask=f.default;var d=e("./manifest");r.Manifest=d.default;var p=e("./renderer");r.Renderer=p.default},{"./manifest":"Dpmo","./mask/index":"HIFI","./promisable":"FXui","./x3p":"Z35u",jszip:"1miM","./axis":"JHoi","./mask":"qa37","./renderer":"b60D"}]},{},["7QCb"]);
},{"./worker.f18b01a6.js":[["worker.f18b01a6.b725bdfa.js","6WbP"],"6WbP"],"./worker.f20abf7c.js":[["worker.f20abf7c.82bbf139.js","Ofed"],"Ofed"]}],"YTSs":[function(require,module,exports) {
"use strict";var e=this&&this.__decorate||function(e,t,r,a){var s,i=arguments.length,n=i<3?t:null===a?a=Object.getOwnPropertyDescriptor(t,r):a;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)n=Reflect.decorate(e,t,r,a);else for(var l=e.length-1;l>=0;l--)(s=e[l])&&(n=(i<3?s(n):i>3?s(t,r,n):s(t,r))||n);return i>3&&n&&Object.defineProperty(t,r,n),n},t=this&&this.__awaiter||function(e,t,r,a){return new(r||(r=Promise))(function(s,i){function n(e){try{o(a.next(e))}catch(t){i(t)}}function l(e){try{o(a.throw(e))}catch(t){i(t)}}function o(e){e.done?s(e.value):new r(function(t){t(e.value)}).then(n,l)}o((a=a.apply(e,t||[])).next())})},r=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(exports,"__esModule",{value:!0});const a=r(require("x3p.js")),s=r(require("./popup")),i=r(require("./session")),n=require("./decorators"),l=r(require("./logger"));let o=class extends HTMLElement{connectedCallback(){this.label=this.querySelector(".upload label"),this.input=this.querySelector(".upload input"),this.loadingPopup=new s.default("Loading...",["loading"]),this.setupListeners(),i.default.on("editor:ready",()=>setTimeout(()=>this.loadingPopup.hide(),1e3)),i.default.on("end",this.reset.bind(this))}setupListeners(){let e=e=>e.preventDefault();for(let t of["drag","dragstart","dragend","dragover","dragenter","dragleave","drop"])this.label.addEventListener(t,e);this.label.addEventListener("dragenter",e=>this.label.classList.add("hover")),this.label.addEventListener("dragleave",e=>this.label.classList.remove("hover")),this.label.addEventListener("drop",e=>{e.stopPropagation(),this.read(e.dataTransfer.files[0])}),this.input.addEventListener("change",e=>{e.stopPropagation(),this.read(this.input.files[0])})}read(e){return t(this,void 0,void 0,function*(){if(i.default.started)return;this.label.classList.remove("hover"),this.loadingPopup.display(),l.default.action("read started",e.name);let t=yield new a.default({file:e});l.default.action("read success",e.name),i.default.start(t,e.name)})}reset(){this.input.value=""}};e([n.time({max:5e3,reset:!0}),n.throws({message:"Please upload a valid X3P file.",classes:["upload-error"],reset:!0})],o.prototype,"read",null),o=e([n.CustomElement("uploader")],o),exports.default=o;
},{"x3p.js":"6+Bn","./popup":"Ke36","./session":"eeV9","./decorators":"B3YG","./logger":"RUKh"}],"1zpL":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0});const e={"&nbsp;":" "},t=Object.keys(e).map(t=>({find:new RegExp(`${t}`,"g"),replace:e[t]}));function r(e){for(let r of t)e=e.replace(r.find,r.replace);return e}exports.default=r;
},{}],"vGCO":[function(require,module,exports) {
"use strict";var t=this&&this.__decorate||function(t,e,i,n){var a,r=arguments.length,o=r<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,i):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(t,e,i,n);else for(var s=t.length-1;s>=0;s--)(a=t[s])&&(o=(r<3?a(o):r>3?a(e,i,o):a(e,i))||o);return r>3&&o&&Object.defineProperty(e,i,o),o},e=this&&this.__awaiter||function(t,e,i,n){return new(i||(i=Promise))(function(a,r){function o(t){try{d(n.next(t))}catch(e){r(e)}}function s(t){try{d(n.throw(t))}catch(e){r(e)}}function d(t){t.done?a(t.value):new i(function(e){e(t.value)}).then(o,s)}d((n=n.apply(t,e||[])).next())})},i=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(exports,"__esModule",{value:!0});const n=i(require("./popup")),a=require("./decorators"),r=i(require("./logger")),o=i(require("./session")),s=i(require(".")),d=i(require("./sanitize")),l="",u="data-view",c={date:"datetime-local"},h={MD5ChecksumPointData:"MD5 Checksum"};let p=class extends HTMLElement{connectedCallback(){this.nav=this.querySelector("nav"),this.main=this.querySelector("main"),this.stage=this.querySelector("fix3p-stage"),this.backbtn=this.querySelector(".back"),this.backbtn.onclick=o.default.end.bind(o.default),this.setupShortcuts(),o.default.on("start",this.display.bind(this)),o.default.on("end",this.reset.bind(this))}reset(){this.nav.innerHTML="",this.main.innerHTML="",this.tab=1}get tab(){return parseInt(this.getAttribute(u))}set tab(t){this.setAttribute(u,t.toString())}generate(t){r.default.action("editor generation started",o.default.filename),this.count=0,this.reset(),this.setupDownloadButton(),this.inputify(t,this.main),r.default.action("editor generation completed",o.default.filename)}inputify(t,e){for(let i of t.children){let t={"data-tag":i.tagName};for(let e of i.getAttributeNames())t[`data-${e}`]=i.getAttribute(e);let n=document.createEasy("div",{attrs:t});if(i.children.length>0||"section"===i.getAttribute("type"))n=this.inputify(i,n),i.tagName.match(/^Record/g)?this.nav.appendChild(this.createTab(i.tagName)):n.insertBefore(this.createHeading(i.tagName),n.children[0]);else{let t="Annotation"===i.tagName?i.getAttribute("color"):i.tagName;n.appendChild(this.createLabel(t,"x3p$"+this.count)),n.appendChild(this.createInput("x3p$"+this.count,i,i.hasAttribute("disabled"))),this.count++}e.appendChild(n)}return e}createTab(t){let e=document.createEasy("div",{props:{innerHTML:this.prettify(t)},attrs:{"data-target":t},classes:["tab"]});return e.onclick=(t=>{this.setAttribute("data-view",e.index().toString())}),e}createHeading(t){return document.createEasy("h3",{props:{innerHTML:this.prettify(t)}})}createLabel(t,e){return document.createEasy("label",{props:{innerHTML:this.prettify(t)+":"},attrs:{for:e}})}createInput(t,e,i=!1){let n=e.getAttribute("type")in c?c[e.getAttribute("type")]:"text",a=document.createEasy("input",{props:{type:n,value:e.innerHTML,id:t}}),r=this.stage.annotations;return a.addEventListener("keyup",function(t){if(e.innerHTML=d.default(this.value),"Annotation"===e.tagName){let t=e.getAttribute("color");s.default.render&&r&&r.set(t,this.value)}}),i&&a.setAttribute("disabled","disabled"),a}display(t){let e=t.manifest.getTree(),i=e.querySelector("body");i&&i.parentElement.removeChild(i),this.generate(e.children[0]),o.default.emit("editor:ready",t)}prettify(t){if(t in h)return h[t];let e="";for(let i=0;i<t.length;i++)0!==i&&isNaN(t[i])&&t[i]===t[i].toUpperCase()&&t[i-1]===t[i-1].toLowerCase()&&(e+=" "),e+=t[i];return e}download(t){return e(this,void 0,void 0,function*(){if(!o.default.started)return;t.preventDefault();let e=o.default.x3p;yield e.save();let i=new n.default("Compressing...");i.display(),yield e.download(),r.default.action("file downloaded",o.default.filename),i.update('\n            Continue editing this file? \n            <div class="popup-btns">\n                <div id="continue-yes" class="popup-btn">Yes</div>\n                <div id="continue-no" class="popup-btn">No</div>\n            </div>\n        '),i.el.querySelector("#continue-yes").onclick=(t=>i.hide(!0)),i.el.querySelector("#continue-no").onclick=(t=>{i.hide(!0),setTimeout(()=>o.default.end(),500)})})}setupDownloadButton(){let t=document.createEasy("a",{props:{href:"#"},classes:["tab"]});t.innerHTML='<i class="fas fa-download"></i> Download</a>',t.onclick=this.download.bind(this),this.nav.appendChild(t)}downloadShortcut(t){if((t.ctrlKey||t.metaKey)&&83===t.which)return t.preventDefault(),this.download(t),!0}closeShortcut(t){if(27===t.which&&null===document.fullscreenElement)return t.preventDefault(),o.default.end(),!0}setupShortcuts(){window.addEventListener("keydown",t=>{o.default.started&&(this.downloadShortcut(t),this.closeShortcut(t))})}};t([a.time({max:5e3}),a.throws({message:"An error occurred."})],p.prototype,"download",null),p=t([a.CustomElement("editor")],p),exports.default=p;
},{"./popup":"Ke36","./decorators":"B3YG","./logger":"RUKh","./session":"eeV9",".":"GNRR","./sanitize":"1zpL"}],"qob1":[function(require,module,exports) {
"use strict";var e,o,t;function E(e){return"number"==typeof e&&e>=exports.CLAMP_LOWER&&e<=exports.CLAMP_UPPER}function r(e){if(!E(e))throw new Error(exports.CLAMP_ERROR)}Object.defineProperty(exports,"__esModule",{value:!0}),exports.CLAMP_ERROR="Not a valid component value",exports.CLAMP_UPPER=255,exports.CLAMP_LOWER=0,function(e){e.RED="r",e.GREEN="g",e.BLUE="b",e.ALPHA="a"}(e=exports.KEYS||(exports.KEYS={})),function(e){e[e.RED=24]="RED",e[e.GREEN=16]="GREEN",e[e.BLUE=8]="BLUE",e[e.ALPHA=0]="ALPHA"}(o=exports.BIT_OFFSETS||(exports.BIT_OFFSETS={})),function(e){e[e.RED=4278190080]="RED",e[e.GREEN=16711680]="GREEN",e[e.BLUE=65280]="BLUE",e[e.ALPHA=255]="ALPHA"}(t=exports.BIT_MASKS||(exports.BIT_MASKS={})),exports.isValidComponentValue=E,exports.validateComponent=r;
},{}],"I86Q":[function(require,module,exports) {
"use strict";var e=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(exports,"__esModule",{value:!0});const t=require("./component"),s=e(require("./index")),o="Not a valid rgb value";var n;!function(e){e.OPENING_BRACE="(",e.OPENING_VALUES="rgba",e.NUMBERS="0123456789.",e.CLOSERS=",)",e.SPACE=" ",e.INVALID=""}(n||(n={}));class r{constructor(e){this.componentIndex=0,this.componentCount=3,this.sourceComponents=["","","",""],this.parsedComponents=[],this.source=e.source.toLowerCase(),this.target=e.target||new s.default,this.parse()}getOp(e){for(let t in n)if(n[t].includes(e))return n[t];return n.INVALID}parse(){for(let t=0;t<this.source.length;t++){let e=this.source[t];switch(this.getOp(e)){case n.OPENING_VALUES:this.parseOpeningValues(t,e);break;case n.OPENING_BRACE:this.parseOpeningBrace(t,e);break;case n.NUMBERS:this.parseNumbers(t,e);break;case n.SPACE:break;case n.CLOSERS:this.parseClosers(t,e);break;default:case n.INVALID:throw new Error(o)}}if(this.parsedComponents.length<this.componentCount)throw new Error(o);let e=this.parsedComponents.length;for(let t=0;t<e;++t)this.target.value|=this.parsedComponents[t]<<24-8*t;e<4&&(this.target.value|=255)}parseOpeningValues(e,t){if(n.OPENING_VALUES.indexOf(t)!==e)throw new Error(o);t===n.OPENING_VALUES[3]&&++this.componentCount}parseOpeningBrace(e,t){if(e!==this.componentCount)throw new Error(o)}parseNumbers(e,t){if("."===t&&this.componentIndex<3)throw new Error(o);this.sourceComponents[this.componentIndex]+=t}parseClosers(e,s){let n;if(3===this.componentIndex?(n=parseFloat(this.sourceComponents[this.componentIndex]),n=Math.floor(n*t.CLAMP_UPPER)):n=parseInt(this.sourceComponents[this.componentIndex]),++this.componentIndex>this.componentCount||!t.isValidComponentValue(n))throw new Error(o);this.parsedComponents[this.componentIndex-1]=n}}exports.default=r;
},{"./component":"qob1","./index":"f6As"}],"f6As":[function(require,module,exports) {
"use strict";var t,e=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(exports,"__esModule",{value:!0});const r=require("./component"),s=e(require("./functional-parser")),i="Not a valid hexadecimal",o=[3,4,6,8];var a;!function(t){t[t.Color32=0]="Color32",t[t.Color24=2]="Color24",t[t.Color16=4]="Color16",t[t.Color8=6]="Color8"}(a=exports.Precision||(exports.Precision={}));const n=Symbol("The color's 32 bit value");class h{constructor(e){if(this[t]=0,void 0!==e)switch(e[0]){case"r":h.parseFunctional(e,this);break;case"#":h.parseHex(e,this)}}get value(){return this[n]}set value(t){this[n]=t}get l(){return Math.ceil(.2126*this.r+.7152*this.g+.0722*this.b)}get hex8(){return"#"+("00000000"+this.value.toString(16)).slice(-8)}get hex6(){return this.hex8.substring(0,7)}get rgba(){return`rgba(${this.r}, ${this.g}, ${this.b}, ${this.a/255})`}get rgb(){return`rgb(${this.r}, ${this.g}, ${this.b})`}get hex(){return this.a<255?this.hex8:this.hex6}get isDark(){return this.l<128}get isLight(){return this.l>128}dropPrecisionTo(t){this.r=(this.r>>>t)/(255>>>t)*255,this.g=(this.g>>>t)/(255>>>t)*255,this.b=(this.b>>>t)/(255>>>t)*255,this.a=(this.a>>>t)/(255>>>t)*255}distanceTo(t){return h.distanceBetween(this,t)}static distanceBetween(t,e){let r=(t.r+e.r)/2,s=Math.abs(t.r-e.r),i=Math.abs(t.g-e.g),o=Math.abs(t.b-e.b);return Math.sqrt(((512+r)*s*4>>8)+4*i*i+((767-r)*o*o>>8))}static parseHex(t,e=new h){let r=t[0],s=t.substring(1),a=s.length;if("#"!==r||!o.includes(a))throw new Error(i);if(3===a||4===a){let t="";for(let e=0;e<a;++e)t+=s[e]+s[e];s=t,a*=2}return 6===a&&(s+="ff"),e.value=parseInt(s,16),e}static parseFunctional(t,e=new h){new s.default({source:t,target:e})}}t=n;for(let l in r.KEYS){let t=r.KEYS[l],e=r.BIT_OFFSETS[l],s=r.BIT_MASKS[l],i=~s>>>0;Object.defineProperty(h.prototype,t,{get:function(){return this.value>>>e&r.CLAMP_UPPER},set:function(t){r.validateComponent(t);let o=t<<e>>>0,a=(i&this.value)>>>0,n=(o&s)>>>0;this.value=(a|n)>>>0}})}exports.default=h;
},{"./component":"qob1","./functional-parser":"I86Q"}],"nSpO":[function(require,module,exports) {
"use strict";var t=this&&this.__decorate||function(t,e,i,o){var r,n=arguments.length,a=n<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,i):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,i,o);else for(var s=t.length-1;s>=0;s--)(r=t[s])&&(a=(n<3?r(a):n>3?r(e,i,a):r(e,i))||a);return n>3&&a&&Object.defineProperty(e,i,a),a},e=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(exports,"__esModule",{value:!0});const i=require("../decorators"),o=e(require("../session")),r=e(require("../sanitize")),n=e(require("@talenfisher/color"));let a=class extends HTMLElement{connectedCallback(){this.contentEditable="true",this.color=this.getAttribute("color"),this.setupListeners()}get ready(){return new Promise((t,e)=>{let i=setInterval(()=>{null!==this.onactivate&&(clearInterval(i),t(this))},50)})}get color(){return this.getAttribute("color")}set color(t){let e=new n.default(t);this.setAttribute("color",e.hex),this.style.background=e.hex,this.style.color=e.isDark?"white":"black"}get active(){return this.hasAttribute("active")}set active(t){t?(this.setAttribute("active",""),this.dispatchEvent(new CustomEvent("activate")),this.onactivate&&this.onactivate()):this.removeAttribute("active")}get value(){return this.innerHTML}set value(t){let e=this.value;this.innerHTML=t,t!==e&&this.dispatchEvent(new Event("change"))}toggle(){this.active=!this.active}setupListeners(){this.onclick=(()=>{this.active=!0,document.querySelector("fix3p-colorswitcher").value=this.color}),this.onkeyup=(()=>{let t=r.default(this.value),e=o.default.x3p.mask.annotations,i=this.color,n=o.default.x3p,a=document.querySelector(`[data-tag="Annotation"][data-color="${i}"] input`);if(e[i]=t,a)a.value=t;else{let t=document.querySelector('[data-tag="Annotations"]'),e={children:[n.manifest.getNode(`Annotation[color="${i}"]`)]};if(!t){let i=document.querySelector('[data-tag="Mask"]');if(!i)return;e={children:[n.manifest.getNode("Record3 Mask Annotations")]},t=i}document.querySelector("fix3p-editor").inputify(e,t)}}),o.default.on("paint:color-switch",t=>{t!==this.color||this.active||(this.active=!0)})}static create(t,e=""){let i=document.createElement("fix3p-annotation");return i.color=t,i.value=e,i}};a=t([i.CustomElement("annotation")],a),exports.default=a;
},{"../decorators":"B3YG","../session":"eeV9","../sanitize":"1zpL","@talenfisher/color":"f6As"}],"RpYP":[function(require,module,exports) {
"use strict";var e=this&&this.__decorate||function(e,t,n,i){var a,o=arguments.length,s=o<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,n):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,n,i);else for(var r=e.length-1;r>=0;r--)(a=e[r])&&(s=(o<3?a(s):o>3?a(t,n,s):a(t,n))||s);return o>3&&s&&Object.defineProperty(t,n,s),s},t=this&&this.__awaiter||function(e,t,n,i){return new(n||(n=Promise))(function(a,o){function s(e){try{h(i.next(e))}catch(t){o(t)}}function r(e){try{h(i.throw(e))}catch(t){o(t)}}function h(e){e.done?a(e.value):new n(function(t){t(e.value)}).then(s,r)}h((i=i.apply(e,t||[])).next())})},n=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(exports,"__esModule",{value:!0});const i=require("../decorators"),a=n(require("./annotation")),o=n(require("../session"));let s=class extends HTMLElement{connectedCallback(){this.panorama=this.createPanorama(),new MutationObserver(e=>{for(let t of e){if("childList"!==t.type||0===t.addedNodes.length)return;t.addedNodes.forEach(e=>{"fix3p-annotation"===e.nodeName.toLowerCase()&&(e.onactivate=(()=>this.view(e)))})}}).observe(this.panorama,{childList:!0}),this.panorama.innerHTML=this.innerHTML,this.innerHTML="",this.appendChild(this.panorama),this.setupListeners()}view(e){this.querySelectorAll("fix3p-annotation").forEach(t=>{t!==e&&(t.active=!1)});let t=this.offsetWidth/2,n=e.offsetWidth/2,i=t-e.offsetLeft-n;this.panorama.style.transform=`translate(${i}px)`,this.activeAnnotation=e}has(e){return null!==this.getNode(e)}get(e){return this.has(e)?this.getNode(e).innerHTML:void 0}getNode(e){return this.querySelector(`fix3p-annotation[color="${e}"]`)}set(e,t){if(this.has(e)){this.getNode(e).value=t}else{let n=a.default.create(e,t);this.panorama.appendChild(n)}}reset(){this.panorama.innerHTML=""}createPanorama(){let e=this.ownerDocument.createElement("div");return e.classList.add("annotations-panorama"),e}setupListeners(){window.addEventListener("resize",()=>this.view(this.activeAnnotation)),document.addEventListener("fullscreenchange",()=>this.view(this.activeAnnotation)),o.default.on("end",this.reset.bind(this)),o.default.on("paint:color-switch",e=>t(this,void 0,void 0,function*(){if(!this.has(e)&&e!==o.default.backgroundColor){this.set(e,"");let t=this.getNode(e),n=o.default.x3p.mask.annotations[e];yield t.ready,t.active=!0,t.value=n||""}}))}};s=e([i.CustomElement("annotations")],s),exports.default=s;
},{"../decorators":"B3YG","./annotation":"nSpO","../session":"eeV9"}],"lJvd":[function(require,module,exports) {
"use strict";var e=this&&this.__decorate||function(e,t,r,s){var i,o=arguments.length,a=o<3?t:null===s?s=Object.getOwnPropertyDescriptor(t,r):s;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,r,s);else for(var l=e.length-1;l>=0;l--)(i=e[l])&&(a=(o<3?i(a):o>3?i(t,r,a):i(t,r))||a);return o>3&&a&&Object.defineProperty(t,r,a),a},t=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(exports,"__esModule",{value:!0});const r=t(require("../../session")),s=t(require("../../logger")),i=require("../../decorators");let o=class extends HTMLElement{connectedCallback(){this.validateType(this.type),this.setupListeners()}get type(){return this.getAttribute("type")}set type(e){this.validateType(e),this.setAttribute("type",e)}validateType(e){if(!["undo","redo"].includes(this.type))throw new Error("fix3p-historybutton must have a type equal to undo or redo")}setupListeners(){this.onclick=(e=>{if(!r.default.started)return;let t=r.default.x3p.mask.canvas,i=r.default.texture,o=r.default.renderer;t[this.type](),i.setPixels(t.el),o.drawMesh(),s.default.action(`attempted ${this.type}`,r.default.filename)})}};o=e([i.CustomElement("historybutton")],o),exports.default=o;
},{"../../session":"eeV9","../../logger":"RUKh","../../decorators":"B3YG"}],"uRSH":[function(require,module,exports) {
"use strict";var e=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(exports,"__esModule",{value:!0});const t=e(require("../../session"));exports.DEFAULT_COLOR="#1f376c",exports.DEFAULT_COLOR_RGB="rgb(31, 55, 108)";class s{constructor(e){this.color={},this.listeners={mousedown:e=>this.dispatch.apply(this,[e,"begin"]),mousemove:e=>this.dispatch.apply(this,[e,"move"]),mouseup:e=>this.dispatch.apply(this,[e,"end"])},this.stage=e.stage,this.editor=e.editor;let s=e.stage;this.btn=s.querySelector(".fa-paint-brush"),this.tray=s.querySelector(".pane-paint-tray"),this.undoButton=s.querySelector('fix3p-historybutton[type="undo"]'),this.redoButton=s.querySelector('fix3p-historybutton[type="redo"]'),this.colorSwitcher=s.querySelector("fix3p-colorswitcher"),this.sizeSlider=s.querySelector("fix3p-sizeslider"),this.modeSwitcher=s.querySelector("fix3p-modeswitcher"),this.setupListeners(),t.default.on("render",this.update.bind(this))}update(){this.colorSwitcher.value=exports.DEFAULT_COLOR}setupListeners(){this.btn.onclick=(e=>{if(!t.default.renderer)return;let s=this.stage.toggleMode("paint");t.default.renderer.mode=s?"still":"normal",s?this.attachCanvasListeners():this.detachCanvasListeners()})}attachCanvasListeners(){let e=this.stage.canvas;for(let t in this.listeners)e.addEventListener(t,this.listeners[t])}detachCanvasListeners(){let e=this.stage.canvas;for(let t in this.listeners)e.removeEventListener(t,this.listeners[t])}dispatch(e,s){if(!t.default.renderer)return;if(2===e.button)return this.handleRightClick(e);let r=t.default.brush,i=t.default.renderer.selection,a=t.default.x3p.mask,n=t.default.texture,o=a.canvas.el;i&&r[s]&&("begin"===s||r.active)&&(r[s].apply(r,i.index),requestAnimationFrame(()=>{n.setPixels(o),t.default.renderer.drawMesh()}))}handleRightClick(e){let s=t.default.renderer.selection;t.default.x3p.mask&&s&&s.color&&(this.colorSwitcher.value=s.color.substring(0,7))}}exports.default=s;
},{"../../session":"eeV9"}],"cUps":[function(require,module,exports) {
"use strict";function e(e){if(!e||!e.match(/rgb\([0-9]+, [0-9]+, [0-9]+\)/g))return e;let r="#";e=(e=e.replace("rgb(","")).replace(")","");for(let t of e.split(",")){t=t.trim();let e=Number(t).toString(16);r+=1===e.length?`0${e}`:e}return r}Object.defineProperty(exports,"__esModule",{value:!0}),exports.rgbToHex=e;
},{}],"135L":[function(require,module,exports) {
"use strict";var e=this&&this.__decorate||function(e,t,r,i){var o,s=arguments.length,l=s<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,r):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)l=Reflect.decorate(e,t,r,i);else for(var n=e.length-1;n>=0;n--)(o=e[n])&&(l=(s<3?o(l):s>3?o(t,r,l):o(t,r))||l);return s>3&&l&&Object.defineProperty(t,r,l),l},t=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(exports,"__esModule",{value:!0});const r=t(require("../../session")),i=t(require("../../logger")),o=require("../../decorators"),s=require("./"),l=require("../../color");let n=class extends HTMLElement{connectedCallback(e){this.overlay=this.querySelector(".input-overlay"),this.input=this.querySelector("input"),this.setupListeners(),r.default.on("start",this.reset.bind(this))}get value(){return l.rgbToHex(this.input.value)}set value(e){this.input.value=e,this.input.dispatchEvent(new Event("change"))}reset(){this.input.value=s.DEFAULT_COLOR,this.overlay.style.backgroundColor=s.DEFAULT_COLOR}setupListeners(){this.input.onchange=(e=>{if(!r.default.started)return;let t=this.value;r.default.paintColor=l.rgbToHex(t),this.overlay.style.backgroundColor=t,i.default.action(`switched color to ${t}`,r.default.filename)})}};n=e([o.CustomElement("colorswitcher")],n),exports.default=n;
},{"../../session":"eeV9","../../logger":"RUKh","../../decorators":"B3YG","./":"uRSH","../../color":"cUps"}],"uulw":[function(require,module,exports) {
"use strict";var e=this&&this.__decorate||function(e,t,s,r){var i,u=arguments.length,a=u<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,s):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,s,r);else for(var l=e.length-1;l>=0;l--)(i=e[l])&&(a=(u<3?i(a):u>3?i(t,s,a):i(t,s))||a);return u>3&&a&&Object.defineProperty(t,s,a),a},t=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(exports,"__esModule",{value:!0});const s=t(require("../../session")),r=t(require("../../logger")),i=require("../../decorators");let u=class extends HTMLElement{connectedCallback(){this.input=this.querySelector("input"),this.setupListeners(),s.default.on("render",this.reset.bind(this))}reset(){s.default.started&&(this.value=.15,this.updateBrushSize())}get value(){return Number(this.input.value)/100}set value(e){!s.default.started||e<0||e>1||(this.input.value=(100*e).toString())}get maxBrushSize(){if(!s.default.started)return 0;let{x:e,y:t}=s.default.x3p.axes;return e.size/t.size*100}setupListeners(){this.input.onchange=this.updateBrushSize.bind(this)}updateBrushSize(){if(!s.default.started)return;let e=s.default.brush;e.size=Math.ceil(this.value*this.maxBrushSize),r.default.action(`brush size changed to ${e.size}`,s.default.filename)}};u=e([i.CustomElement("sizeslider")],u),exports.default=u;
},{"../../session":"eeV9","../../logger":"RUKh","../../decorators":"B3YG"}],"XOiu":[function(require,module,exports) {
"use strict";var e=this&&this.__decorate||function(e,t,s,r){var l,a=arguments.length,o=a<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,s):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(e,t,s,r);else for(var u=e.length-1;u>=0;u--)(l=e[u])&&(o=(a<3?l(o):a>3?l(t,s,o):l(t,s))||o);return a>3&&o&&Object.defineProperty(t,s,o),o},t=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(exports,"__esModule",{value:!0});const s=t(require("../../session")),r=t(require("../../logger")),l=require("../../decorators");let a=class extends HTMLElement{connectedCallback(){this.select=this.querySelector("select"),this.setupListeners(),s.default.on("render",e=>this.value="Paint")}get value(){return this.select.value}set value(e){s.default.started&&(this.select.value=e,this.updateBrush())}setupListeners(){this.select.onchange=(e=>{s.default.paintMode=this.value,this.updateBrush()})}updateBrush(){if(!s.default.started||!s.default.brush)return;let e=s.default.x3p,t=s.default.brush,l=s.default.paintColor;switch(this.value){case"Paint":t.fillPolygons=!1,t.color=l;break;case"Lasso":t.fillPolygons=!0,t.color=l;break;case"Eraser":t.fillPolygons=!1,t.color=e.manifest.get("Record3 Mask Background")}r.default.action(`annotator mode switched to ${this.value.toLowerCase()}`,s.default.filename)}};a=e([l.CustomElement("modeswitcher")],a),exports.default=a;
},{"../../session":"eeV9","../../logger":"RUKh","../../decorators":"B3YG"}],"3RdD":[function(require,module,exports) {
"use strict";var e=this&&this.__decorate||function(e,t,r,n){var i,s=arguments.length,a=s<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,r):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,r,n);else for(var o=e.length-1;o>=0;o--)(i=e[o])&&(a=(s<3?i(a):s>3?i(t,r,a):i(t,r))||a);return s>3&&a&&Object.defineProperty(t,r,a),a},t=this&&this.__awaiter||function(e,t,r,n){return new(r||(r=Promise))(function(i,s){function a(e){try{d(n.next(e))}catch(t){s(t)}}function o(e){try{d(n.throw(e))}catch(t){s(t)}}function d(e){e.done?i(e.value):new r(function(t){t(e.value)}).then(a,o)}d((n=n.apply(e,t||[])).next())})},r=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(exports,"__esModule",{value:!0}),require("./annotation"),require("./annotations"),require("./paint/history-button"),require("./paint/color-switcher"),require("./paint/size-slider"),require("./paint/mode-switcher");const n=r(require("./paint/index")),i=r(require("../session")),s=require("../decorators"),a=r(require("../logger")),o=r(require("../"));let d=class extends HTMLElement{connectedCallback(){this.annotations=this.querySelector("fix3p-annotations"),this.canvas=this.querySelector("canvas"),this.paint=new n.default({stage:this,editor:document.querySelector("fix3p-editor")}),this.setupFullscreenBtn(),i.default.on("editor:ready",this.render.bind(this)),i.default.on("end",this.reset.bind(this))}get enabled(){return!this.hasAttribute("disabled")}set enabled(e){e?this.removeAttribute("disabled"):this.setAttribute("disabled","disabled"),a.default.action(`rendering ${e?"enabled":"disabled"}`,i.default.filename)}get mode(){return this.getAttribute("data-mode")}set mode(e){this.setAttribute("data-mode",e),a.default.action(`stage mode set to ${e}`,i.default.filename)}get ready(){return this.hasAttribute("ready")}set ready(e){e?this.setAttribute("ready",""):this.removeAttribute("ready")}toggleMode(e){if(!this.ready)return;let t=this.mode===e?"normal":e;return this.mode=t,t===e}reset(){this.mode="normal",this.ready=!1}render(e){return t(this,void 0,void 0,function*(){if(this.enabled=o.default.render,!this.enabled||!i.default.started||!i.default.x3p)return;i.default.renderer=e.render(this.canvas,{decimationFactor:o.default.decimation});let t=i.default.x3p.mask;t.on("loaded",()=>{let e=t.getTexture(void 0),r=t.colors,n=t.color;e.setPixels(t.canvas.el),i.default.renderer.drawMesh();for(let i of r){let e=i.hex6;e!==n&&this.annotations.set(e,t.annotations[e]||"")}this.ready=!0}),a.default.action("rendering started",i.default.filename)})}setupFullscreenBtn(){let e=this.fullscreenBtn=this.querySelector(".fa-expand");e.onclick=(e=>{this.enabled&&i.default.started&&(null===document.fullscreenElement?this.requestFullscreen():document.exitFullscreen())}),document.onfullscreenchange=(t=>{null===document.fullscreenElement?e.classList.remove("active"):e.classList.add("active")})}};e([s.throws({message:"An error occured while rendering."})],d.prototype,"render",null),d=e([s.CustomElement("stage")],d),exports.default=d;
},{"./annotation":"nSpO","./annotations":"RpYP","./paint/history-button":"lJvd","./paint/color-switcher":"135L","./paint/size-slider":"uulw","./paint/mode-switcher":"XOiu","./paint/index":"uRSH","../session":"eeV9","../decorators":"B3YG","../logger":"RUKh","../":"GNRR"}],"GNRR":[function(require,module,exports) {
"use strict";require("core-js/modules/web.timers"),require("core-js/modules/web.immediate"),require("core-js/modules/web.dom.iterable");var e=function(e,t,r,o){return new(r||(r=Promise))(function(i,n){function u(e){try{a(o.next(e))}catch(t){n(t)}}function l(e){try{a(o.throw(e))}catch(t){n(t)}}function a(e){e.done?i(e.value):new r(function(t){t(e.value)}).then(u,l)}a((o=o.apply(e,t||[])).next())})},t=function(e){return e&&e.__esModule?e:{default:e}},r=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)Object.hasOwnProperty.call(e,r)&&(t[r]=e[r]);return t.default=e,t};Object.defineProperty(exports,"__esModule",{value:!0}),require("@webcomponents/webcomponentsjs"),require("fullscreen-api-polyfill");const o=t(require("./session")),i=t(require("./popup")),n=t(require("axios")),u=r(require("./logger"));require("./dom/setup"),require("./panorama"),require("./uploader"),require("./editor"),require("./stage");class l{constructor(){this.session=o.default,this.extLoaded=!1,this.render=!0,this.reporting="on"===localStorage.getItem("reporting"),this.version=document.querySelector('meta[name="fix3p.version"]').getAttribute("value"),this.decimation=Number(localStorage.getItem("decimation")),u.setup(this),this.checkForExtension(),document.on("WebComponentsReady",()=>{let e=localStorage.getItem("openfile");console.log(e),this.init(e)})}checkForExtension(){try{void 0!==window.chrome.runtime.id&&(this.extLoaded=!0)}catch(e){u.default.info("chrome extension not detected")}}init(t){return e(this,void 0,void 0,function*(){if(null===t)return;let e=new i.default("");try{localStorage.removeItem("openfile"),e.update("Reading file..."),e.display();let o=yield this.readLocalFile(t),i=document.querySelector("fix3p-uploader");e.hide(!0),i.read(o)}catch(r){e.update("Error reading X3P file."),e.display(2,!0),u.default.error("read error",t)}})}readLocalFile(t){return e(this,void 0,void 0,function*(){let e=(yield n.default.get(t,{headers:{Accept:"*/*","X-Requested-With":"fix3p"},responseType:"blob"})).data;return new File([e],t)})}}const a=new l;window.fix3p=a,exports.default=a;
},{"core-js/modules/web.timers":"OTsy","core-js/modules/web.immediate":"5hZL","core-js/modules/web.dom.iterable":"v6Aj","@webcomponents/webcomponentsjs":"8bvO","fullscreen-api-polyfill":"A0pT","./session":"eeV9","./popup":"Ke36","axios":"dZBD","./logger":"RUKh","./dom/setup":"VQrb","./panorama":"tzYZ","./uploader":"YTSs","./editor":"vGCO","./stage":"3RdD"}]},{},["GNRR"], null)